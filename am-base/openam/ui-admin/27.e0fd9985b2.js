(window.webpackJsonp=window.webpackJsonp||[]).push([[27,296],{1233:function(e,t,n){var r=n(158);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return'<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway">\n    <i class="fa fa-info-circle"></i>\n</a>\n'},useData:!0})},1400:function(e,t,n){"use strict";n(50),n(144);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),c=n(41),s=n(88);t.a=function(e){var t=function(t){var n=c.a.currentRoute,r=c.a.extractParameters(n,s.a.getCurrentFragment()),o=c.a.applyDefaultParameters(n,r),u={params:a.a.map(o,function(e){return e?decodeURIComponent(e):""})};return i.a.createElement(e,a.a.extend({},t,{router:u}))};return t.displayName="withRouter(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t.WrappedComponent=e,t}},1401:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=a.a.shape({params:a.a.array.isRequired});t.a=o},1402:function(e,t,n){"use strict";n(144),n(81);var r=n(1424),a=n(1),o=n.n(a),i=n(64);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=r.a.apply(void 0,n)(e),u=function(e){return o.a.createElement(s,c({},e,{store:i.a}))};return u.displayName="connectWithStore(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),u.WrappedComponent=e,u}},1403:function(e,t,n){"use strict";n(143),n(63),n(33),n(27),n(19),n(34),n(1413);var r=n(2),a=n.n(r),o=n(14),i=n.n(o),c=n(100),s=n.n(c),u=n(1414),l=n.n(u),p=n(1233),f=n.n(p),d=n(1416),m=n(214),h=n(142),b=n(1411);function y(e,t){var n=t.schema,r=t.values,a=t.hideInheritance,o=void 0!==a&&a;l.a.plugins.selectize.enable=!0,l.a.plugins.selectize.plugins=function(e){return[{name:"enum_plugin",options:{schema:e}}]},l.a.defaults.themes.openam=d.a.getTheme(6,4);var c=n.toFlatWithInheritanceMeta(r),s=r.removeInheritance();c=c.raw,s=s.raw;var u=new l.a(e[0],{disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,hide_inheritance:o,iconlib:"fontawesome4",schema:c,theme:"openam"});return function(e){var t=f()();i()(e).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(e,n){var r=i()(t);r.popoverclickaway({container:"#content",html:!0,placement:"auto top",content:n.innerHTML}).click(function(e){e.preventDefault()}),i()(n).parent().append(r)})}(e),function(e){i()(e).find("input:password").attr("placeholder",i.a.t("common.form.passwordPlaceholder"))}(e),u.setValue(s),u}n.n(b).a.define("enum_plugin",function(e){var t,n=this,r=arguments,o=e.schema,i=a.a.indexOf(o.enum,"");i>-1?(n.plugins.settings.dropdown_header={title:o.options.enum_titles[i]},n.require("dropdown_header"),n.setup=(t=n.setup,function(){t.apply(n,r),n.$dropdown.on("mousedown",".selectize-dropdown-header",function(){return n.setValue(""),n.close(),n.blur(),!1})})):function(){var e;n.deleteSelection=(e=n.deleteSelection,function(t){return!!function(e){return!e||8!==e.keyCode}(t)&&e.apply(n,r)})}()});var v=s.a.View.extend({className:"jsoneditor-block",initialize:function(e){if(!(e.schema instanceof m.a))throw new TypeError('[JSONEditorView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof h.a))throw new TypeError('[JSONEditorView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{displayTitle:!0})},toggleInheritance:function(e,t,n){this.options.values=this.options.values.extend(this.getData()),this.options.values=this.options.values.addValueForPath([e,"inherited"],n),this.options.values=this.options.values.addValueForPath([e,"value"],t),this.render()},render:function(){this.$el.empty();var e=a.a.get(this.jsonEditor,"watchlist");return this.jsonEditor=y(this.$el,this.options),this.jsonEditor.watchlist=e,this.options.displayTitle||this.$el.find("[data-header]").parent().hide(),this},isValid:function(){return 0===this.jsonEditor.validate().length},getData:function(){var e=new h.a(this.jsonEditor.getValue());return this.options.schema.hasDefaultProperties()&&(e=e.pick(this.options.schema.raw.defaultProperties)),(e=(e=e.nullifyEmptyPasswords(this.options.schema.getPasswordKeys())).addInheritance(this.options.values.raw)).raw},setData:function(e){this.options.values=this.options.values.extend(e)},watch:function(e,t){this.jsonEditor.watch(e,t)},destroy:function(){var e=this,t=a.a.keys(this.jsonEditor.watchlist);a.a.forEach(t,function(t){e.jsonEditor.unwatch(t)}),this.jsonEditor.destroy(),this.jsonEditor=null}});t.a=v},1404:function(e,t,n){"use strict";n(159);t.a=function(e){return e?"&_fields=".concat(e.join(",")):""}},1405:function(e,t,n){"use strict";n(31);t.a=function(e){if(e){var t=e.sizePerPage,n=e.pagedResultsOffset,r=e.sortKey,a=e.sortDirection,o=n?"&_pagedResultsOffset=".concat(n):"",i="&_pageSize=".concat(t),c=r&&a?"&_sortKeys=".concat(encodeURIComponent(a)).concat(r):"";return"".concat(o).concat(i).concat(c)}return""}},1406:function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(1),c=n.n(i),s=function(e){var t=e.children,n=e.icon,a=e.title,o=e.subtitle,i=o?"deep":"shallow",s=n?c.a.createElement("span",{className:"header-icon pull-left bg-primary"},c.a.createElement("i",{className:"fa fa-".concat(n)})):null,u=function(e){return e?Object(r.isString)(e)?c.a.createElement("h4",{className:"page-type"},e):e:null}(o);return c.a.createElement("header",{className:"page-header page-header-no-border clearfix"},s,c.a.createElement("div",{className:"button-group pull-right ".concat(i,"-page-header-button-group")},t),c.a.createElement("div",{className:"pull-left"},u,c.a.createElement("h1",{className:"wordwrap"},a)))};s.propTypes={children:o.a.node,icon:o.a.string,subtitle:o.a.node,title:o.a.string.isRequired},t.a=s},1407:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(16);t.a=function(){return a.a.createElement("p",{className:"loading text-muted"},a.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),a.a.createElement("span",null,Object(o.b)("console.common.loading")))}},1408:function(e,t,n){"use strict";n(33),n(27),n(34);var r=n(2),a=n.n(r),o=n(100),i=n.n(o),c=n(1403),s=n(214),u=n(142);var l=i.a.View.extend({initialize:function(e){if(!(e.schema instanceof s.a))throw new TypeError('[FlatJSONSchemaView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof u.a))throw new TypeError('[FlatJSONSchemaView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{showOnlyRequiredAndEmpty:!1,showOnlyRequired:!1})},render:function(){var e,t=this.options.schema,n=!0;if(this.options.showOnlyRequiredAndEmpty){var r=this.options.schema.getRequiredPropertyKeys(),o=this.options.values.getEmptyValueKeys(t),i=a.a.intersection(r,o);t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(i),n=!a.a.isEmpty(i)}else if(this.options.showOnlyRequired){var s=this.options.schema.getRequiredPropertyKeys();t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(s),n=!a.a.isEmpty(s)}return this.subview=new c.a({displayForm:n,hideInheritance:this.options.hideInheritance,displayTitle:!1,el:this.$el,schema:t,values:this.options.values}).render(),(e=this.options.onRendered)&&setTimeout(e,0),this},isValid:function(){return!this.subview||this.subview.isValid()},getData:function(){var e;if(this.subview)return(e=this.subview).getData.apply(e,arguments)},setData:function(e){if(this.subview)return this.options.values=this.options.values.extend(e),this.subview.setData(e)},watch:function(e,t){this.subview&&this.subview.watch(e,t)},destroy:function(){this.subview&&(this.subview.destroy(),this.subview=null)}});t.a=l},1417:function(e,t,n){"use strict";n(15),n(63),n(81),n(18);var r=n(25),a=n(2),o=n(0),i=n.n(o),c=n(1),s=n.n(c);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=function(e){var t=e.children,n=e.href,o=e.title,i=e.onClick;if(t){var c=Object(a.map)(t,function(e){var t=e.title,n=l(e,["title"]);return s.a.createElement(r.t,u({key:t},n),t)});return s.a.createElement(r.d,null,s.a.createElement(r.j,{bsStyle:"primary",disabled:Object(a.isEmpty)(c),id:Object(a.camelCase)(o),title:o},c))}return s.a.createElement(r.d,null,s.a.createElement(r.c,{bsStyle:"primary",href:n,onClick:i},s.a.createElement("i",{className:"fa fa-plus"})," ",o))};p.propTypes={children:i.a.arrayOf(i.a.shape({onClick:i.a.func,href:i.a.string,title:i.a.string.isRequired})),href:i.a.string,onClick:i.a.func,title:i.a.string.isRequired},t.a=p},1418:function(e,t,n){"use strict";n(15),n(36),n(37),n(17),n(33),n(1422),n(81),n(21),n(22),n(53),n(18),n(54),n(27),n(35),n(19),n(34);var r=n(2),a=n(160),o=n(0),i=n.n(o),c=n(1),s=n.n(c),u=n(25),l=n(16),p=n(1417),f=function(e){var t=e.additionalButtons,n=e.addButton,r=e.isDeleteDisabled,a=e.onDelete,o=e.numberSelected,i=o?"(".concat(o,")"):"";return s.a.createElement(u.e,{className:"page-toolbar"},s.a.createElement(p.a,{href:n.href,onClick:n.handleOnClick,title:n.title},n.menuItems),s.a.createElement(u.c,{disabled:r,onClick:a},s.a.createElement("i",{className:"fa fa-close"})," ",Object(l.b)("common.form.delete")," ",i),t)};f.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,additionalButtons:i.a.node,isDeleteDisabled:i.a.bool.isRequired,numberSelected:i.a.number.isRequired,onDelete:i.a.func.isRequired};var d=f,m=n(1428),h=function(e){var t=e.addButton,n=e.description,r=e.title;return s.a.createElement(m.a,null,s.a.createElement("p",{className:"text-primary"},s.a.createElement("i",{className:"fa fa-list-alt fa-4x"})),s.a.createElement("h2",null,r),s.a.createElement("p",{className:"panel-description text-muted"},n),s.a.createElement(p.a,{href:t.href,onClick:t.handleOnClick,title:t.title},t.menuItems))};h.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,description:i.a.string.isRequired,title:i.a.string.isRequired};var b=h,y=n(1407),v=n(369);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=w(t).call(this),e=!r||"object"!==O(r)&&"function"!=typeof r?S(n):r,I(S(e),"handleDelete",function(){e.props.onDelete(e.state.selectedItems)}),I(S(e),"handleSelectedChange",function(t){e.setState({selectedItems:t})}),e.state={selectedItems:[]},e}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,c["Component"]),n=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!Object(r.isEqual)(Object(r.map)(this.props.items,this.props.keyField).sort(),Object(r.map)(e.items,this.props.keyField).sort())&&this.setState({selectedItems:[]})}},{key:"render",value:function(){var e,t=Object(r.omit)(this.props,"children");if(this.props.isFetching)e=s.a.createElement(y.a,null);else if(Object(r.isEmpty)(this.props.items))e=s.a.createElement(b,t);else{var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{data:this.props.items,onSelectedChange:this.handleSelectedChange,selectedItems:this.state.selectedItems}),a=s.a.createElement(d,g({},t,{isDeleteDisabled:!this.state.selectedItems.length,numberSelected:this.state.selectedItems.length,onDelete:this.handleDelete}));e=s.a.createElement("div",null,a,s.a.createElement(v.a,n,this.props.children))}return e}}])&&E(n.prototype,a),o&&E(n,o),t}();C.defaultProps={keyField:"_id"},C.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})),i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})]).isRequired,isFetching:i.a.bool.isRequired,items:i.a.arrayOf(i.a.object).isRequired,keyField:i.a.string,onDelete:i.a.func.isRequired};t.a=C},1422:function(e,t,n){"use strict";var r=n(39),a=n(215),o=n(89),i=n(44),c=n(216),s=[].sort,u=[1,2,3],l=i(function(){u.sort(void 0)}),p=i(function(){u.sort(null)}),f=c("sort");r({target:"Array",proto:!0,forced:l||!p||f},{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),a(e))}})},1423:function(e,t,n){"use strict";n(143),n(114);var r=n(2),a=n(1431),o=n.n(a);function i(e){e.data.dialog.$modalContent.find("[autofocus]").focus(),function(e){Object(r.each)(e.options.buttons,function(t){!0===t.disabled&&e.getButton(t.id).disable()})}(e.data.dialog)}var c={};c.TYPE_DEFAULT=o.a.TYPE_DEFAULT,c.TYPE_INFO=o.a.TYPE_INFO,c.TYPE_PRIMARY=o.a.TYPE_PRIMARY,c.TYPE_SUCCESS=o.a.TYPE_SUCCESS,c.TYPE_WARNING=o.a.TYPE_WARNING,c.TYPE_DANGER=o.a.TYPE_DANGER,c.SIZE_NORMAL=o.a.SIZE_NORMAL,c.SIZE_SMALL=o.a.SIZE_SMALL,c.SIZE_WIDE=o.a.SIZE_WIDE,c.SIZE_LARGE=o.a.SIZE_LARGE,Object(r.each)(["show","confirm","warning","danger","success"],function(e){c[e]=function(t){var n=new o.a[e](t),r=t.type||c.TYPE_PRIMARY;return r=r.replace("type","text"),n.getModalHeader().addClass(r),n.getModal().on("shown.bs.modal",{dialog:n},i),n}}),t.a=c},1425:function(e,t,n){"use strict";var r=n(1),a=n.n(r);t.a=function(e){return function(t,n,r,o){return a.a.cloneElement(e,{cell:t,row:n,formatExtraData:r,rowIdx:o})}}},1426:function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(0),i=n.n(o),c=n(1),s=n.n(c),u=function(e){var t,n=e.icon,r=e.isEditable,o=e.cell,i=e.children,c=e.row,u=e.formatExtraData,l=e.rowIdx;return s.a.createElement("span",{className:a()({"am-table-icon-cell":!0,"am-table-icon-cell-editable":r})},s.a.createElement("span",{className:"fa-stack fa-lg am-table-icon-cell-stack"},s.a.createElement("i",{className:"fa fa-circle fa-stack-2x text-primary"}),s.a.createElement("i",{className:"fa fa-".concat(n," fa-stack-1x fa-inverse")}))," ",s.a.createElement("span",null,(t=i)?s.a.cloneElement(t,{cell:o,row:c,formatExtraData:u,rowIdx:l}):o))};u.defaultProps={isEditable:!1},u.propTypes={cell:i.a.oneOfType([i.a.array,i.a.object,i.a.string]),children:i.a.node,formatExtraData:i.a.objectOf(i.a.any),icon:i.a.string.isRequired,isEditable:i.a.bool,row:i.a.objectOf(i.a.any),rowIdx:i.a.number},t.a=u},1427:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(31);var r=n(16),a=n(1423);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.b)("common.form.delete");a.a.confirm({type:a.a.TYPE_DANGER,title:"".concat(Object(r.b)("common.form.confirm")," ").concat(n),message:e.message?e.message:Object(r.b)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:n,btnOKClass:"btn-danger",callback:function(e){e&&t&&t()}})}},1428:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=function(e){var t=e.children;return i.a.createElement("div",{className:"call-to-action-block"},t)};c.propTypes={children:a.a.node},t.a=c},1436:function(e,t,n){"use strict";var r=n(25),a=n(16),o=n(0),i=n.n(o),c=n(1),s=n.n(c),u=function(e){var t=e.disabled,n=e.onSaveClick;return s.a.createElement(r.f,null,s.a.createElement("div",{className:"pull-right"},s.a.createElement(r.c,{bsStyle:"primary",disabled:t,onClick:n},Object(a.b)("common.form.saveChanges"))))};u.defaultProps={disabled:!1},u.propTypes={disabled:i.a.bool,onSaveClick:i.a.func.isRequired},t.a=u},1452:function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"i",function(){return v}),n.d(t,"a",function(){return O});n(31),n(33),n(27),n(67),n(35),n(34);var r=n(2),a=n(122),o=n(23),i=n(1404),c=n(1405),s=n(38),u=new a.a("".concat(o.a.host).concat(o.a.context,"/json"));function l(e){return u.serviceCall({url:Object(s.a)("/users?_action=template",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=4.1"},type:"POST"})}function p(e){return u.serviceCall({url:Object(s.a)("/users?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=4.1"},type:"POST"})}function f(e){return Promise.all([p(e),l(e)]).then(function(e){return{schema:e[0],values:e[1]}})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.a)(t.pagination),r=Object(i.a)(t.fields);return u.serviceCall({url:Object(s.a)("/users?_queryFilter=true".concat(n).concat(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"}})}function m(e,t){var n=Object(r.map)(t,function(t){return u.serviceCall({url:Object(s.a)("/users/".concat(encodeURIComponent(t)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"},suppressSpinner:!0,type:"DELETE",errorsHandlers:{Forbidden:{status:403}}})});return Promise.all(n)}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(c.a)(n.pagination),a=Object(i.a)(n.fields);return u.serviceCall({url:Object(s.a)("/users?_queryId=".concat(encodeURIComponent(t),"*").concat(r).concat(a),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"}})}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.a)(t.pagination),r=Object(i.a)(t.fields),a=t.pagination.searchTerm,o=a?encodeURIComponent('_id co "'.concat(a,'" or cn co "').concat(a,'" or mail co "').concat(a,'"')):"true";return u.serviceCall({url:Object(s.a)("/users?_queryFilter=".concat(o).concat(n).concat(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1, resource=4.0"}})}function y(e,t){return u.serviceCall({url:Object(s.a)("/users/".concat(encodeURIComponent(t)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"}})}function v(e,t,n){return u.serviceCall({url:Object(s.a)("/users/".concat(encodeURIComponent(n)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=4.0","If-Match":"*"},data:JSON.stringify(function(e){return Object(r.omitBy)(e,function(e,t){return Object(r.startsWith)(t,"_")})}(t))})}function O(e,t,n){return u.serviceCall({url:Object(s.a)("/users/".concat(encodeURIComponent(n)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.1,resource=4.0","If-None-Match":"*"},data:JSON.stringify(t)})}},1464:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return h});n(31),n(33),n(27),n(67),n(35),n(34);var r=n(2),a=n(122),o=n(23),i=n(1404),c=n(1405),s=n(38),u=new a.a("".concat(o.a.host).concat(o.a.context,"/json"));function l(e){return u.serviceCall({url:Object(s.a)("/groups?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function p(e,t){return u.serviceCall({url:Object(s.a)("/groups/".concat(encodeURIComponent(t)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"}})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.a)(t.pagination),r=Object(i.a)(t.fields);return u.serviceCall({url:Object(s.a)("/groups?_queryFilter=true".concat(n).concat(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"}})}function d(e,t){var n=Object(r.map)(t,function(t){return u.serviceCall({url:Object(s.a)("/groups/".concat(encodeURIComponent(t)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=4.0"},type:"DELETE"})});return Promise.all(n)}function m(e,t){return u.serviceCall({url:Object(s.a)("/groups/".concat(encodeURIComponent(t)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.1,resource=4.0","If-None-Match":"*"},data:"{}"})}function h(e,t,n){return u.serviceCall({url:Object(s.a)("/groups/".concat(encodeURIComponent(n)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.1,resource=4.0","If-Match":"*"},data:JSON.stringify(function(e){return Object(r.omitBy)(e,function(e,t){return Object(r.startsWith)(t,"_")})}(function(e){return Object(r.omit)(e,["dn","objectclass"])}(t)))})}},1490:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return h});n(31),n(373),n(374);var r=n(122),a=n(23),o=n(38),i=new r.a("".concat(a.a.host).concat(a.a.context,"/json"));function c(e,t,n){return i.serviceCall({url:Object(o.a)("/users/".concat(n,"/services/").concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})}function s(e,t,n){return i.serviceCall({url:Object(o.a)("/users/".concat(n,"/services/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}function u(e,t,n,r){return i.serviceCall({url:Object(o.a)("/users/".concat(n,"/services/").concat(t),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},data:r.toJSON()})}function l(e,t,n){return i.serviceCall({url:Object(o.a)("/users/".concat(t,"/services?_action=unassignServices"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify({serviceNames:n})})}function p(e,t){return i.serviceCall({url:Object(o.a)("/users/".concat(t,"/services?_action=getAllTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})}function f(e,t){return i.serviceCall({url:Object(o.a)("/users/".concat(t,"/services?_action=nextdescendents"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",errorsHandlers:{internalServerError:{status:500}}})}function d(e,t){return i.serviceCall({url:Object(o.a)("/users/".concat(t,"/services?_action=getCreatableTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",errorsHandlers:{internalServerError:{status:500}}})}function m(e,t,n){return i.serviceCall({url:Object(o.a)("/users/".concat(encodeURIComponent(n),"/services/").concat(encodeURIComponent(t),"?_action=template"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=1.0"},type:"POST"})}function h(e,t,n,r){return i.serviceCall({url:Object(o.a)("/users/".concat(encodeURIComponent(t),"/services/").concat(encodeURIComponent(n)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=1.0"},type:"POST",data:JSON.stringify(r)})}},1697:function(e,t,n){"use strict";n.r(t);var r=n(25),a=n(16),o=n(1),i=n.n(o),c=(n(15),n(36),n(37),n(31),n(33),n(53),n(54),n(27),n(67),n(62),n(35),n(34),n(2)),s=n(1452),u=n(1436),l=n(1408),p=n(214),f=n(142),d=n(52),m=n(1400),h=n(1401);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t){return Object(c.mapValues)(e,function(e,n){return"string"===t.properties[n].type&&""===e?[]:e})},S=function(e,t){return Object(c.mapValues)(e,function(e,n){var r=t.properties[n];return r&&"string"===r.type&&Object(c.isArray)(e)?e[0]:e})},P=function(e,t){return Object(c.reduce)(e,function(e,n,r){return t.properties[r]&&(e[r]=n),e},{})},I=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,o=(e=O(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==b(o)&&"function"!=typeof o?g(r):o,E(g(n),"handleSave",function(){if(n.jsonSchemaView.subview.isValid()){var e=new f.a(n.jsonSchemaView.subview.getData()).removeNullPasswords(n.schema),t=P(e.raw,n.schema.raw),r=w(t,n.schema.raw);delete r.dn;var o=n.props.router.params[0],i=n.props.router.params[1];Object(s.i)(o,r,i).then(function(){d.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})},function(e){d.a.addMessage({response:e,type:d.a.TYPE_DANGER})})}else d.a.addMessage({message:Object(a.b)("common.form.validation.errorsNotSaved"),type:d.a.TYPE_DANGER})}),E(g(n),"setRef",function(e){n.element=e}),n}var n,c,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,o["Component"]),n=t,(c=[{key:"componentDidMount",value:function(){var e=this,t=this.props.router.params[0],n=this.props.router.params[1];Promise.all([Object(s.f)(t),Object(s.b)(t,n)]).then(function(t){var n=y(t,2),r=n[0],a=n[1];e.schema=new p.a(r),e.jsonSchemaView=new l.a({schema:e.schema,values:new f.a(S(a,r))}),e.element.appendChild(e.jsonSchemaView.render().el)})}},{key:"render",value:function(){return i.a.createElement(r.w,{className:"fr-panel-tab"},i.a.createElement(r.w.Body,null,i.a.createElement("div",{ref:this.setRef})),i.a.createElement(r.w.Footer,null,i.a.createElement(u.a,{onSaveClick:this.handleSave})))}}])&&v(n.prototype,c),m&&v(n,m),t}();I.propTypes={router:h.a};var C=Object(m.a)(I),_=(n(50),n(1464)),A=n(122),R=n(23),T=n(38),N=new A.a("".concat(R.a.host).concat(R.a.context,"/json"));function D(e,t){return N.serviceCall({url:Object(T.a)("/users/".concat(encodeURIComponent(t),"/groups?_action=schema"),{realm:e}),type:"POST",headers:{"Accept-API-Version":"protocol=2.1,resource=1.0"}})}function k(e,t){return N.serviceCall({url:Object(T.a)("/users/".concat(encodeURIComponent(t),"/groups?_queryFilter=true"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.1,resource=1.0"}})}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=U(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==V(o)&&"function"!=typeof o?F(r):o,Y(F(n),"handleSave",function(){n.jsonSchemaView.subview.isValid()?function(e,t,n){return N.serviceCall({url:Object(T.a)("/users/".concat(encodeURIComponent(t),"/groups?_action=updateMemberships"),{realm:e}),type:"POST",headers:{"Accept-API-Version":"protocol=2.1,resource=1.0"},data:JSON.stringify({groups:n})})}(n.props.router.params[0],n.props.router.params[1],new f.a(n.jsonSchemaView.subview.getData()).raw.groups).then(function(){d.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})},function(e){d.a.addMessage({response:e,type:d.a.TYPE_DANGER})}):d.a.addMessage({message:Object(a.b)("common.form.validation.errorsNotSaved"),type:d.a.TYPE_DANGER})}),Y(F(n),"setRef",function(e){n.element=e}),n}var n,s,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o["Component"]),n=t,(s=[{key:"componentDidMount",value:function(){var e=this,t=this.props.router.params[0],n=this.props.router.params[1];Promise.all([D(t,n),k(t,n),Object(_.c)(t)]).then(function(t){var n=q(t,3),r=n[0],a=n[1],o=n[2],i=a.result.map(function(e){return e.groupname}),c=e.addGroupsSelectionToTheSchema(r,o.result);e.jsonSchemaView=new l.a({schema:new p.a(c),values:new f.a({groups:i})}),e.element.appendChild(e.jsonSchemaView.render().el)})}},{key:"addGroupsSelectionToTheSchema",value:function(e,t){var n=Object(c.cloneDeep)(e),r=Object(c.get)(n,"properties.groups.items");if(r){var a=Object(c.reduce)(t,function(e,t){return e.enum.push(t._id),e.options.enum_titles.push(t.cn[0]),e},{enum:[],options:{enum_titles:[]}});Object(c.assign)(r,a)}else console.error("[EditUserGroups] Unable to add available groups to 'groups' property.");return n}},{key:"render",value:function(){return i.a.createElement(r.w,{className:"fr-panel-tab"},i.a.createElement(r.w.Body,null,i.a.createElement("div",{ref:this.setRef})),i.a.createElement(r.w.Footer,null,i.a.createElement(u.a,{onSaveClick:this.handleSave})))}}])&&x(n.prototype,s),m&&x(n,m),t}();G.propTypes={router:h.a};var J=Object(m.a)(G),L=(n(144),n(10)),B=n(0),K=n.n(B),W=n(1490),z=n(515),H=n(514),Z=n(518),$=n(1402),Q=(n(81),n(160)),X=n(41),ee=n(1425),te=n(1426),ne=n(1418);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ae=function(e){var t=Object(c.map)(e.creatables,function(t){return{href:"#".concat(X.a.getLink(X.a.configuration.routes.realmsIdentitiesUsersServicesNew,Object(c.map)([e.realm,e.userId,t._id],encodeURIComponent))),title:t.name}});return i.a.createElement(r.w,{className:"fr-panel-tab"},i.a.createElement(r.w.Body,null,i.a.createElement(ne.a,re({},Object(c.omit)(e,"children"),{addButton:{menuItems:t,title:Object(a.b)("console.identities.users.edit.services.list.callToAction.button")},description:Object(a.b)("console.identities.users.edit.services.list.callToAction.description"),title:Object(a.b)("console.identities.users.edit.services.list.callToAction.title")}),i.a.createElement(Q.TableHeaderColumn,{columnTitle:c.identity,dataField:"name",dataFormat:Object(ee.a)(i.a.createElement(te.a,{icon:"plug"})),dataSort:!0},Object(a.b)("console.identities.users.edit.services.list.grid.0")))))};ae.propTypes={creatables:K.a.arrayOf(K.a.object).isRequired,realm:K.a.string.isRequired,userId:K.a.string.isRequired};var oe=ae,ie=n(1427);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=le(t).call(this),e=!r||"object"!==ce(r)&&"function"!=typeof r?pe(n):r,de(pe(e),"handleEdit",function(t){var n=t._id,r=e.props.router.params[0],a=e.props.router.params[1];X.a.routeTo(X.a.configuration.routes.realmsIdentitiesUsersServicesEdit,{args:Object(c.map)([r,a,n],encodeURIComponent),trigger:!0})}),de(pe(e),"handleDelete",function(t){var n=Object(c.map)(t,"_id"),r=e.props.router.params[0],o=e.props.router.params[1];Object(ie.a)({message:Object(a.b)("console.identities.users.edit.services.confirmDeleteSelected",{count:n.length})},function(){Object(W.h)(r,o,n).then(function(){d.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")}),Object(c.forEach)(n,function(t){e.props.removeInstance(t,o)}),Object(W.e)(r,o).then(function(t){e.props.setCreatables(t.result,o)},function(e){d.a.addMessage({response:e,type:d.a.TYPE_DANGER})})},function(e){d.a.addMessage({response:e,type:d.a.TYPE_DANGER})})})}),e.state={isFetching:!0},e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.router.params[0],n=this.props.router.params[1];Promise.all([Object(W.c)(t,n),Object(W.d)(t,n),Object(W.e)(t,n)]).then(function(t){var r=se(t,3),a=r[0],o=r[1],i=r[2];e.setState({isFetching:!1}),e.props.setInstances(a.result,n),e.props.setTypes(o.result,n),e.props.setCreatables(i.result,n)},function(t){e.setState({isFetching:!1}),d.a.addMessage({response:t,type:d.a.TYPE_DANGER})})}},{key:"render",value:function(){var e=this.props.router.params[0],t=this.props.router.params[1];return i.a.createElement(oe,{creatables:this.props.creatables,isFetching:this.state.isFetching,items:this.props.instances,onDelete:this.handleDelete,onRowClick:this.handleEdit,realm:e,userId:t})}}])&&ue(n.prototype,r),s&&ue(n,s),t}();me.propTypes={creatables:K.a.arrayOf(K.a.object),instances:K.a.arrayOf(K.a.object),removeInstance:K.a.func.isRequired,router:h.a,setCreatables:K.a.func.isRequired,setInstances:K.a.func.isRequired,setTypes:K.a.func.isRequired},me=Object($.a)(me,function(e,t){var n=t.router.params[1],r=Object(c.get)(e.remote.config.realm.identities.users.services.types,n),a=Object(c.get)(e.remote.config.realm.identities.users.services.instances,n),o=Object(c.map)(a,function(e){return e.name=Object(c.result)(Object(c.find)(r,{_id:e._id}),"name"),e});return{creatables:Object(c.get)(e.remote.config.realm.identities.users.services.creatables,n),instances:o}},function(e){return{removeInstance:Object(L.a)(z.b,e),setCreatables:Object(L.a)(H.b,e),setInstances:Object(L.a)(z.c,e),setTypes:Object(L.a)(Z.b,e)}});var he=me=Object(m.a)(me),be=n(1406),ye=function(e){var t=e.router,n=decodeURIComponent(t.params[1]);return i.a.createElement("div",null,i.a.createElement(be.a,{icon:"address-card",subtitle:Object(a.b)("console.identities.users.edit.type"),title:n}),i.a.createElement(r.B,{animation:!0,defaultActiveKey:1,id:"editUser",mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(r.z,{eventKey:1,title:Object(a.b)("console.identities.users.edit.tabs.0")},i.a.createElement(C,null)),i.a.createElement(r.z,{eventKey:2,title:Object(a.b)("console.identities.users.edit.tabs.1")},i.a.createElement(he,null)),i.a.createElement(r.z,{eventKey:3,title:Object(a.b)("console.identities.users.edit.tabs.2")},i.a.createElement(J,null))))};ye.propTypes={router:h.a};t.default=Object(m.a)(ye)}}]);
//# sourceMappingURL=27.e0fd9985b2.js.map