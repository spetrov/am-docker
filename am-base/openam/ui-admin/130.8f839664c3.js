(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{1419:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return d});n(31),n(33),n(27),n(67),n(35),n(34);var r=n(2),a=n(122),o=n(23),c=n(1404),i=n(1405),s=n(38),l=new a.a("".concat(o.a.host).concat(o.a.context,"/json"));function u(e,t,n,r){return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"/").concat(encodeURIComponent(r)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(n),suppressSpinner:!0,errorsHandlers:{incorrectRevisionError:{status:412}}})}function p(e,t,n,a){return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"/").concat(encodeURIComponent(a)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-Match":"*"},data:JSON.stringify(Object(r.omit)(n,"_rev"))})}function f(e,t,n){return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"/").concat(encodeURIComponent(n)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0})}function h(e,t){return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(i.a)(n.pagination),a=Object(c.a)(n.fields);return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"?_queryFilter=true").concat(r).concat(a),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0})}function b(e,t){return Promise.all([h(e,t),l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"?_action=template"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})]).then(function(e){return{schema:e[0],values:e[1]}})}function d(e,t,n){var a=Object(r.map)(n,function(n){return l.serviceCall({url:Object(s.a)("/realm-config/agents/".concat(t,"/").concat(encodeURIComponent(n)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0,type:"DELETE"})});return Promise.all(a)}},1711:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(17),n(33),n(21),n(22),n(53),n(18),n(54),n(27),n(35),n(19),n(34);var r=n(10),a=n(2),o=n(0),c=n.n(o),i=n(1),s=n.n(i),l=n(1419),u=n(1409),p=n(458),f=n(459),h=n(1402),g=n(214),b=n(142),d=n(52),m=(n(31),n(25)),y=n(16),v=n(1415),O=n(1435),j=n(1407),C=n(1421),w=n(1420),U=n(1499),S=n(136),A=n.n(S),P=function(e){if(!e)return!0;try{var t=A.a.parse(e);return!!(t.protocol&&t.hostname&&t.port&&"/"!==t.path)}catch(e){return!1}};function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=R(t).call(this,e),n=!a||"object"!==E(a)&&"function"!=typeof a?_(r):a,q(_(n),"handleAgentIdChange",function(e){n.setState({agentId:e},function(){n.props.onAgentIdChange(Object(w.a)(n.state.agentId)?n.state.agentId:null)})}),q(_(n),"handleAgentUrlChange",function(e){n.setState({agentUrl:e},function(){n.props.onAgentUrlChange(P(n.state.agentUrl)?n.state.agentUrl:null)})}),q(_(n),"handleServerUrlChange",function(e){n.setState({serverUrl:e},function(){n.props.onServerUrlChange(Object(U.a)(n.state.serverUrl)?n.state.serverUrl:null)})}),n.state={agentId:"",agentUrl:"",serverUrl:""},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=P(this.state.agentUrl),t=Object(U.a)(this.state.serverUrl),n=Object(w.a)(this.state.agentId);return s.a.createElement(m.k,{horizontal:!0},s.a.createElement(C.a,{isValid:n,label:Object(y.b)("console.applications.agents.common.agents.new.agentId.title"),onChange:this.handleAgentIdChange,validationMessage:Object(y.b)("console.common.validation.invalidCharacters"),value:this.state.agentId}),s.a.createElement(C.a,{isValid:e,label:Object(y.b)("console.applications.agents.common.agentUrl.title"),onChange:this.handleAgentUrlChange,placeholder:Object(y.b)("console.applications.agents.java.agents.new.agentUrl.placeholder"),validationMessage:Object(y.b)("console.applications.agents.java.agents.new.agentUrl.validationMessage"),value:this.state.agentUrl}),s.a.createElement(C.a,{isValid:t,label:Object(y.b)("console.applications.agents.common.serverUrl.title"),onChange:this.handleServerUrlChange,placeholder:Object(y.b)("console.applications.agents.common.serverUrl.placeholder"),validationMessage:Object(y.b)("console.applications.agents.common.serverUrl.validationMessage"),value:this.state.serverUrl}),this.props.children)}}])&&I(n.prototype,r),a&&I(n,a),t}();k.propTypes={children:c.a.node.isRequired,onAgentIdChange:c.a.func.isRequired,onAgentUrlChange:c.a.func.isRequired,onServerUrlChange:c.a.func.isRequired};var V=k,F=n(1406),D=n(41);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return r=this,a=(e=N(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==M(a)&&"function"!=typeof a?x(r):a,Y(x(n),"handleCreate",function(){n.props.onCreate(n.jsonSchemaView.getData())}),Y(x(n),"setRef",function(e){n.jsonForm=e}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){!this.jsonSchemaView&&this.props.template&&(this.jsonSchemaView=new O.a({hideInheritance:!0,schema:new g.a(this.props.schema),values:new b.a(this.props.template),showOnlyRequiredAndEmpty:!0}),this.jsonForm.appendChild(this.jsonSchemaView.render().el))}},{key:"render",value:function(){var e;return e=this.props.isFetching?s.a.createElement(j.a,null):s.a.createElement(V,{onAgentIdChange:this.props.onAgentIdChange,onAgentUrlChange:this.props.onAgentUrlChange,onServerUrlChange:this.props.onServerUrlChange},s.a.createElement("div",{ref:this.setRef})),s.a.createElement("div",null,s.a.createElement(F.a,{title:Object(y.b)("console.applications.agents.java.agents.new.title")}),s.a.createElement(m.w,null,s.a.createElement(m.w.Body,null,e),s.a.createElement(m.w.Footer,null,s.a.createElement(v.a,{backRoute:D.a.configuration.routes.realmsApplicationsAgentsJava,disabled:!this.props.isCreateAllowed,onCreateClick:this.handleCreate}))))}}])&&J(n.prototype,r),a&&J(n,a),t}();z.propTypes={isCreateAllowed:c.a.bool.isRequired,isFetching:c.a.bool.isRequired,onAgentIdChange:c.a.func.isRequired,onAgentUrlChange:c.a.func.isRequired,onCreate:c.a.func.isRequired,onServerUrlChange:c.a.func.isRequired,schema:c.a.objectOf(c.a.object).isRequired,template:c.a.objectOf(c.a.object).isRequired};var B=z,H=n(1400),L=n(1401);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=X(t).call(this,e),n=!o||"object"!==K(o)&&"function"!=typeof o?Z(r):o,ee(Z(n),"handleAgentIdChange",function(e){n.setState({agentId:e})}),ee(Z(n),"handleAgentUrlChange",function(e){n.setState({agentUrl:e})}),ee(Z(n),"handleServerUrlChange",function(e){n.setState({serverUrl:e})}),ee(Z(n),"handleCreate",function(e){var t=n.props.router.params[0],r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},new b.a(e).removeNullPasswords(new g.a(n.props.schema)).raw,{agentUrl:n.state.agentUrl,serverUrl:n.state.serverUrl});Object(l.a)(t,u.b,r,n.state.agentId).then(function(){D.a.routeTo(D.a.configuration.routes.realmsApplicationsAgentsJavaAgentsEdit,{args:Object(a.map)([t,n.state.agentId],encodeURIComponent),trigger:!0})},function(e){d.a.addMessage({response:e,type:d.a.TYPE_DANGER})})}),n.state={agentId:"",isFetching:!0},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.router.params[0];Object(l.d)(t,u.b).then(function(t){var n=t.schema,r=t.values;e.setState({isFetching:!1}),e.props.setSchema(n),e.props.setTemplate(r)},function(t){e.setState({isFetching:!1}),d.a.addMessage({response:t,type:d.a.TYPE_DANGER})})}},{key:"render",value:function(){var e=!Object(a.isEmpty)(this.state.agentId)&&!Object(a.isEmpty)(this.state.agentUrl)&&!Object(a.isEmpty)(this.state.serverUrl);return s.a.createElement(B,{isCreateAllowed:e,isFetching:this.state.isFetching,onAgentIdChange:this.handleAgentIdChange,onAgentUrlChange:this.handleAgentUrlChange,onCreate:this.handleCreate,onServerUrlChange:this.handleServerUrlChange,schema:this.props.schema,serverUrl:this.state.serverUrl,template:this.props.template})}}])&&W(n.prototype,r),o&&W(n,o),t}();te.propTypes={router:L.a,schema:c.a.shape({type:c.a.string.isRequired}),setSchema:c.a.func.isRequired,setTemplate:c.a.func.isRequired,template:c.a.shape({type:c.a.string.isRequired})},te=Object(h.a)(te,function(e){return{schema:e.remote.config.realm.applications.agents.java.agents.schema,template:e.remote.config.realm.applications.agents.java.agents.template}},function(e){return{setSchema:Object(r.a)(p.b,e),setTemplate:Object(r.a)(f.b,e)}}),te=Object(H.a)(te);t.default=te}}]);
//# sourceMappingURL=130.8f839664c3.js.map