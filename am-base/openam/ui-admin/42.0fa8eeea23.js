(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1400:function(e,t,n){"use strict";n(50),n(144);var r=n(2),o=n.n(r),a=n(1),i=n.n(a),c=n(41),s=n(88);t.a=function(e){var t=function(t){var n=c.a.currentRoute,r=c.a.extractParameters(n,s.a.getCurrentFragment()),a=c.a.applyDefaultParameters(n,r),u={params:o.a.map(a,function(e){return e?decodeURIComponent(e):""})};return i.a.createElement(e,o.a.extend({},t,{router:u}))};return t.displayName="withRouter(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t.WrappedComponent=e,t}},1401:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=o.a.shape({params:o.a.array.isRequired});t.a=a},1402:function(e,t,n){"use strict";n(144),n(81);var r=n(1424),o=n(1),a=n.n(o),i=n(64);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=r.a.apply(void 0,n)(e),u=function(e){return a.a.createElement(s,c({},e,{store:i.a}))};return u.displayName="connectWithStore(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),u.WrappedComponent=e,u}},1405:function(e,t,n){"use strict";n(31);t.a=function(e){if(e){var t=e.sizePerPage,n=e.pagedResultsOffset,r=e.sortKey,o=e.sortDirection,a=n?"&_pagedResultsOffset=".concat(n):"",i="&_pageSize=".concat(t),c=r&&o?"&_sortKeys=".concat(encodeURIComponent(o)).concat(r):"";return"".concat(a).concat(i).concat(c)}return""}},1406:function(e,t,n){"use strict";var r=n(2),o=n(0),a=n.n(o),i=n(1),c=n.n(i),s=function(e){var t=e.children,n=e.icon,o=e.title,a=e.subtitle,i=a?"deep":"shallow",s=n?c.a.createElement("span",{className:"header-icon pull-left bg-primary"},c.a.createElement("i",{className:"fa fa-".concat(n)})):null,u=function(e){return e?Object(r.isString)(e)?c.a.createElement("h4",{className:"page-type"},e):e:null}(a);return c.a.createElement("header",{className:"page-header page-header-no-border clearfix"},s,c.a.createElement("div",{className:"button-group pull-right ".concat(i,"-page-header-button-group")},t),c.a.createElement("div",{className:"pull-left"},u,c.a.createElement("h1",{className:"wordwrap"},o)))};s.propTypes={children:a.a.node,icon:a.a.string,subtitle:a.a.node,title:a.a.string.isRequired},t.a=s},1407:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(16);t.a=function(){return o.a.createElement("p",{className:"loading text-muted"},o.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),o.a.createElement("span",null,Object(a.b)("console.common.loading")))}},1415:function(e,t,n){"use strict";n(15),n(36),n(37),n(31),n(185),n(33),n(27),n(161),n(62),n(35),n(34);var r=n(25),o=n(2),a=n(16),i=n(0),c=n.n(i),s=n(1),u=n.n(s),l=n(41),f=n(1400),p=n(1401);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=function(e){var t=e.backRoute,n=e.backRouteArgs,i=e.disabled,c=e.onCreateClick,s=e.router.params[0],f=Object(o.map)([s].concat(d(n)),encodeURIComponent),p="#".concat(l.a.getLink(t,f));return u.a.createElement(r.f,null,u.a.createElement("div",{className:"pull-right"},u.a.createElement("div",{className:"am-btn-action-group"},u.a.createElement(r.c,{href:p},Object(a.b)("common.form.cancel")),u.a.createElement(r.c,{bsStyle:"primary",disabled:i,onClick:c},Object(a.b)("common.form.create")))))};v.defaultProps={backRouteArgs:[],disabled:!1},v.propTypes={backRoute:c.a.shape({url:c.a.oneOfType([c.a.string,c.a.instanceOf(RegExp)]).isRequired,pattern:c.a.string.isRequired}).isRequired,backRouteArgs:c.a.arrayOf(c.a.string),disabled:c.a.bool,onCreateClick:c.a.func.isRequired,router:p.a},t.a=Object(f.a)(v)},1447:function(e,t,n){"use strict";var r=n(39),o=n(46),a=n(274),i=n(101),c=n(782),s=n(781),u=n(780),l=n(68),f=n(44),p=n(376),d=n(218),v=n(784);e.exports=function(e,t,n,h,y){var b=o[e],m=b&&b.prototype,g=b,O=h?"set":"add",w={},j=function(e){var t=m[e];i(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(y||m.forEach&&!f(function(){(new b).entries().next()}))))g=n.getConstructor(t,e,h,O),c.REQUIRED=!0;else if(a(e,!0)){var P=new g,S=P[O](y?{}:-0,1)!=P,E=f(function(){P.has(1)}),x=p(function(e){new b(e)}),R=!y&&f(function(){for(var e=new b,t=5;t--;)e[O](t,t);return!e.has(-0)});x||((g=t(function(t,n){u(t,g,e);var r=v(new b,t,g);return null!=n&&s(n,r[O],r,h),r})).prototype=m,m.constructor=g),(E||R)&&(j("delete"),j("has"),h&&j("get")),(R||S)&&j(O),y&&m.clear&&delete m.clear}return w[e]=g,r({global:!0,forced:g!=b},w),d(g,e),y||n.setStrong(g,e,h),g}},1448:function(e,t,n){"use strict";var r=n(83).f,o=n(272),a=n(783),i=n(219),c=n(780),s=n(781),u=n(377),l=n(378),f=n(74),p=n(782).fastKey,d=n(186),v=d.set,h=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){c(e,l,t),v(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&s(r,e[u],e,n)}),d=h(t),y=function(e,t,n){var r,o,a=d(e),i=b(e,t);return i?i.value=n:(a.last=i={index:o=p(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=i),r&&(r.next=i),f?a.size++:e.size++,"F"!==o&&(a.index[o]=i)),e},b=function(e,t){var n,r=d(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),n=b(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=i(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(l.prototype,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=h(t),a=h(r);u(e,t,function(e,t){v(this,{type:r,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(t)}}},1454:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return O}),n.d(t,"e",function(){return w}),n.d(t,"a",function(){return j});n(15),n(36),n(37),n(63),n(33),n(50),n(144),n(1455),n(53),n(54),n(27),n(67),n(1456),n(62),n(35),n(34);var r=n(162),o=n(370),a=n(372),i=n(371);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function l(e,t,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(e){return new r.CRESTv2(Object(i.a)("/realm-config/federation/circlesoftrust",e),{middleware:[o.a]})},h=function(e,t,n){return Object(a.a)(v(e).create(t,{id:n}))},y=function(e,t){return Object(a.a)(v(e).get(t))},b=function(e){return v(e).queryFilter()},m=function(e){return v(e).action("schema")},g=function(e,t){return Promise.all(t.map(function(t){return v(e).delete(t)}))},O=function(e,t,n){return Object(a.a)(v(e).update(n,t))},w=function(e){return Promise.all([v(e).action("schema"),v(e).action("template")]).then(function(e){var t=d(e,2);return{schema:t[0],values:t[1]}})},j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,p(t).call(this,e))).name="COTServiceError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,u(Error)),t}()},1455:function(e,t,n){"use strict";var r=n(1447),o=n(1448);e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},o,!0)},1456:function(e,t,n){var r=n(39),o=n(187),a=n(215),i=n(69),c=n(68),s=n(272),u=n(1457),l=n(44),f=o("Reflect","construct"),p=l(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),d=!l(function(){f(function(){})}),v=p||d;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),i(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var o=n.prototype,l=s(c(o)?o:Object.prototype),v=Function.apply.call(e,l,t);return c(v)?v:l}})},1457:function(e,t,n){"use strict";var r=n(215),o=n(68),a=[].slice,i={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in i)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";i[t]=Function("C,a","return new C("+r.join(",")+")")}return i[t](e,n)}(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(c.prototype=t.prototype),c}},1458:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return O});n(31);var r=n(162),o=n(122),a=n(220),i=n(23),c=n(38),s=n(370),u=n(372),l=n(371),f=n(1405),p=new o.a("".concat(i.a.host).concat(i.a.context,"/json")),d="/realm-config/saml2",v=function(e,t){return new r.CRESTv2(Object(l.a)("".concat(d,"/").concat(t),e),{middleware:[s.a]})},h=function(e,t,n){return v(e,t).get(a.a.encodeUTF8(n))},y=function(e,t,n,r){return Object(u.a)(v(e,t).update(a.a.encodeUTF8(n),r))},b=function(e,t,n){return v(e,t).delete(a.a.encodeUTF8(n))},m=function(e,t,n){switch(t){case"hosted":return Object(u.a)(v(e,t).create(n));case"remote":return Object(u.a)(v(e,t).action("importEntity",{body:n}))}},g=function(e,t){return v(e,t).action("schema")},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pagination.searchTerm,r=Object(f.a)(t.pagination),o=n?encodeURIComponent('entityId co "'.concat(n,'"')):"true";return p.serviceCall({url:Object(c.a)("".concat(d,"?_queryFilter=").concat(o).concat(r),{realm:e})})}},1489:function(e,t,n){"use strict";var r=n(16),o=n(1),a=n.n(o);t.a=function(){return a.a.createElement("p",{className:"oops text-muted"},a.a.createElement("i",{className:"fa fa-meh-o fa-4x"}),a.a.createElement("h4",null,Object(r.b)("console.common.oopsSomethingWentWrong")))}},1712:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(31),n(17),n(63),n(33),n(81),n(21),n(22),n(53),n(18),n(54),n(27),n(67),n(62),n(35),n(19),n(34),n(271);var r=n(10),o=n(2),a=n(25),i=n(16),c=n(0),s=n.n(c),u=n(1),l=n.n(u),f=n(1454),p=n(1458),d=(n(161),n(114),n(23)),v=function(e,t){var n=JSON.stringify(e);for(var r in t)t[r]&&(n=n.replace(new RegExp(r,"g"),t[r]));return JSON.parse(n)},h=function(e){return e.replace(/\/$/,"")},y=function(e){return e&&"/"!==e.charAt(0)&&(e="/".concat(e)),e},b=function(e,t,n){var r={"{baseUrl}":h(t),"{idpMetaAlias}":y(n)};return v(e,r)},m=function(e,t,n){var r={"{baseUrl}":h(t),"{spMetaAlias}":y(n)};return v(e,r)},g=n(347),O=function e(t){var n={};return Object(g.a)(t)&&Object(o.forEach)(t.properties,function(t,r){Object(g.a)(t)?n[r]=e(t):t.default&&(n[r]=t.default)}),n},w=n(387),j=n(395),P=n(1402),S=n(1407),E=n(52),x=n(375),R=n(1415),A=n(217),k=n(380),C=n(41);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=Object(k.a)(A.a),q=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=F(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==T(o)&&"function"!=typeof o?I(r):o,N(I(n),"state",{formData:{}}),N(I(n),"handleSaveClick",function(){n.form.submit()}),N(I(n),"handleOnChange",function(e){var t=e.formData;n.setState({formData:t})}),N(I(n),"handleOnSubmit",function(e){var t=e.formData;n.props.onSave(t)}),N(I(n),"setFormRef",function(e){n.form=e}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement(x.a,null,l.a.createElement(U,{formData:this.state.formData,horizontal:!0,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,validate:this.props.validate}),l.a.createElement(R.a,{backRoute:C.a.configuration.routes.realmsApplicationsFederationEntityProviders,disabled:this.props.isCreateDisabled,onCreateClick:this.handleSaveClick}))}}])&&_(n.prototype,r),o&&_(n,o),t}();q.propTypes={isCreateDisabled:s.a.bool.isRequired,onSave:s.a.func.isRequired,schema:s.a.objectOf(s.a.any).isRequired,validate:s.a.func.isRequired};var M=q,z=n(1489),W=n(1406),J=n(1400),K=n(1401);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){B(a,r,o,i,c,"next",e)}function c(e){B(a,r,o,i,c,"throw",e)}i(void 0)})}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e,t,n,r,o,a){var c,s=[];return(r||o)&&s.push("sp","idp"),{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:ee({entityId:{default:e.length?e:void 0,propertyOrder:0,readOnly:!!e.length,title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.entityId"),type:"string"},baseUrl:{default:(c=d.a.context,window.location.protocol.concat("//").concat(window.location.host).concat(c)),description:Object(i.b)("console.applications.federation.entityProviders.new.hosted.baseUrl.description"),propertyOrder:1,readOnly:!!t.length,title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.baseUrl.title"),type:"string"},metaAliases:{description:Object(i.b)("console.applications.federation.entityProviders.new.hosted.metaAliases.description"),title:"Meta Aliases",type:"object",propertyOrder:2,properties:{idp:{default:r.length?r:void 0,description:Object(i.b)("console.applications.federation.entityProviders.new.hosted.metaAliases.idp.description"),prefix:r.length?null:n,propertyOrder:0,readOnly:!!r.length,title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.metaAliases.idp.title"),type:"string"},sp:{default:o.length?o:void 0,description:Object(i.b)("console.applications.federation.entityProviders.new.hosted.metaAliases.sp.description"),prefix:o.length?null:n,propertyOrder:1,readOnly:!!o.length,title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.metaAliases.sp.title"),type:"string"}},required:s}},a.length&&{cot:{propertyOrder:3,title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.cot"),items:{type:"string",enum:a,enumNames:a},type:"array"}}),required:["entityId","baseUrl"]}},re=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return r=this,a=(e=V(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==L(a)&&"function"!=typeof a?X(r):a,te(X(n),"state",{fetchError:!1,hasAllRoles:!1,idpMetaAlias:"",isFetching:!1,isSaving:!1,spMetaAlias:"",cotInstances:[],baseUrl:""}),te(X(n),"handleSave",function(e){var t=e.entityId,r=e.baseUrl,a=e.metaAliases,c=e.cot,s=G(n.props.router.params,2),u=s[0],l=s[1];n.setState({isSaving:!0},Q(regeneratorRuntime.mark(function e(){var s,d,v,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l?Object(o.cloneDeep)(n.props.instance):{},d=n.props.completeSchema,v=Object(o.endsWith)(u,"/")?u:"".concat(u,"/"),a.idp&&!s.identityProvider&&(h="identityProvider",s.identityProvider=O(d.properties.identityProvider),s.identityProvider=b(s.identityProvider,r,"".concat(v).concat(a.idp))),a.sp&&!s.serviceProvider&&(h=h||"serviceProvider",s.serviceProvider=O(d.properties.serviceProvider),s.serviceProvider=m(s.serviceProvider,r,"".concat(v).concat(a.sp))),s.entityId=t,e.prev=6,!l){e.next=12;break}return e.next=10,Object(p.f)(u,"hosted",t,s);case 10:e.next=17;break;case 12:return e.next=14,Object(p.a)(u,"hosted",s);case 14:if(!Array.isArray(c)||!c.length){e.next=17;break}return e.next=17,n.updateCirclesOfTrusts(u,t,c);case 17:E.a.addMessage({message:Object(i.b)("config.messages.CommonMessages.changesSaved")}),n.routeToEditPage(u,t,h),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),e.t0 instanceof f.a?(E.a.addMessage({message:Object(i.b)("console.applications.federation.entityProviders.new.remote.addToCOTFailed")}),n.routeToEditPage(u,t,h)):console.error(e.t0);case 24:return e.prev=24,n.setState({isSaving:!1}),e.finish(24);case 27:case"end":return e.stop()}},e,null,[[6,21,24,27]])})))}),te(X(n),"routeToEditPage",function(e,t,n){C.a.routeTo(C.a.configuration.routes.realmsApplicationsFederationEntityProvidersEdit,{args:Object(o.map)([e,"hosted",n,t],encodeURIComponent),trigger:!0})}),te(X(n),"updateCirclesOfTrusts",function(){var e=Q(regeneratorRuntime.mark(function e(t,r,o){var a,i,c,s,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(t);case 2:a=e.sent,i=!0,c=!1,s=void 0,e.prev=6,u=a.result[Symbol.iterator]();case 8:if(i=(l=u.next()).done){e.next=16;break}if(p=l.value,!(o.indexOf(p._id)>-1)){e.next=13;break}return e.next=13,n.updateCircleOfTrust(p,r,t);case 13:i=!0,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),c=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==u.return||u.return();case 25:if(e.prev=25,!c){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,null,[[6,18,22,30],[23,,25,29]])}));return function(t,n,r){return e.apply(this,arguments)}}()),te(X(n),"updateCircleOfTrust",function(){var e=Q(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete t._rev,t.trustedProviders.push("".concat(n,"|saml2")),e.next=4,Object(f.h)(r,t,t._id);case 4:if((o=e.sent).trustedProviders){e.next=7;break}throw new f.a(o);case 7:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()),n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=Q(regeneratorRuntime.mark(function e(){var t,n,r,a,i,c,s,u,l,d,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=G(this.props.router.params,2),n=t[0],r=t[1],this.setState({isFetching:!0}),e.prev=2,e.next=5,Promise.all([Object(f.d)(n),Object(p.c)(n,"hosted")]);case 5:if(a=e.sent,i=G(a,2),c=i[0],s=i[1],this.setState({cotInstances:c.result}),!r){e.next=20;break}return e.next=13,Object(p.b)(n,"hosted",r);case 13:u=e.sent,l=Object(o.get)(u,"identityProvider.services.metaAlias",""),d=Object(o.get)(u,"serviceProvider.services.metaAlias",""),"",v=!!l&&!!d,this.setState({hasAllRoles:v,idpMetaAlias:l,spMetaAlias:d,baseUrl:""}),this.props.setInstance(u);case 20:this.props.setSchema(s),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),this.setState({fetchError:!0});case 26:return e.prev=26,this.setState({isFetching:!1}),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[2,23,26,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var n=e.metaAliases;if(n.idp||n.sp)n.idp===n.sp&&t.sp.addError(Object(i.b)("console.applications.federation.entityProviders.new.hosted.validation.duplicate"));else{var r=Object(i.b)("console.applications.federation.entityProviders.new.hosted.validation.atLeastOne");t.metaAliases.idp.addError(r),t.metaAliases.sp.addError(r)}var o=/\s+/;return o.test(n.idp)&&t.metaAliases.idp.addError(Object(i.b)("console.applications.federation.entityProviders.new.hosted.validation.whitespace")),o.test(n.sp)&&t.metaAliases.sp.addError(Object(i.b)("console.applications.federation.entityProviders.new.hosted.validation.whitespace")),t}},{key:"render",value:function(){var e=G(this.props.router.params,2),t=e[0],n=e[1],r=Object(o.endsWith)(t,"/")?t:"".concat(t,"/");if(this.state.fetchError)return l.a.createElement(z.a,null);var c=this.state.isFetching?l.a.createElement(S.a,null):l.a.createElement(M,$({isCreateDisabled:this.state.isSaving||this.state.hasAllRoles,onSave:this.handleSave,schema:ne(n,this.state.baseUrl,r,this.state.idpMetaAlias,this.state.spMetaAlias,Object(o.map)(this.state.cotInstances,"_id")),validate:this.validate},this.props));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{title:Object(i.b)("console.applications.federation.entityProviders.new.hosted.title")}),l.a.createElement(a.w,null,l.a.createElement(a.w.Body,null,c)))}}])&&H(n.prototype,r),c&&H(n,c),t}();re.propTypes={completeSchema:s.a.objectOf(s.a.any),instance:s.a.objectOf(s.a.any),router:K.a,setInstance:s.a.func.isRequired,setSchema:s.a.func.isRequired},re=Object(P.a)(re,function(e){return{instance:e.remote.config.realm.applications.federation.entityproviders.instance,completeSchema:e.remote.config.realm.applications.federation.entityproviders.schema}},function(e){return{setInstance:Object(r.a)(w.b,e),setSchema:Object(r.a)(j.b,e)}}),re=Object(J.a)(re);t.default=re}}]);
//# sourceMappingURL=42.0fa8eeea23.js.map