(window.webpackJsonp=window.webpackJsonp||[]).push([[118,262,263],{1356:function(e,t,n){var r=n(158);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=e.invokePartial(c(r,"headers/_TitleWithSubAndIcon"),t,{name:"headers/_TitleWithSubAndIcon",hash:{icon:"database",type:null!=t?c(t,"name"):t,title:null!=t?c(t,"id"):t},data:o,helpers:n,partials:r,decorators:e.decorators}))?a:"")+"\n<form data-json-form></form>"},usePartial:!0,useData:!0})},1357:function(e,t,n){var r=n(158);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,l=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\x3c!--\n  Copyright 2018-2019 ForgeRock AS. All Rights Reserved\n\n  Use of this code requires a commercial software license with ForgeRock AS.\n  or with one of its affiliates. All use shall be exclusively subject\n  to such license between the licensee and ForgeRock AS.\n--\x3e\n<button data-save "+(null!=(a=u(n,"if").call(c,null!=t?u(t,"saveDisabled"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:18},end:{line:8,column:53}}}))?a:"")+' class="btn btn-primary pull-right" type="button">\n    '+l((u(n,"t")||t&&u(t,"t")||i).call(c,"common.form.saveChanges",{name:"t",hash:{},data:o,loc:{start:{line:9,column:4},end:{line:9,column:35}}}))+'\n</button>\n\n<div class="form-inline pull-right load-datastore-schema">\n    <label class="control-label" for="loadSchema">\n        '+l((u(n,"t")||t&&u(t,"t")||i).call(c,"common.form.loadSchema",{name:"t",hash:{},data:o,loc:{start:{line:14,column:8},end:{line:14,column:38}}}))+'\n    </label>\n    \n    <label class="am-toggle-switch">\n        <input data-load-schema id="loadSchema" type="checkbox" />\n        <span />\n    </label>\n</div>\n'},useData:!0})},1466:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return b}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return v});n(31),n(33),n(144),n(27),n(67),n(35),n(34);var r=n(2),o=n(122),a=n(23),c=n(38),i=new o.a("".concat(a.a.host).concat(a.a.context,"/json")),l="/realm-config/services/id-repositories";function u(e,t,n,r){return i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(t,"/").concat(encodeURIComponent(r)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(n)})}function s(e,t){return i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function f(e,t){return Promise.all([s(e,t),i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(t,"?_action=template"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})]).then(function(e){return{schema:e[0],values:e[1]}})}function p(e){return i.serviceCall({url:Object(c.a)("".concat(l,"?_action=getCreatableTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function d(e){return i.serviceCall({url:Object(c.a)("".concat(l,"?_action=nextdescendents"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function m(e,t){var n=Object(r.map)(t,function(t){return i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(t._type._id,"/").concat(encodeURIComponent(t._id)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})});return Promise.all(n)}function h(e,t,n){return Promise.all([s(e,t),i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(encodeURIComponent(t),"/").concat(encodeURIComponent(n)),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})]).then(function(e){return e[1]})}function b(e,t){return i.serviceCall({url:Object(c.a)("".concat(l,"/").concat(encodeURIComponent(t._type._id),"/").concat(encodeURIComponent(t._id)),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify(Object(r.omit)(t,"_rev"))})}function y(e,t){return function(e){return i.serviceCall({url:Object(c.a)("".concat(l,"?_action=getAllTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}(e).then(function(e){var n=Object(r.find)(e.result,function(e){return e._id===t});return n?n.name:null})}function v(e,t){var n="".concat(l,"/").concat(encodeURIComponent(t._type._id),"/").concat(encodeURIComponent(t._id));return i.serviceCall({url:Object(c.a)("".concat(n,"?_action=loadSchema"),{realm:e}),type:"POST",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}},1686:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(143),n(33),n(53),n(54),n(27),n(67),n(62),n(35),n(34);var r=n(14),o=n.n(r),a=n(16),c=n(1466),i=n(123),l=n(1439),u=n(214),s=n(142),f=n(52),p=n(41),d=n(1356),m=n.n(d),h=n(1357),b=n.n(h);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A="templates/admin/views/realms/datastores/_DataStoresFooter",w=function(e){function t(){var e,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,g(t).call(this))).partials=(n={},r=A,o=b.a,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),e}var n,r,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,i["a"]),n=t,(r=[{key:"render",value:function(e){var t=this,n=v(e,3),r=n[0],i=n[1],d=n[2],h=new l.a({data:{id:d,headerActions:[{actionPartial:"form/_Button",data:"delete",title:"common.form.delete",icon:"fa-times"}],objectName:"identityStore"},footer:"templates/admin/views/realms/datastores/_DataStoresFooter",listRoute:p.a.configuration.routes.realmsDataStores,listRouteArgs:[encodeURIComponent(r)],template:m.a,getInstance:function(){return Promise.all([Object(c.f)(r,i),Object(c.b)(r,i,d),Object(c.g)(r,i)]).then(function(e){var t=v(e,3),n=t[0],r=t[1],o=t[2];return{id:d,name:o||i,schema:new u.a(n),values:new s.a(r)}})},updateInstance:function(e){return Object(c.j)(r,JSON.parse(e)).then(function(){return t.$el.find("[data-load-schema]").prop("checked")?Object(c.h)(r,JSON.parse(e)).then(function(){f.a.addMessage({message:Object(a.b)("config.messages.AdminMessages.schemaLoaded")}),t.$el.find("[data-load-schema]").prop("checked",!1)},function(e){f.a.addMessage({response:e,type:f.a.TYPE_DANGER})}):o.a.Deferred().resolve()})},deleteInstance:function(e){return Object(c.i)(r,[e.raw])}});this.parentRender(function(){t.$el.append(h.render().$el)})}}])&&O(n.prototype,r),d&&O(n,d),t}();t.default=w}}]);
//# sourceMappingURL=118.2cd81db029.js.map