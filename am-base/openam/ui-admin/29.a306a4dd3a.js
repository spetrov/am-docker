(window.webpackJsonp=window.webpackJsonp||[]).push([[29,296],{1233:function(e,t,n){var r=n(158);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return'<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway">\n    <i class="fa fa-info-circle"></i>\n</a>\n'},useData:!0})},1400:function(e,t,n){"use strict";n(50),n(144);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),s=n(41),c=n(88);t.a=function(e){var t=function(t){var n=s.a.currentRoute,r=s.a.extractParameters(n,c.a.getCurrentFragment()),o=s.a.applyDefaultParameters(n,r),u={params:a.a.map(o,function(e){return e?decodeURIComponent(e):""})};return i.a.createElement(e,a.a.extend({},t,{router:u}))};return t.displayName="withRouter(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t.WrappedComponent=e,t}},1401:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=a.a.shape({params:a.a.array.isRequired});t.a=o},1402:function(e,t,n){"use strict";n(144),n(81);var r=n(1424),a=n(1),o=n.n(a),i=n(64);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var c=r.a.apply(void 0,n)(e),u=function(e){return o.a.createElement(c,s({},e,{store:i.a}))};return u.displayName="connectWithStore(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),u.WrappedComponent=e,u}},1403:function(e,t,n){"use strict";n(143),n(63),n(33),n(27),n(19),n(34),n(1413);var r=n(2),a=n.n(r),o=n(14),i=n.n(o),s=n(100),c=n.n(s),u=n(1414),l=n.n(u),p=n(1233),f=n.n(p),m=n(1416),d=n(214),h=n(142),b=n(1411);function y(e,t){var n=t.schema,r=t.values,a=t.hideInheritance,o=void 0!==a&&a;l.a.plugins.selectize.enable=!0,l.a.plugins.selectize.plugins=function(e){return[{name:"enum_plugin",options:{schema:e}}]},l.a.defaults.themes.openam=m.a.getTheme(6,4);var s=n.toFlatWithInheritanceMeta(r),c=r.removeInheritance();s=s.raw,c=c.raw;var u=new l.a(e[0],{disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,hide_inheritance:o,iconlib:"fontawesome4",schema:s,theme:"openam"});return function(e){var t=f()();i()(e).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(e,n){var r=i()(t);r.popoverclickaway({container:"#content",html:!0,placement:"auto top",content:n.innerHTML}).click(function(e){e.preventDefault()}),i()(n).parent().append(r)})}(e),function(e){i()(e).find("input:password").attr("placeholder",i.a.t("common.form.passwordPlaceholder"))}(e),u.setValue(c),u}n.n(b).a.define("enum_plugin",function(e){var t,n=this,r=arguments,o=e.schema,i=a.a.indexOf(o.enum,"");i>-1?(n.plugins.settings.dropdown_header={title:o.options.enum_titles[i]},n.require("dropdown_header"),n.setup=(t=n.setup,function(){t.apply(n,r),n.$dropdown.on("mousedown",".selectize-dropdown-header",function(){return n.setValue(""),n.close(),n.blur(),!1})})):function(){var e;n.deleteSelection=(e=n.deleteSelection,function(t){return!!function(e){return!e||8!==e.keyCode}(t)&&e.apply(n,r)})}()});var v=c.a.View.extend({className:"jsoneditor-block",initialize:function(e){if(!(e.schema instanceof d.a))throw new TypeError('[JSONEditorView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof h.a))throw new TypeError('[JSONEditorView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{displayTitle:!0})},toggleInheritance:function(e,t,n){this.options.values=this.options.values.extend(this.getData()),this.options.values=this.options.values.addValueForPath([e,"inherited"],n),this.options.values=this.options.values.addValueForPath([e,"value"],t),this.render()},render:function(){this.$el.empty();var e=a.a.get(this.jsonEditor,"watchlist");return this.jsonEditor=y(this.$el,this.options),this.jsonEditor.watchlist=e,this.options.displayTitle||this.$el.find("[data-header]").parent().hide(),this},isValid:function(){return 0===this.jsonEditor.validate().length},getData:function(){var e=new h.a(this.jsonEditor.getValue());return this.options.schema.hasDefaultProperties()&&(e=e.pick(this.options.schema.raw.defaultProperties)),(e=(e=e.nullifyEmptyPasswords(this.options.schema.getPasswordKeys())).addInheritance(this.options.values.raw)).raw},setData:function(e){this.options.values=this.options.values.extend(e)},watch:function(e,t){this.jsonEditor.watch(e,t)},destroy:function(){var e=this,t=a.a.keys(this.jsonEditor.watchlist);a.a.forEach(t,function(t){e.jsonEditor.unwatch(t)}),this.jsonEditor.destroy(),this.jsonEditor=null}});t.a=v},1406:function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(1),s=n.n(i),c=function(e){var t=e.children,n=e.icon,a=e.title,o=e.subtitle,i=o?"deep":"shallow",c=n?s.a.createElement("span",{className:"header-icon pull-left bg-primary"},s.a.createElement("i",{className:"fa fa-".concat(n)})):null,u=function(e){return e?Object(r.isString)(e)?s.a.createElement("h4",{className:"page-type"},e):e:null}(o);return s.a.createElement("header",{className:"page-header page-header-no-border clearfix"},c,s.a.createElement("div",{className:"button-group pull-right ".concat(i,"-page-header-button-group")},t),s.a.createElement("div",{className:"pull-left"},u,s.a.createElement("h1",{className:"wordwrap"},a)))};c.propTypes={children:o.a.node,icon:o.a.string,subtitle:o.a.node,title:o.a.string.isRequired},t.a=c},1407:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(16);t.a=function(){return a.a.createElement("p",{className:"loading text-muted"},a.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),a.a.createElement("span",null,Object(o.b)("console.common.loading")))}},1408:function(e,t,n){"use strict";n(33),n(27),n(34);var r=n(2),a=n.n(r),o=n(100),i=n.n(o),s=n(1403),c=n(214),u=n(142);var l=i.a.View.extend({initialize:function(e){if(!(e.schema instanceof c.a))throw new TypeError('[FlatJSONSchemaView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof u.a))throw new TypeError('[FlatJSONSchemaView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{showOnlyRequiredAndEmpty:!1,showOnlyRequired:!1})},render:function(){var e,t=this.options.schema,n=!0;if(this.options.showOnlyRequiredAndEmpty){var r=this.options.schema.getRequiredPropertyKeys(),o=this.options.values.getEmptyValueKeys(t),i=a.a.intersection(r,o);t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(i),n=!a.a.isEmpty(i)}else if(this.options.showOnlyRequired){var c=this.options.schema.getRequiredPropertyKeys();t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(c),n=!a.a.isEmpty(c)}return this.subview=new s.a({displayForm:n,hideInheritance:this.options.hideInheritance,displayTitle:!1,el:this.$el,schema:t,values:this.options.values}).render(),(e=this.options.onRendered)&&setTimeout(e,0),this},isValid:function(){return!this.subview||this.subview.isValid()},getData:function(){var e;if(this.subview)return(e=this.subview).getData.apply(e,arguments)},setData:function(e){if(this.subview)return this.options.values=this.options.values.extend(e),this.subview.setData(e)},watch:function(e,t){this.subview&&this.subview.watch(e,t)},destroy:function(){this.subview&&(this.subview.destroy(),this.subview=null)}});t.a=l},1417:function(e,t,n){"use strict";n(15),n(63),n(81),n(18);var r=n(25),a=n(2),o=n(0),i=n.n(o),s=n(1),c=n.n(s);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=function(e){var t=e.children,n=e.href,o=e.title,i=e.onClick;if(t){var s=Object(a.map)(t,function(e){var t=e.title,n=l(e,["title"]);return c.a.createElement(r.t,u({key:t},n),t)});return c.a.createElement(r.d,null,c.a.createElement(r.j,{bsStyle:"primary",disabled:Object(a.isEmpty)(s),id:Object(a.camelCase)(o),title:o},s))}return c.a.createElement(r.d,null,c.a.createElement(r.c,{bsStyle:"primary",href:n,onClick:i},c.a.createElement("i",{className:"fa fa-plus"})," ",o))};p.propTypes={children:i.a.arrayOf(i.a.shape({onClick:i.a.func,href:i.a.string,title:i.a.string.isRequired})),href:i.a.string,onClick:i.a.func,title:i.a.string.isRequired},t.a=p},1418:function(e,t,n){"use strict";n(15),n(36),n(37),n(17),n(33),n(1422),n(81),n(21),n(22),n(53),n(18),n(54),n(27),n(35),n(19),n(34);var r=n(2),a=n(160),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(25),l=n(16),p=n(1417),f=function(e){var t=e.additionalButtons,n=e.addButton,r=e.isDeleteDisabled,a=e.onDelete,o=e.numberSelected,i=o?"(".concat(o,")"):"";return c.a.createElement(u.e,{className:"page-toolbar"},c.a.createElement(p.a,{href:n.href,onClick:n.handleOnClick,title:n.title},n.menuItems),c.a.createElement(u.c,{disabled:r,onClick:a},c.a.createElement("i",{className:"fa fa-close"})," ",Object(l.b)("common.form.delete")," ",i),t)};f.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,additionalButtons:i.a.node,isDeleteDisabled:i.a.bool.isRequired,numberSelected:i.a.number.isRequired,onDelete:i.a.func.isRequired};var m=f,d=n(1428),h=function(e){var t=e.addButton,n=e.description,r=e.title;return c.a.createElement(d.a,null,c.a.createElement("p",{className:"text-primary"},c.a.createElement("i",{className:"fa fa-list-alt fa-4x"})),c.a.createElement("h2",null,r),c.a.createElement("p",{className:"panel-description text-muted"},n),c.a.createElement(p.a,{href:t.href,onClick:t.handleOnClick,title:t.title},t.menuItems))};h.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,description:i.a.string.isRequired,title:i.a.string.isRequired};var b=h,y=n(1407),v=n(369);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=j(t).call(this),e=!r||"object"!==g(r)&&"function"!=typeof r?S(n):r,C(S(e),"handleDelete",function(){e.props.onDelete(e.state.selectedItems)}),C(S(e),"handleSelectedChange",function(t){e.setState({selectedItems:t})}),e.state={selectedItems:[]},e}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,s["Component"]),n=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!Object(r.isEqual)(Object(r.map)(this.props.items,this.props.keyField).sort(),Object(r.map)(e.items,this.props.keyField).sort())&&this.setState({selectedItems:[]})}},{key:"render",value:function(){var e,t=Object(r.omit)(this.props,"children");if(this.props.isFetching)e=c.a.createElement(y.a,null);else if(Object(r.isEmpty)(this.props.items))e=c.a.createElement(b,t);else{var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{data:this.props.items,onSelectedChange:this.handleSelectedChange,selectedItems:this.state.selectedItems}),a=c.a.createElement(m,O({},t,{isDeleteDisabled:!this.state.selectedItems.length,numberSelected:this.state.selectedItems.length,onDelete:this.handleDelete}));e=c.a.createElement("div",null,a,c.a.createElement(v.a,n,this.props.children))}return e}}])&&E(n.prototype,a),o&&E(n,o),t}();_.defaultProps={keyField:"_id"},_.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})),i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})]).isRequired,isFetching:i.a.bool.isRequired,items:i.a.arrayOf(i.a.object).isRequired,keyField:i.a.string,onDelete:i.a.func.isRequired};t.a=_},1422:function(e,t,n){"use strict";var r=n(39),a=n(215),o=n(89),i=n(44),s=n(216),c=[].sort,u=[1,2,3],l=i(function(){u.sort(void 0)}),p=i(function(){u.sort(null)}),f=s("sort");r({target:"Array",proto:!0,forced:l||!p||f},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),a(e))}})},1423:function(e,t,n){"use strict";n(143),n(114);var r=n(2),a=n(1431),o=n.n(a);function i(e){e.data.dialog.$modalContent.find("[autofocus]").focus(),function(e){Object(r.each)(e.options.buttons,function(t){!0===t.disabled&&e.getButton(t.id).disable()})}(e.data.dialog)}var s={};s.TYPE_DEFAULT=o.a.TYPE_DEFAULT,s.TYPE_INFO=o.a.TYPE_INFO,s.TYPE_PRIMARY=o.a.TYPE_PRIMARY,s.TYPE_SUCCESS=o.a.TYPE_SUCCESS,s.TYPE_WARNING=o.a.TYPE_WARNING,s.TYPE_DANGER=o.a.TYPE_DANGER,s.SIZE_NORMAL=o.a.SIZE_NORMAL,s.SIZE_SMALL=o.a.SIZE_SMALL,s.SIZE_WIDE=o.a.SIZE_WIDE,s.SIZE_LARGE=o.a.SIZE_LARGE,Object(r.each)(["show","confirm","warning","danger","success"],function(e){s[e]=function(t){var n=new o.a[e](t),r=t.type||s.TYPE_PRIMARY;return r=r.replace("type","text"),n.getModalHeader().addClass(r),n.getModal().on("shown.bs.modal",{dialog:n},i),n}}),t.a=s},1427:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(31);var r=n(16),a=n(1423);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.b)("common.form.delete");a.a.confirm({type:a.a.TYPE_DANGER,title:"".concat(Object(r.b)("common.form.confirm")," ").concat(n),message:e.message?e.message:Object(r.b)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:n,btnOKClass:"btn-danger",callback:function(e){e&&t&&t()}})}},1428:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){var t=e.children;return i.a.createElement("div",{className:"call-to-action-block"},t)};s.propTypes={children:a.a.node},t.a=s},1436:function(e,t,n){"use strict";var r=n(25),a=n(16),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=function(e){var t=e.disabled,n=e.onSaveClick;return c.a.createElement(r.f,null,c.a.createElement("div",{className:"pull-right"},c.a.createElement(r.c,{bsStyle:"primary",disabled:t,onClick:n},Object(a.b)("common.form.saveChanges"))))};u.defaultProps={disabled:!1},u.propTypes={disabled:i.a.bool,onSaveClick:i.a.func.isRequired},t.a=u},1467:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return y});n(15),n(36),n(37),n(33),n(50),n(27),n(67),n(62),n(35),n(34);var r=n(162),a=n(370),o=n(372),i=n(371);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e,t){var n="/realm-config/secrets/stores",o=t?"".concat(n,"/").concat(t):n;return new r.CRESTv2(Object(i.a)(o,e),{middleware:[a.a]})},u=function(e,t,n,r){return Object(o.a)(c(e,t).create(n,{id:r}))},l=function(e,t,n){return c(e,t).get(n)},p=function(e,t){return c(e,t).queryFilter()},f=function(e){return c(e).action("getCreatableTypes")},m=function(e,t){return c(e,t).action("getCreatableTypes")},d=function(e,t){return Promise.all([c(e,t).action("schema"),c(e,t).action("template")]).then(function(e){var t=s(e,2);return{schema:t[0],values:t[1]}})},h=function(e,t){return c(e,t).action("schema")},b=function(e,t){return Object(o.a)(Promise.all(t.map(function(t){return c(e,t._type._id).delete(t._id)})))},y=function(e,t,n,r){return Object(o.a)(c(e,t).update(n,r))}},1475:function(e,t,n){"use strict";n(15),n(36),n(37),n(31),n(33),n(53),n(54),n(27),n(35),n(34);var r=n(25),a=n(2),o=n(16),i=n(0),s=n.n(i),c=n(1),u=n.n(c),l=n(1436),p=n(1408),f=n(214),m=n(142),d=n(1407),h=n(52);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return r=this,a=(e=v(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==b(a)&&"function"!=typeof a?g(r):a,w(g(n),"handleSave",function(){if(n.jsonSchemaView.subview.isValid()){var e=new m.a(n.jsonSchemaView.subview.getData()).removeNullPasswords(new f.a(n.props.schema));n.props.onSave(e.raw)}else h.a.addMessage({message:Object(o.b)("common.form.validation.errorsNotSaved"),type:h.a.TYPE_DANGER})}),w(g(n),"setRef",function(e){n.form=e}),n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,c["Component"]),n=t,(i=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.jsonSchemaView&&!Object(a.isEqual)(this.props.schema,e.schema)&&(this.jsonSchemaView.destroy(),this.jsonSchemaView=null),this.jsonSchemaView&&(this.jsonSchemaView.setData(e.values),this.jsonSchemaView.render())}},{key:"componentDidUpdate",value:function(){!this.jsonSchemaView&&this.form&&this.props.values&&this.props.schema&&(this.jsonSchemaView=new p.a({schema:new f.a(this.props.schema),values:new m.a(this.props.values)}),this.form.appendChild(this.jsonSchemaView.render().el))}},{key:"render",value:function(){return this.props.isFetching?u.a.createElement(d.a,null):u.a.createElement(c.Fragment,null,u.a.createElement(r.w.Body,null,u.a.createElement("div",{ref:this.setRef})),u.a.createElement(r.w.Footer,null,u.a.createElement(l.a,{onSaveClick:this.handleSave})))}}])&&y(n.prototype,i),s&&y(n,s),t}();E.propTypes={isFetching:s.a.bool.isRequired,onSave:s.a.func.isRequired,schema:s.a.objectOf(s.a.any),values:s.a.objectOf(s.a.any)},t.a=E},1501:function(e,t,n){"use strict";n(144);var r=n(25),a=n(16),o=n(0),i=n.n(o),s=n(1),c=n.n(s),u=n(1407),l=n(1406),p=function(e){var t=e.instance,n=e.isFetching,o=e.onDelete,i=e.mappingsChild,p=e.mappingsTitle,f=e.settingsChild;if(n)return c.a.createElement(u.a,null);var m=p?c.a.createElement(r.B,{animation:!0,defaultActiveKey:1,id:"editSecretStore",mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(r.z,{eventKey:1,title:Object(a.b)("common.form.settings")},c.a.createElement(r.w,{className:"fr-panel-tab clearfix"},f)),c.a.createElement(r.z,{eventKey:2,title:p},c.a.createElement(r.w,{className:"fr-panel-tab clearfix"},i))):c.a.createElement(r.w,null,f);return c.a.createElement(s.Fragment,null,c.a.createElement(l.a,{icon:"eye",subtitle:t._type.name,title:t._id},c.a.createElement(r.c,{onClick:o},c.a.createElement("i",{className:"fa fa-times"})," ",Object(a.b)("common.form.delete"))),m)};p.propTypes={instance:i.a.shape({_id:i.a.string.isRequired,_type:i.a.shape({name:i.a.string.isRequired}).isRequired}),isFetching:i.a.bool.isRequired,mappingsChild:i.a.node,mappingsTitle:i.a.string,onDelete:i.a.func.isRequired,settingsChild:i.a.node},t.a=p},1522:function(e,t,n){"use strict";n(15),n(36),n(37),n(33),n(53),n(54),n(27),n(35),n(34);var r=n(25),a=n(2),o=n(16),i=n(160),s=n(0),c=n.n(s),u=n(1),l=n.n(u),p=(n(63),n(81),n(18),n(177)),f=n(401),m=n(403);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=Object(p.SortableElement)(function(e){var t=e.children,n=h(e,["children"]),a=0===n.position,i=a?l.a.createElement(r.b,{pullRight:!0},Object(o.b)("console.secretStores.edit.mappings.form.aliasField.active")):null;return l.a.createElement(f.a,d({},n,{bsStyle:a?"success":null}),i,l.a.createElement("div",{style:{paddingRight:50}},t))}),y=function(e){var t=e.formData,n=e.idSchema,r=e.onChange,a=e.schema,i=h(e,["formData","idSchema","onChange","schema"]),s=a.items,c=a.minItems,u=a.uniqueItems;return l.a.createElement(m.a,d({components:{Item:b},id:n.$id,itemSchema:s,label:Object(o.b)("console.secretStores.edit.mappings.form.aliasField.label"),minItems:c,onChange:r,placeholder:Object(o.b)("console.secretStores.edit.mappings.form.aliasField.placeholder"),uniqueItems:u,values:t},i))};y.defaultProps={formData:[]},y.propTypes={formData:c.a.arrayOf(c.a.any),idSchema:c.a.objectOf(c.a.any),onChange:c.a.func.isRequired,schema:c.a.shape({items:c.a.shape({minLength:c.a.number}).isRequired,minItems:c.a.number,uniqueItems:c.a.bool}).isRequired};var v=y,g=n(375),O=n(217),w=n(380);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(w.a)(O.a),T=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==E(a)&&"function"!=typeof a?R(r):a,_(R(n),"handleOnCreate",function(){n.form.submit()}),_(R(n),"handleOnChange",function(e){var t=e.formData;n.setState({formData:t})}),_(R(n),"handleOnSubmit",function(e){var t=e.formData;n.props.onCreate(t)}),_(R(n),"setFormRef",function(e){n.form=e}),n.state={formData:n.props.template},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,u["Component"]),n=t,(a=[{key:"render",value:function(){return l.a.createElement(r.u,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},l.a.createElement(r.u.Header,{closeButton:!0},l.a.createElement(r.u.Title,null,Object(o.b)("console.secretStores.edit.mappings.new.title"))),l.a.createElement(g.a,null,l.a.createElement(r.u.Body,null,l.a.createElement(P,{formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":v}}})),l.a.createElement(r.u.Footer,null,l.a.createElement(r.f,null,l.a.createElement("div",{className:"pull-right"},l.a.createElement("div",{className:"am-btn-action-group"},l.a.createElement(r.c,{onClick:this.props.onClose},Object(o.b)("common.form.cancel")),l.a.createElement(r.c,{bsStyle:"primary",onClick:this.handleOnCreate},Object(o.b)("common.form.create"))))))))}}])&&j(n.prototype,a),i&&j(n,i),t}();T.propTypes={onClose:c.a.func.isRequired,onCreate:c.a.func.isRequired,schema:c.a.objectOf(c.a.any).isRequired,show:c.a.bool.isRequired,template:c.a.objectOf(c.a.any).isRequired};var k=T;function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=I(t).call(this,e),n=!a||"object"!==D(a)&&"function"!=typeof a?x(r):a,N(x(n),"handleOnChange",function(e){var t=e.formData;n.setState({formData:t})}),N(x(n),"handleOnSave",function(){n.form.submit()}),N(x(n),"handleOnSubmit",function(e){var t=e.formData;n.props.onSave(t,t._id)}),N(x(n),"setFormRef",function(e){n.form=e}),n.state={formData:e.instance},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,u["Component"]),n=t,(a=[{key:"render",value:function(){return l.a.createElement(r.u,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},l.a.createElement(r.u.Header,{closeButton:!0},l.a.createElement(r.u.Title,null,Object(o.b)("console.secretStores.edit.mappings.edit.title"))),l.a.createElement(g.a,null,l.a.createElement(r.u.Body,null,l.a.createElement(O.a,{editValidationMode:!0,formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":v}}})),l.a.createElement(r.u.Footer,null,l.a.createElement(r.f,null,l.a.createElement("div",{className:"pull-right"},l.a.createElement("div",{className:"am-btn-action-group"},l.a.createElement(r.c,{onClick:this.props.onClose},Object(o.b)("common.form.cancel")),l.a.createElement(r.c,{bsStyle:"primary",onClick:this.handleOnSave},Object(o.b)("common.form.save"))))))))}}])&&q(n.prototype,a),i&&q(n,i),t}();A.propTypes={instance:c.a.objectOf(c.a.any).isRequired,onClose:c.a.func.isRequired,onSave:c.a.func.isRequired,schema:c.a.objectOf(c.a.any).isRequired,show:c.a.bool.isRequired};var M=A,V=n(1418),U=function(e){var t=e.popover,n=e.title;if(t){var a=l.a.createElement(r.x,{id:"helpText"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}}));return l.a.createElement(u.Fragment,null,n," ",l.a.createElement(r.v,{overlay:a,placement:"top"},l.a.createElement("i",{className:"fa fa-info-circle text-primary"})))}return n};U.propTypes={popover:c.a.string,title:c.a.string.isRequired};var Y=U;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=G(t).call(this,e),n=!o||"object"!==B(o)&&"function"!=typeof o?H(r):o,W(H(n),"handleCreate",function(e){n.props.onCreate(e).then(function(){n.setState({showCreateModal:!1})},a.noop)}),W(H(n),"handleCreateModalClose",function(){n.setState({showCreateModal:!1})}),W(H(n),"handleCreateModalShow",function(){n.props.onRefetchSchema(),n.setState({showCreateModal:!0})}),W(H(n),"handleEditModalClose",function(){n.setState({showEditModal:!1})}),W(H(n),"handleEditModalShow",function(){n.props.onRefetchSchema(),n.setState({showEditModal:!0})}),W(H(n),"handleSave",function(e,t){n.props.onSave(e,t).then(function(){n.handleEditModalClose()},a.noop)}),W(H(n),"handleTableRowClick",function(e){n.setState({editRowInstance:e}),n.handleEditModalShow()}),n.state={showCreateModal:!1,showEditModal:!1,editRowInstance:{}},n}var n,s,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,u["Component"]),n=t,(s=[{key:"activeAliasTitle",value:function(e){return e[0]}},{key:"activeAliasDataFormat",value:function(e){return l.a.createElement("span",null,e[0])}},{key:"aliasesDataFormat",value:function(e){return l.a.createElement(r.b,null,e.length)}},{key:"render",value:function(){var e=this.state.showCreateModal?l.a.createElement(k,{onClose:this.handleCreateModalClose,onCreate:this.handleCreate,schema:this.props.schema,show:this.state.showCreateModal,template:this.props.template}):null,t=this.state.showEditModal?l.a.createElement(M,{instance:this.state.editRowInstance,onClose:this.handleEditModalClose,onSave:this.handleSave,schema:this.props.schema,show:this.state.showEditModal}):null,n=this.props.schema?[l.a.createElement(i.TableHeaderColumn,{columnTitle:!0,dataField:"secretId",dataSort:!0,key:"secretId"},l.a.createElement(Y,{popover:this.props.schema.properties.secretId.description,title:this.props.schema.properties.secretId.title})),l.a.createElement(i.TableHeaderColumn,{columnTitle:this.activeAliasTitle,dataField:"aliases",dataFormat:this.activeAliasDataFormat,key:"activeAlias"},l.a.createElement(Y,{popover:Object(o.b)("console.secretStores.edit.mappings.grid.activeAlias.description"),title:Object(o.b)("console.secretStores.edit.mappings.grid.activeAlias.title")})),l.a.createElement(i.TableHeaderColumn,{dataAlign:"center",dataField:"aliases",dataFormat:this.aliasesDataFormat,key:"aliases",width:"100px"},l.a.createElement(Y,{popover:this.props.schema.properties.aliases.description,title:this.props.schema.properties.aliases.title}))]:null;return l.a.createElement(r.w.Body,null,l.a.createElement(V.a,{addButton:{handleOnClick:this.handleCreateModalShow,title:Object(o.b)("console.secretStores.edit.mappings.callToAction.button")},description:Object(o.b)("console.secretStores.edit.mappings.callToAction.description"),isFetching:this.props.isFetching,items:this.props.instances,keyField:"secretId",onDelete:this.props.onDelete,onRowClick:this.handleTableRowClick,title:Object(o.b)("console.secretStores.edit.mappings.callToAction.title")},n),e,t)}}])&&L(n.prototype,s),c&&L(n,c),t}();K.propTypes={instances:c.a.arrayOf(c.a.object),isFetching:c.a.bool.isRequired,onCreate:c.a.func.isRequired,onDelete:c.a.func.isRequired,onRefetchSchema:c.a.func.isRequired,onSave:c.a.func.isRequired,schema:c.a.objectOf(c.a.any),template:c.a.objectOf(c.a.any)};t.a=K},1714:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(17),n(33),n(53),n(54),n(27),n(67),n(62),n(35),n(34),n(271);var r=n(10),a=n(2),o=n(16),i=n(0),s=n.n(i),c=n(1),u=n.n(c),l=n(520),p=n(388),f=n(1467),m=n(1402),d=n(1501),h=n(442),b=(n(31),n(50),n(162)),y=n(370),v=n(372),g=n(371),O=function(e,t,n){return new b.CRESTv2(Object(g.a)("/realm-config/secrets/stores/".concat(t,"/").concat(encodeURIComponent(n),"/mappings"),e),{middleware:[y.a]})},w=function(e,t,n,r,a){return Object(v.a)(O(e,t,n).create(r,{id:a}))},E=function(e,t,n){return O(e,t,n).queryFilter()},j=function(e,t,n){return O(e,t,n).action("schema")},S=function(e,t,n){return O(e,t,n).action("template")},R=function(e,t,n,r){return Object(v.a)(Promise.all(r.map(function(r){return O(e,t,n).delete(r._id)})))},C=function(e,t,n,r,a){return Object(v.a)(O(e,t,n).update(a,r))},_=n(443),P=n(444),T=n(1522),k=n(52),D=n(1427),q=n(1400),I=n(1401);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,s,"next",e)}function s(e){F(o,r,a,i,s,"throw",e)}i(void 0)})}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=V(t).call(this,e),n=!i||"object"!==x(i)&&"function"!=typeof i?U(r):i,B(U(n),"handleDelete",function(e){var t=A(n.props.router.params,3),r=t[0],i=t[1],s=t[2];Object(D.a)({message:Object(o.b)("console.secretStores.edit.mappings.confirmDeleteSelected",{count:e.length})},N(regeneratorRuntime.mark(function t(){var c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(r,i,s,e);case 2:c=t.sent,Object(a.forEach)(c,function(e){var t=e._id;n.props.removeInstance(t)}),k.a.addMessage({message:Object(o.b)("config.messages.CommonMessages.changesSaved")});case 5:case"end":return t.stop()}},t)})))}),B(U(n),"handleRefetchSchema",N(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=A(n.props.router.params,3),r=t[0],a=t[1],o=t[2],e.next=3,j(r,a,o);case 3:i=e.sent,n.props.setSchema(i);case 5:case"end":return e.stop()}},e)}))),B(U(n),"handleSave",function(){var e=N(regeneratorRuntime.mark(function e(t,r){var a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=A(n.props.router.params,3),i=a[0],s=a[1],c=a[2],e.next=3,C(i,s,c,t,r);case 3:u=e.sent,n.props.addOrUpdate(u),k.a.addMessage({message:Object(o.b)("config.messages.CommonMessages.changesSaved")});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),B(U(n),"handleCreate",function(){var e=N(regeneratorRuntime.mark(function e(t){var r,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(n.props.router.params,3),a=r[0],i=r[1],s=r[2],e.next=3,w(a,i,s,t,t.secretId);case 3:c=e.sent,n.props.addOrUpdate(c),k.a.addMessage({message:Object(o.b)("console.secretStores.edit.mappings.mappingAdded")});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.state={isFetching:!0},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=N(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=A(this.props.router.params,3),n=t[0],r=t[1],a=t[2],e.prev=1,e.next=4,Promise.all([E(n,r,a),j(n,r,a),S(n,r,a)]);case 4:o=e.sent,i=A(o,3),s=i[0].result,c=i[1],u=i[2],this.props.setSchema(c),this.props.setTemplate(u),this.props.setInstances(s);case 12:return e.prev=12,this.setState({isFetching:!1}),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement(T.a,{instances:this.props.instances,isFetching:this.state.isFetching,onCreate:this.handleCreate,onDelete:this.handleDelete,onRefetchSchema:this.handleRefetchSchema,onSave:this.handleSave,schema:this.props.schema,template:this.props.template})}}])&&M(n.prototype,r),i&&M(n,i),t}();L.propTypes={addOrUpdate:s.a.func.isRequired,instances:s.a.arrayOf(s.a.object).isRequired,removeInstance:s.a.func.isRequired,router:I.a,schema:s.a.objectOf(s.a.any),setInstances:s.a.func.isRequired,setSchema:s.a.func.isRequired,setTemplate:s.a.func.isRequired,template:s.a.objectOf(s.a.any)},L=Object(m.a)(L,function(e){return{instances:Object(a.sortBy)(Object(a.values)(e.local.config.realm.secretStores.instances.current.mappings.instances),"_id"),schema:e.local.config.realm.secretStores.instances.current.mappings.schema,template:e.local.config.realm.secretStores.instances.current.mappings.template}},function(e){return{addOrUpdate:Object(r.a)(h.a,e),removeInstance:Object(r.a)(h.c,e),setInstances:Object(r.a)(h.d,e),setSchema:Object(r.a)(_.b,e),setTemplate:Object(r.a)(P.b,e)}});var G=L=Object(q.a)(L),H=n(41),J=n(399),W=n(1475);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,s,"next",e)}function s(e){z(o,r,a,i,s,"throw",e)}i(void 0)})}}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(e){var n,r,a,i,s,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=X(t).call(this,e),n=!a||"object"!==K(a)&&"function"!=typeof a?ee(r):a,s=ee(n),c="handleSave",i=$(regeneratorRuntime.mark(function e(t){var r,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(n.props.router.params,3),a=r[0],i=r[1],s=r[2],e.prev=1,e.next=4,Object(f.i)(a,i,s,t);case 4:c=e.sent,n.props.addOrUpdateInstance(c),k.a.addMessage({message:Object(o.b)("config.messages.CommonMessages.changesSaved")}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k.a.addMessage({response:e.t0,type:k.a.TYPE_DANGER});case 12:case"end":return e.stop()}},e,null,[[1,9]])})),u=function(e){return i.apply(this,arguments)},c in s?Object.defineProperty(s,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[c]=u,n.state={isFetching:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=$(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z(this.props.router.params,2),n=t[0],r=t[1],e.prev=1,e.next=4,Object(f.g)(n,r);case 4:a=e.sent,this.props.addOrUpdateSchema(a,r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k.a.addMessage({response:e.t0,type:k.a.TYPE_DANGER});case 11:return e.prev=11,this.setState({isFetching:!1}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement(W.a,{isFetching:this.state.isFetching,isTab:this.props.isTab,onSave:this.handleSave,schema:this.props.schema,values:this.props.instance})}}])&&Q(n.prototype,r),a&&Q(n,a),t}();ne.propTypes={addOrUpdateInstance:s.a.func.isRequired,addOrUpdateSchema:s.a.func.isRequired,instance:s.a.objectOf(s.a.any),isTab:s.a.bool,router:I.a,schema:s.a.objectOf(s.a.any)},ne=Object(m.a)(ne,function(e,t){var n=Z(t.router.params,3),r=n[1],o=n[2],i=e.remote.config.realm.secretStores.types.schema,s=e.remote.config.realm.secretStores.instances.list,c=Object(a.find)(s,function(e){return e._id===o&&e._type._id===r});return{schema:i[r],instance:c}},function(e){return{addOrUpdateInstance:Object(r.a)(p.a,e),addOrUpdateSchema:Object(r.a)(J.a,e)}});var re=Object(q.a)(ne);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){oe(o,r,a,i,s,"next",e)}function s(e){oe(o,r,a,i,s,"throw",e)}i(void 0)})}}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){var n,r,a,i,s,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ue(t).call(this,e),n=!a||"object"!==ae(a)&&"function"!=typeof a?le(r):a,i=le(n),c=function(){var e=se(n.props.router.params,1)[0];Object(D.a)({message:Object(o.b)("console.common.confirmDeleteItem")},ie(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.h)(e,[n.props.instance]);case 3:k.a.addMessage({message:Object(o.b)("config.messages.CommonMessages.changesSaved")}),H.a.routeTo(H.a.configuration.routes.realmsSecretStores,{args:[encodeURIComponent(e)],trigger:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),k.a.addMessage({response:t.t0,type:k.a.TYPE_DANGER});case 10:case"end":return t.stop()}},t,null,[[0,7]])})))},(s="handleDelete")in i?Object.defineProperty(i,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[s]=c,n.state={isFetching:!0},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=ie(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(this.props.router.params,3),n=t[0],r=t[1],a=t[2],e.prev=1,e.next=4,Promise.all([Object(f.b)(n,r,a),Object(f.e)(n,r)]);case 4:o=e.sent,i=se(o,2),s=i[0],c=i[1],this.props.addOrUpdateCreatables(c.result,r),this.props.addOrUpdateInstance(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),k.a.addMessage({response:e.t0,type:k.a.TYPE_DANGER});case 15:return e.prev=15,this.setState({isFetching:!1}),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(a.get)(this.props.creatables,"[0].name"),t=e?u.a.createElement(G,null):null;return u.a.createElement(d.a,{instance:this.props.instance,isFetching:this.state.isFetching,mappingsChild:t,mappingsTitle:e,onDelete:this.handleDelete,settingsChild:u.a.createElement(re,null)})}}])&&ce(n.prototype,r),i&&ce(n,i),t}();fe.propTypes={addOrUpdateCreatables:s.a.func.isRequired,addOrUpdateInstance:s.a.func.isRequired,creatables:s.a.arrayOf(s.a.object),instance:s.a.objectOf(s.a.any),router:I.a},fe=Object(m.a)(fe,function(e,t){var n=se(t.router.params,3),r=n[1],a=n[2];return{creatables:e.remote.config.realm.secretStores.types.creatables[r],instance:e.remote.config.realm.secretStores.instances.list.filter(function(e){return e._id===a&&e._type._id===r})[0]}},function(e){return{addOrUpdateInstance:Object(r.a)(p.a,e),addOrUpdateCreatables:Object(r.a)(l.a,e)}});t.default=Object(q.a)(fe)}}]);
//# sourceMappingURL=29.a306a4dd3a.js.map