(window.webpackJsonp=window.webpackJsonp||[]).push([[16,153,154,155,226,227,248,249,250],{1243:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="pull-right btn-group">\n    <button name="edit" type="button" class="btn btn-link" title="'+r((s(n,"t")||t&&s(t,"t")||i).call(l,"common.form.edit",{name:"t",hash:{},data:o,loc:{start:{line:9,column:66},end:{line:9,column:90}}}))+'" data-edit-item>\n        <i class="fa fa-pencil"></i>\n    </button>\n    <button name="delete" type="button" class="btn btn-link" title="'+r((s(n,"t")||t&&s(t,"t")||i).call(l,"common.form.delete",{name:"t",hash:{},data:o,loc:{start:{line:12,column:68},end:{line:12,column:94}}}))+'" data-delete-item>\n        <i class="fa fa-close"></i>\n    </button>\n</div>\n'},useData:!0})},1249:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cell-model-icon">\n    <span><i class="fa"></i></span>\n</div>\n<div class="cell-model-name">\n    '+e.escapeExpression(e.lambda(null!=(l=null!=t?i(t,"attributes"):t)?i(l,"name"):l,t))+"\n</div>\n"},useData:!0})},1262:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="text-success"><i class="fa fa-check-circle"></i> '+e.escapeExpression((l(n,"t")||t&&l(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"common.form.active",{name:"t",hash:{},data:o,loc:{start:{line:9,column:66},end:{line:9,column:92}}}))+"</span>\n"},3:function(e,t,n,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="text-warning"><i class="fa fa-ban"></i> '+e.escapeExpression((l(n,"t")||t&&l(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"common.form.inactive",{name:"t",hash:{},data:o,loc:{start:{line:11,column:57},end:{line:11,column:85}}}))+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=i(n,"if").call(null!=t?t:e.nullContext||{},null!=(l=null!=t?i(t,"attributes"):t)?i(l,"active"):l,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:8,column:0},end:{line:12,column:7}}}))?l:""},useData:!0})},1323:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return'    <div class="btn-toolbar" role="toolbar" aria-label="toolbar" data-grid-toolbar></div>\n'},3:function(e,t,n,a,o){var l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div role="alert" class="alert alert-info">\n        <h4>'+r((s(n,"t")||t&&s(t,"t")||i).call(l,"console.authorization.policies.list.readOnly.heading",{name:"t",hash:{},data:o,loc:{start:{line:14,column:12},end:{line:14,column:72}}}))+"</h4>\n        <p>"+r((s(n,"t")||t&&s(t,"t")||i).call(l,"console.authorization.policies.list.readOnly.text",{name:"t",hash:{},data:o,loc:{start:{line:15,column:11},end:{line:15,column:68}}}))+"</p>\n    </div>\n"},5:function(e,t,n,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="panel-description">\n    '+e.escapeExpression((l(n,"t")||t&&l(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"console.authorization.policies.list.description",{name:"t",hash:{},data:o,loc:{start:{line:19,column:4},end:{line:19,column:59}}}))+"\n</p>\n"},7:function(e,t,n,a,o){return'    <div class="table-container"></div>\n    <div id="paginationContainer"></div>\n'},9:function(e,t,n,a,o){var l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=i(n,"unless").call(null!=t?t:e.nullContext||{},null!=t?i(t,"isReadOnly"):t,{name:"unless",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o,loc:{start:{line:28,column:4},end:{line:35,column:15}}}))?l:""},10:function(e,t,n,a,o){var l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="call-to-action-block">\n        <h3>'+r((s(n,"t")||t&&s(t,"t")||i).call(l,"console.authorization.policies.list.noPolicies",{name:"t",hash:{},data:o,loc:{start:{line:30,column:12},end:{line:30,column:66}}}))+'</h3>\n        <button type="button" class="btn btn-primary" data-add-entity>\n            <i class="fa fa-plus"></i> '+r((s(n,"t")||t&&s(t,"t")||i).call(l,"console.authorization.policies.list.addNew",{name:"t",hash:{},data:o,loc:{start:{line:32,column:39},end:{line:32,column:89}}}))+"\n        </button>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=r(n,"if").call(i,null!=(l=null!=t?r(t,"items"):t)?r(l,"length"):l,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:10,column:7}}}))?l:"")+"\n"+(null!=(l=r(n,"if").call(i,null!=t?r(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:12,column:0},end:{line:21,column:7}}}))?l:"")+"\n\n"+(null!=(l=r(n,"if").call(i,null!=(l=null!=t?r(t,"items"):t)?r(l,"length"):l,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:24,column:0},end:{line:36,column:7}}}))?l:"")},useData:!0})},1324:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"disabled"},3:function(e,t,n,a,o){return"data-add-entity"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="btn btn-primary" '+(null!=(l=r(n,"if").call(i,null!=t?r(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:8,column:46},end:{line:8,column:102}}}))?l:"")+'>\n    <i class="fa fa-plus"></i> '+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(i,"console.authorization.policies.list.addNew",{name:"t",hash:{},data:o,loc:{start:{line:9,column:31},end:{line:9,column:81}}}))+"\n</button>\n"},useData:!0})},1342:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"disabled"},3:function(e,t,n,a,o){return"data-save"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=e.escapeExpression,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=e.invokePartial(c(a,"headers/_TitleWithSubAndIcon"),t,{name:"headers/_TitleWithSubAndIcon",hash:{buttons:"templates/admin/views/realms/partials/_HeaderDeleteButton",icon:"folder",type:"console.authorization.common.policySet",title:null!=t?c(t,"displayName"):t},data:o,helpers:n,partials:a,decorators:e.decorators}))?l:"")+'\n<p class="page-description">'+i(e.lambda(null!=(l=null!=t?c(t,"entity"):t)?c(l,"description"):l,t))+'</p>\n\n<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n        <li class="active">\n            <a href="#policiesPanel" role="tab" data-toggle="tab" aria-expanded="true">\n                '+i((c(n,"t")||t&&c(t,"t")||s).call(r,"console.authorization.policySets.edit.policies",{name:"t",hash:{},data:o,loc:{start:{line:17,column:16},end:{line:17,column:70}}}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#settingsPanel" role="tab" data-toggle="tab" aria-expanded="true">'+i((c(n,"t")||t&&c(t,"t")||s).call(r,"common.form.details",{name:"t",hash:{},data:o,loc:{start:{line:21,column:87},end:{line:21,column:114}}}))+'</a>\n        </li>\n    </ul>\n</div>\n\n<div class="panel panel-default fr-panel-tab">\n    <div class="panel-body tab-content">\n        <div role="tabpanel" class="tab-pane active" id="policiesPanel"></div>\n\n        <div role="tabpanel" class="tab-pane" id="settingsPanel">\n            <div id="policySetSettings"></div>\n\n            <div class="tab-pane-footer clearfix">\n                <div class="pull-right">\n                    <button '+(null!=(l=c(n,"if").call(r,null!=t?c(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:35,column:28},end:{line:35,column:78}}}))?l:"")+' class="btn btn-primary" type="button">'+i((c(n,"t")||t&&c(t,"t")||s).call(r,"common.form.saveChanges",{name:"t",hash:{},data:o,loc:{start:{line:35,column:117},end:{line:35,column:148}}}))+"</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},1343:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=e.invokePartial(c(a,"headers/_Title"),t,{name:"headers/_Title",hash:{title:"console.authorization.policySets.edit.new"},data:o,helpers:n,partials:a,decorators:e.decorators}))?l:"")+'\n<div class="panel panel-default panel-collapse fr-panel-with-border">\n    <div class="panel-body" id="policySetSettings"></div>\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+s((c(n,"routeTo")||t&&c(t,"routeTo")||r).call(i,"realmsPolicySets",null!=(l=null!=t?c(t,"entity"):t)?c(l,"realm"):l,{name:"routeTo",hash:{},data:o,loc:{start:{line:14,column:45},end:{line:14,column:88}}}))+'">'+s((c(n,"t")||t&&c(t,"t")||r).call(i,"common.form.cancel",{name:"t",hash:{},data:o,loc:{start:{line:14,column:90},end:{line:14,column:116}}}))+'</a>\n            <button data-save class="btn btn-primary" type="button">'+s((c(n,"t")||t&&c(t,"t")||r).call(i,"common.form.create",{name:"t",hash:{},data:o,loc:{start:{line:15,column:68},end:{line:15,column:94}}}))+"</button>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},1344:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"disabled"},3:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="form-group">\n        <label class="col-sm-2 control-label" for="appDescription">'+r((s(n,"t")||t&&s(t,"t")||e.hooks.helperMissing).call(i,"console.common.description",{name:"t",hash:{},data:o,loc:{start:{line:29,column:67},end:{line:29,column:101}}}))+'</label>\n\n        <div class="col-sm-9">\n            <textarea '+(null!=(l=s(n,"if").call(i,null!=t?s(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:32,column:22},end:{line:32,column:55}}}))?l:"")+' class="form-control" id="appDescription" data-field="description">'+r(e.lambda(null!=(l=null!=t?s(t,"entity"):t)?s(l,"description"):l,t))+"</textarea>\n        </div>\n    </div>\n"},5:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <option selected value="'+s("function"==typeof(l=null!=(l=c(n,"uuid")||(null!=t?c(t,"uuid"):t))?l:r)?l.call(i,{name:"uuid",hash:{},data:o,loc:{start:{line:46,column:40},end:{line:46,column:48}}}):l)+'">'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:r)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:46,column:50},end:{line:46,column:58}}}):l)+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="block clearfix form-horizontal">\n    <div class="form-group">\n        <label class="col-sm-2 control-label" for="appId">'+s((u(n,"t")||t&&u(t,"t")||r).call(i,"console.common.id",{name:"t",hash:{},data:o,loc:{start:{line:10,column:58},end:{line:10,column:83}}}))+'</label>\n\n        <div class="col-sm-9">\n            <input type="text" id="appId" class="form-control" value="'+s(c(null!=(l=null!=t?u(t,"entity"):t)?u(l,"name"):l,t))+'" data-field="name"\n                   autofocus required placeholder="'+s((u(n,"t")||t&&u(t,"t")||r).call(i,"common.form.validation.required",{name:"t",hash:{},data:o,loc:{start:{line:14,column:51},end:{line:14,column:90}}}))+'" name="entityId"\n                   '+(null!=(l=u(n,"unless").call(i,null!=t?u(t,"newEntity"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:19},end:{line:15,column:59}}}))?l:"")+'>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-sm-2 control-label" for="appName">'+s((u(n,"t")||t&&u(t,"t")||r).call(i,"console.common.name",{name:"t",hash:{},data:o,loc:{start:{line:19,column:60},end:{line:19,column:87}}}))+'</label>\n\n        <div class="col-sm-9">\n            <input '+(null!=(l=u(n,"if").call(i,null!=t?u(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:22,column:19},end:{line:22,column:52}}}))?l:"")+' type="text" id="appName" class="form-control" value="'+s(c(null!=(l=null!=t?u(t,"entity"):t)?u(l,"displayName"):l,t))+'" data-field="displayName"\n                   name="entityName">\n        </div>\n    </div>\n\n'+(null!=(l=u(n,"unless").call(i,null!=t?u(t,"newEntity"):t,{name:"unless",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:27,column:4},end:{line:35,column:15}}}))?l:"")+'\n    <div class="form-group">\n        <label class="col-sm-2 control-label" for="resTypesSelection">\n            '+s((u(n,"t")||t&&u(t,"t")||r).call(i,"console.authorization.common.resourceTypes",{name:"t",hash:{},data:o,loc:{start:{line:39,column:12},end:{line:39,column:62}}}))+'\n        </label>\n\n        <div class="col-sm-9">\n            <select multiple class="selectize" id="resTypesSelection" '+(null!=(l=u(n,"if").call(i,null!=t?u(t,"isReadOnly"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:43,column:70},end:{line:43,column:103}}}))?l:"")+'>\n                <option disabled selected value="">'+s((u(n,"t")||t&&u(t,"t")||r).call(i,"console.authorization.policySets.edit.addResourceTypes",{name:"t",hash:{},data:o,loc:{start:{line:44,column:51},end:{line:44,column:113}}}))+"</option>\n"+(null!=(l=u(n,"each").call(i,null!=(l=null!=t?u(t,"options"):t)?u(l,"selectedResourceTypes"):l,{name:"each",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:45,column:16},end:{line:47,column:25}}}))?l:"")+'            </select>\n\n            <span class="input-helper-text">'+s((u(n,"t")||t&&u(t,"t")||r).call(i,"console.authorization.policySets.edit.selectResourceTypes",{name:"t",hash:{},data:o,loc:{start:{line:50,column:44},end:{line:50,column:109}}}))+"</span>\n        </div>\n    </div>\n</div>\n"},useData:!0})},1433:function(e,t,n){(function(e){var t,n,a,o,l,i,r,s;t=e,a=[],o=!1,l=function(e){clearTimeout(n),n=setTimeout(i,100)},i=function(){for(var e=0,t=a.length;e<t;e++)a[e].apply()},r={register:function(e){a.push(e),!1===o&&(t(window).bind("resize",l),o=!0)},unregister:function(e){for(var t=0,n=a.length;t<n;t++)if(a[t]==e){delete a[t];break}}},(s=function(e,n){this.element=t(e),this.dropdown=t('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+n.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element),this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup"),r.register(t.proxy(this.layout,this)),this.layout()}).prototype={constructor:s,layout:function(){var e=[];this.dropdown.removeClass("hide"),this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&e.push(this)}),e.length>0?(e=t(e),this.dropdown.find("ul").empty().append(e),1==this.dropdown.find(".active").length?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}},t.fn.tabdrop=function(e){return this.each(function(){var n=t(this),a=n.data("tabdrop"),o="object"==typeof e&&e;a||n.data("tabdrop",a=new s(this,t.extend({},t.fn.tabdrop.defaults,o))),"string"==typeof e&&a[e]()})},t.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'},t.fn.tabdrop.Constructor=s}).call(this,n(14))},1463:function(e,t,n){"use strict";n(31);var a=n(122),o=n(1461),l=n(23),i=n(38),r=n(1453),s=new a.a("".concat(l.a.host).concat(l.a.context,"/json")),c=function(){var e=o.a.getCurrentRealm();return"/"===e?"":r.a.encodeRealm(e)};s.getApplicationType=function(e){return s.serviceCall({url:Object(i.a)("/applicationtypes/".concat(e),{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getDecisionCombiners=function(){return s.serviceCall({url:Object(i.a)("/decisioncombiners/?_queryId=&_fields=title",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getEnvironmentConditions=function(){return s.serviceCall({url:Object(i.a)("/conditiontypes?_queryId=&_fields=title,logical,config",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getSubjectConditions=function(){return s.serviceCall({url:Object(i.a)("/subjecttypes?_queryId=&_fields=title,logical,config",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getAllUserAttributes=function(){return s.serviceCall({url:Object(i.a)("/subjectattributes?_queryFilter=true",{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.queryIdentities=function(e,t){var n=encodeURIComponent('_id co "'.concat(t,'" or uid co "').concat(t,'" or cn co "').concat(t,'" or mail co "').concat(t,'"'));return s.serviceCall({url:Object(i.a)("/".concat(e,"?_queryFilter=").concat(n),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=4.1"}})},s.getUniversalId=function(e,t){return s.serviceCall({url:Object(i.a)("/".concat(t,"/").concat(e,"?_fields=universalid"),{realm:c()}),headers:{"Cache-Control":"no-cache","Accept-API-Version":"protocol=1.0,resource=2.0"}})},s.getDataByType=function(e){return s.serviceCall({url:Object(i.a)("/".concat(e,"?_queryFilter=true"),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getScriptById=function(e){return s.serviceCall({url:Object(i.a)("/scripts/".concat(e),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getAllRealms=function(){return s.serviceCall({url:Object(i.a)("/realms?_queryFilter=true",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.importPolicies=function(e){return s.serviceCall({serviceUrl:"".concat(l.a.host).concat(l.a.context),url:Object(i.a)("/xacml".concat(c(),"/policies"),{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:e})},s.listResourceTypes=function(){return s.serviceCall({url:Object(i.a)("/resourcetypes?_queryFilter=name+eq+".concat(encodeURIComponent('"^(?!Delegation Service$).*"')),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},t.a=s},1487:function(e,t,n){"use strict";n(143),n(50);var a=n(16),o=n(2),l=n.n(o),i=n(123),r=n(1465),s=n(1429),c=n(52),u=n(41);t.a=i.a.extend({toolbarTemplateID:"[data-grid-toolbar]",initialize:function(){i.a.prototype.initialize.call(this)},onDeleteClick:function(e,t,n,a){e.preventDefault(),s.a.showConfirmationBeforeDeleting(t,l.a.bind(this.deleteRecord,this,n,a))},deleteRecord:function(e,t){var n=this;n.data.items.get(e).destroy({success:function(){c.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")}),t&&t()},wait:!0}).always(function(){n.data.items.fetch({reset:!0})})},editRecord:function(e,t,n){u.a.routeTo(n,{args:l.a.map([this.realmPath,t],encodeURIComponent),trigger:!0})},bindDefaultHandlers:function(){this.data.items.on("backgrid:sort",r.a.doubleSortFix)},renderToolbar:function(){var e=this.toolbarTemplate(this.data);this.$el.find(this.toolbarTemplateID).html(e)}})},1488:function(e,t,n){"use strict";n(63),n(144),n(779);var a=n(2),o=n.n(a),l=n(100),i=n.n(l),r=n(1445),s=n(1438);t.a=i.a.Model.extend({idAttribute:"name",urlRoot:s.a.substitute("__api__/applications"),defaults:function(){return{name:null,displayName:null,description:"",resourceTypeUuids:[],realm:""}},parse:function(e){return o.a.isEmpty(e.displayName)?this.displayName=e.name:this.displayName=e.displayName,e},validate:function(e){return""===e.name.trim()?"errorNoId":0===e.name.indexOf("#")?"errorCantStartWithHash":o.a.isEmpty(e.resourceTypeUuids)?"applicationErrorNoResourceTypes":void 0},sync:function(e,t,n){return(n=n||{}).beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")},n.error=r.a.errorHandler,null===t.id&&(e="create",n.url="".concat(this.urlRoot(),"/?_action=create")),i.a.Model.prototype.sync.call(this,e,t,n)}})},1518:function(e,t,n){"use strict";n(63),n(144),n(779);var a=n(100),o=n.n(a),l=n(1445),i=n(1438);t.a=o.a.Model.extend({idAttribute:"name",urlRoot:i.a.substitute("__api__/policies"),defaults:function(){return{name:null,description:"",resources:[],actionValues:{}}},validate:function(e){return""===e.name.trim()?"errorNoName":0===e.name.indexOf("#")?"errorCantStartWithHash":0===e.resources.length?"policyErrorNoResources":void 0},sync:function(e,t,n){return(n=n||{}).beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")},n.error=l.a.errorHandler,null===t.id&&(e="create",n.url="".concat(this.urlRoot(),"/?_action=create")),o.a.Model.prototype.sync.call(this,e,t,n)}})},1737:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(17),n(143),n(115),n(33),n(50),n(27),n(67),n(62),n(124),n(35),n(779),n(34),n(1433),n(1411);var a=n(16),o=n(2),l=n.n(o),i=n(14),r=n.n(i),s=n(123),c=n(23),u=n(1342),d=n.n(u),p=n(43),m=n(1429),h=n(52),f=n(1343),y=n.n(f),b=n(1463),v=(n(1486),n(1496),n(100)),g=n.n(v),P=n(1487),C=n(1460),T=n(1465),x=n(1249),w=n.n(x),O=n(1323),S=n.n(O),A=n(1324),R=n.n(A),k=n(1518),I=n(41),E=n(1243),j=n.n(E),_=n(1262),M=n.n(_),N=n(1438),D=new(P.a.extend({element:"#policiesPanel",template:S.a,toolbarTemplate:R.a,events:{"click [data-add-entity]":"addNewPolicy"},render:function(e,t){var n=this;l.a.extend(this.data,e),this.data.isReadOnly=l.a.isEmpty(e.policySetModel.attributes.resourceTypeUuids);var a=g.a.PageableCollection.extend({url:N.a.substitute("__api__/policies"),model:k.a,state:T.a.getState(),queryParams:T.a.getQueryParams({filterName:"eq",_queryFilter:["applicationName+eq+%22".concat(encodeURIComponent(this.data.policySetModel.id),"%22")]}),parseState:T.a.parseState,parseRecords:T.a.parseRecords,sync:function(e,t,n){return n.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")},T.a.sync(e,t,n)}}),o=T.a.ClickableRow.extend({callback:function(e){r()(e.target).parents().hasClass("fr-col-btn-2")||I.a.routeTo(I.a.configuration.routes.realmsPolicyEdit,{args:l.a.map([n.data.realmPath,n.data.policySetModel.id,this.model.id],encodeURIComponent),trigger:!0})}}),i=[{name:"name",label:r.a.t("console.authorization.policies.list.grid.0"),cell:T.a.TemplateCell.extend({iconClass:"fa-gavel",template:w.a,rendered:function(){this.$el.find("i.fa").addClass(this.iconClass)}}),headerCell:T.a.FilterHeaderCell,sortType:"toggle",editable:!1},{name:"active",label:r.a.t("console.authorization.policies.list.grid.1"),cell:T.a.TemplateCell.extend({template:M.a}),sortable:!1,editable:!1},{name:"",cell:T.a.TemplateCell.extend({className:"fr-col-btn-2",template:j.a,events:{"click [data-edit-item]":"editItem","click [data-delete-item]":"deleteItem"},editItem:function(){I.a.routeTo(I.a.configuration.routes.realmsPolicyEdit,{args:l.a.map([n.data.realmPath,n.data.policySetModel.id,this.model.id],encodeURIComponent),trigger:!0})},deleteItem:function(e){n.onDeleteClick(e,{type:r.a.t("console.authorization.common.policy")},this.model.id,function(){p.a.sendEvent(c.a.EVENT_CHANGE_VIEW,{route:I.a.currentRoute,args:l.a.map([n.data.realmPath,n.data.policySetModel.id],encodeURIComponent)})})}}),sortable:!1,editable:!1}];this.data.items=new a;var s=new C.a.Grid({columns:i,row:o,collection:n.data.items,className:"backgrid table table-hover",emptyText:r.a.t("console.common.noResults")}),u=new C.a.Extension.ThemeablePaginator({collection:n.data.items,windowSize:3});this.bindDefaultHandlers(),this.data.items.fetch({reset:!0}).then(function(){n.parentRender(function(){n.data.items.length&&(n.renderToolbar(),n.$el.find(".table-container").append(s.render().el),n.$el.find("#paginationContainer").append(u.render().el)),t&&t()})})},addNewPolicy:function(){I.a.routeTo(I.a.configuration.routes.realmsPolicyNew,{args:l.a.map([this.data.realmPath,this.data.policySetModel.id],encodeURIComponent),trigger:!0})}})),z=n(1488),U=n(1344),V=n.n(U);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,l=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,l=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=s.a.extend({APPLICATION_TYPE:"iPlanetAMWebAgentService",validationFields:["name","resourceTypeUuids"],events:{"click [data-save]":"submitForm","click [data-delete]":"onDeleteClick"},initialize:function(){s.a.prototype.initialize.call(this),this.model=null},onModelSync:function(){this.renderAfterSyncModel()},render:function(e,t){var n=e[1];this.realmPath=e[0],t&&(this.renderCallback=t),this.appTypePromise=b.a.getApplicationType(this.APPLICATION_TYPE),this.envConditionsPromise=b.a.getEnvironmentConditions(),this.subjConditionsPromise=b.a.getSubjectConditions(),this.decisionCombinersPromise=b.a.getDecisionCombiners(),this.resourceTypesPromise=b.a.listResourceTypes(),n?(this.template=d.a,this.data.headerActions=[{actionPartial:"form/_Button",data:"delete",title:"common.form.delete",icon:"fa-times"}],this.model=new z.a({name:n}),this.listenTo(this.model,"sync",this.onModelSync),this.model.fetch()):(this.data.newEntity=!0,this.template=y.a,this.model=new z.a,this.listenTo(this.model,"sync",this.onModelSync),this.renderAfterSyncModel())},renderAfterSyncModel:function(){this.data.entity=this.model.attributes,this.data.displayName=this.model.displayName,this.data.isReadOnly=!this.data.newEntity&&l.a.isEmpty(this.data.entity.resourceTypeUuids),this.data.entity.realm||(this.data.entity.realm=this.realmPath),this.renderApplication()},renderApplication:function(){var e=this,t=function(){e.parentRender(function(){D.render({realmPath:e.realmPath,policySetModel:e.model},function(){e.$el.find(".tab-menu .nav-tabs").tabdrop();var t=V()(e.data);e.$el.find("#policySetSettings").append(t),e.populateResourceTypes(),m.a.setActiveTab(e),e.$el.find("#policySetSettings [autofocus]").focus(),e.renderCallback&&e.renderCallback()})})},n=function(t){var n={};return n.allResourceTypes=t,n.availableResourceTypes=l.a.filter(t,function(t){return!l.a.includes(e.data.entity.resourceTypeUuids,t.uuid)}),n.selectedResourceTypes=l.a.findByValues(n.allResourceTypes,"uuid",e.data.entity.resourceTypeUuids),n.selectedResourceTypesInitial=l.a.clone(n.selectedResourceTypes),n};this.model.id?this.resourceTypesPromise.then(function(a){l.a.extend(e.data,{options:n(a.result)}),t()}):Promise.all([this.envConditionsPromise,this.subjConditionsPromise,this.decisionCombinersPromise,this.resourceTypesPromise]).then(function(a){var o=q(a,4),i=o[0],r=o[1],s=o[2],c=o[3];e.data.entity.applicationType=e.APPLICATION_TYPE,e.processConditions(e.data,i.result,r.result),e.data.entity.entitlementCombiner=s.result.title,l.a.extend(e.data,{options:n(c.result)}),t()})},populateResourceTypes:function(){var e=this;this.resTypesSelection=this.$el.find("#resTypesSelection").selectize({sortField:"name",valueField:"uuid",labelField:"name",searchField:"name",options:this.data.options.allResourceTypes,onChange:function(t){e.data.entity.resourceTypeUuids=t}})},processConditions:function(e,t,n){e.entityId||(e.entity.conditions=this.populateConditions(t,t),e.entity.subjects=this.populateConditions(n,n))},populateConditions:function(e,t){var n=[];return l.a.each(t,function(e){n.push(e.title)}),n},submitForm:function(e){e.preventDefault();var t=this,n=l.a.clone(this.model.attributes);this.updateFields(),this.activeTabId=this.$el.find(".tab-menu li.active a").attr("href"),l.a.extend(this.model.attributes,this.data.entity);var o=this.model.save();o?o.then(function(){t.data.newEntity?I.a.routeTo(I.a.configuration.routes.realmsPolicySetEdit,{args:l.a.map([t.realmPath,t.model.id],encodeURIComponent),trigger:!0}):h.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})}):(l.a.extend(this.model.attributes,n),p.a.sendEvent(c.a.EVENT_DISPLAY_MESSAGE_REQUEST,this.model.validationError))},onDeleteClick:function(e){e.preventDefault(),m.a.showConfirmationBeforeDeleting({type:r.a.t("console.authorization.common.policySet")},l.a.bind(this.deletePolicySet,this))},deletePolicySet:function(){var e=this;this.model.destroy({success:function(){I.a.routeTo(I.a.configuration.routes.realmsPolicySets,{args:[encodeURIComponent(e.realmPath)],trigger:!0}),h.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})},error:function(e,t){h.a.addMessage({response:t,type:h.a.TYPE_DANGER})},wait:!0})},updateFields:function(){var e=this,t=this.$el.find("[data-field]");l.a.each(t,function(t){var n=t.getAttribute("data-field");"checkbox"===t.type?t.checked&&e.data.entity[n].push(t.value):e.data.entity[n]=l.a.trim(t.value)})}})}}]);
//# sourceMappingURL=16.bab363a814.js.map