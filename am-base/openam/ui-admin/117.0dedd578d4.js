(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{1400:function(e,t,n){"use strict";n(50),n(144);var r=n(2),o=n.n(r),a=n(1),i=n.n(a),c=n(41),l=n(88);t.a=function(e){var t=function(t){var n=c.a.currentRoute,r=c.a.extractParameters(n,l.a.getCurrentFragment()),a=c.a.applyDefaultParameters(n,r),u={params:o.a.map(a,function(e){return e?decodeURIComponent(e):""})};return i.a.createElement(e,o.a.extend({},t,{router:u}))};return t.displayName="withRouter(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t.WrappedComponent=e,t}},1401:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=o.a.shape({params:o.a.array.isRequired});t.a=a},1503:function(e,t,n){"use strict";t.a=function(){return window.innerHeight-76-81}},1695:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(31),n(17),n(33),n(159),n(368),n(53),n(54),n(27),n(35),n(82),n(34);var r=n(2),o=n.n(r),a=n(122),i=n(23),c=n(38),l=new a.a("".concat(i.a.host).concat(i.a.context,"/json"));var u=n(25),s=n(16),f=n(1503),p=(n(115),n(124),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function e(t,n){return o.a.filter(t,function(t){return!(!t.path||!o.a.includes(t.path.toLowerCase(),n.toLowerCase()))||(t.children?(t.children=e(t.children,n),!o.a.isEmpty(t.children)):void 0)})}(o.a.cloneDeep(e),t)}),h=n(1),d=n.n(h),m=n(41),b=(n(50),n(0)),y=n.n(b),v=n(379);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=this,o=(e=w(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==g(o)&&"function"!=typeof o?j(r):o,a=j(n),c=function(){n.props.onSelect(n.props.node.path)},(i="handleLeafSelect")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,h["Component"]),n=t,(r=[{key:"render",value:function(){return d.a.createElement("li",{className:"".concat(this.props.highlighted?"active":"")},d.a.createElement("a",{className:"am-tree-node-leaf",onClick:this.handleLeafSelect,onKeyPress:this.handleLeafSelect,role:"button",tabIndex:"0"},d.a.createElement(v.a,{match:this.props.filter},this.props.node.id)))}}])&&O(n.prototype,r),o&&O(n,o),t}();E.propTypes={filter:y.a.string,highlighted:y.a.bool.isRequired,node:y.a.objectOf({id:y.a.string.isRequired,path:y.a.string}).isRequired,onSelect:y.a.func.isRequired};var P=E;function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n,r,o,a,i,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=R(t).call(this,e),n=!o||"object"!==_(o)&&"function"!=typeof o?N(r):o,a=N(n),c=function(){n.setState({collapsed:!n.state.collapsed}),n.props.node.path&&n.props.onSelect(n.props.node.path)},(i="handleOnNodeSelect")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n.state={collapsed:!e.highlighted&&e.collapsed},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,h["Component"]),n=t,(r=[{key:"render",value:function(){return d.a.createElement("li",{className:"".concat(this.props.highlighted?"active":"")},d.a.createElement("a",{className:"am-tree-node",onClick:this.handleOnNodeSelect,onKeyPress:this.handleOnNodeSelect,role:"button",tabIndex:"0"},d.a.createElement("i",{className:"fa ".concat(this.state.collapsed?"fa-plus-square-o":"fa-minus-square-o")}),d.a.createElement(v.a,{match:this.props.filter},this.props.node.id)),d.a.createElement("div",{className:this.state.collapsed?"am-tree-node-children-hidden":"am-tree-node-children"},this.props.children))}}])&&T(n.prototype,r),o&&T(n,o),t}();C.propTypes={children:y.a.element.isRequired,collapsed:y.a.bool,filter:y.a.string,highlighted:y.a.bool.isRequired,node:y.a.objectOf({id:y.a.string.isRequired,children:y.a.array,path:y.a.string}).isRequired,onSelect:y.a.func.isRequired};var x=C,k=function(e){var t=e.activePaths,n=e.collapsed,o=e.data,a=e.filter,i=e.onNodeSelect;return d.a.createElement("ol",{className:"am-tree list-unstyled"},o.map(function(e){return function e(t,o){var c=Object(r.includes)(o,t.objectPath);if(t.children){var l=Object(r.map)(t.children,function(t){return e(t,o)});return d.a.createElement(x,{collapsed:n,filter:a,highlighted:c,node:t,onSelect:i},l)}return d.a.createElement(P,{filter:a,highlighted:c,node:t,onSelect:i})}(e,t)}))};k.propTypes={activePaths:y.a.arrayOf(y.a.string).isRequired,collapsed:y.a.bool,data:y.a.arrayOf(y.a.objectOf({id:y.a.string.isRequired,children:y.a.array,objectPath:y.a.string.isRequired,path:y.a.string})).isRequired,filter:y.a.string,onNodeSelect:y.a.func.isRequired};var L=k,H=n(1400),z=n(1401);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){return"".concat(i.a.context,"/api/?url=").concat(i.a.context,"/json").concat(Object(r.map)(e.split("/"),function(e){return encodeURIComponent(e)}).join("/"),"?_api")},W=function(e){function t(e){var n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=A(t).call(this,e),n=!a||"object"!==I(a)&&"function"!=typeof a?D(o):a,J(D(n),"handleSearchFilter",function(e){var t=e.target.value;n.setState({collapsed:Object(r.isEmpty)(t),filter:t,filteredTree:Object(r.isEmpty)(t)?n.state.initialTree:p(n.state.initialTree,t)})}),J(D(n),"handlePathSelect",function(e){n.routeToPath(e)}),J(D(n),"resize",function(){n.setState({containerHeight:Object(f.a)()})});var i=e.router.params[0],c=i?K("/".concat(i)):"";return n.state={collapsed:!0,filteredTree:[],filter:"",initialTree:[],iframeSource:c,containerHeight:Object(f.a)()},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,h["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;l.serviceCall({url:Object(c.a)("/api",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(t){t.length&&""===e.state.iframeSource&&e.routeToPath(t[0].path);var n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(r.map)(t,function(t){return t.objectPath="".concat(n).concat(t.id),t.children&&(t.children=e(t.children,t.objectPath)),t})}(t);e.setState({initialTree:n,filteredTree:n})}),window.addEventListener("resize",Object(r.debounce)(this.resize,100))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"routeToPath",value:function(e){m.a.routeTo(m.a.configuration.routes.apiExplorer,{args:[e.slice(1)],trigger:!0})}},{key:"render",value:function(){var e=this.props.router.params[0],t=Object(r.map)(e.split("/"),function(e,t,n){return"/".concat(n.slice(0,n.length-t).join("/"))}),n=d.a.createElement("div",{className:"input-group"},d.a.createElement(u.l,{onChange:this.handleSearchFilter,placeholder:Object(s.b)("common.form.search"),type:"text"}),d.a.createElement("span",{className:"input-group-addon"},d.a.createElement("i",{className:"fa fa-search"})));return d.a.createElement(u.n,{fluid:!0},d.a.createElement(u.y,null,d.a.createElement(u.g,{md:3},d.a.createElement(u.w,{className:"am-iframe-overflow-scroll row",style:{height:"".concat(this.state.containerHeight,"px")}},d.a.createElement(u.w.Heading,null,n),d.a.createElement(u.w.Body,null,d.a.createElement("nav",{className:"sidenav"},d.a.createElement(L,{activePaths:t,collapsed:this.state.collapsed,data:this.state.filteredTree,filter:this.state.filter,onNodeSelect:this.handlePathSelect}))))),d.a.createElement(u.g,{md:9},d.a.createElement("iframe",{className:"am-iframe-overflow-scroll am-iframe-full-width",src:this.state.iframeSource,style:{height:"".concat(this.state.containerHeight,"px")},title:Object(s.b)("console.api.explorer.iFrameTitle")}))))}}])&&F(n.prototype,o),a&&F(n,a),t}();W.propTypes={router:z.a};t.default=Object(H.a)(W)}}]);
//# sourceMappingURL=117.0dedd578d4.js.map