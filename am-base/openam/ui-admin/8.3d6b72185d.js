(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1486:function(e,t,i){
/*
  backbone.paginator
  http://github.com/backbone-paginator/backbone.paginator

  Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors

  @module
  @license MIT
*/
e.exports=function(e,t){"use strict";var i=e.extend,r=e.omit,s=e.clone,n=e.each,a=e.pick,l=e.includes,o=e.isEmpty,c=e.pairs||e.toPairs,h=e.invert,d=e.isArray,u=e.isFunction,m=e.isObject,f=e.keys,p=e.isUndefined,g=Math.ceil,v=Math.floor,y=Math.max,w=t.Collection.prototype;function b(t,i){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+i+"` must be a finite integer");return t}function C(e,t,i){var r=e._events[t];if(r&&r.length){var s=r[r.length-1],n=s.callback;s.callback=function(){try{n.apply(this,arguments),i()}catch(e){throw e}finally{s.callback=n}}}else i()}var x=/[\s'"]/g,P=/[<>\s'"]/g,k=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){w.constructor.apply(this,arguments),t=t||{};var r=this.mode=t.mode||this.mode||R.mode,n=i({},R.queryParams,this.queryParams,t.queryParams||{});n.directions=i({},R.queryParams.directions,this.queryParams.directions,n.directions),this.queryParams=n;var a=this.state=i({},R.state,this.state,t.state);a.currentPage=null==a.currentPage?a.firstPage:a.currentPage,d(e)||(e=e?[e]:[]),e=e.slice(),"server"==r||null!=a.totalRecords||o(e)||(a.totalRecords=this.length),this.switchMode(r,i({fetch:!1,resetState:!1,models:e},t));var l=t.comparator;if(a.sortKey&&!l&&this.setSorting(a.sortKey,a.order,t),"server"!=r){var c=this.fullCollection;l&&t.full&&(this.comparator=null,c.comparator=l),t.full&&c.sort(),o(e)||this.getPage(a.currentPage)}this._initState=s(this.state)},_makeFullCollection:function(e,i){var r,s,n,a=["url","model","sync","comparator"],l=this.constructor.prototype,o={};for(r=0,s=a.length;r<s;r++)p(l[n=a[r]])||(o[n]=l[n]);var c=new(t.Collection.extend(o))(e,i);for(r=0,s=a.length;r<s;r++)this[n=a[r]]!==l[n]&&(c[n]=this[n]);return c},_makeCollectionEventHandler:function(e,t){return function(r,a,l,o){var c=e._handlers;n(f(c),function(i){var r=c[i];e.off(i,r),t.off(i,r)});var h=s(e.state),d=h.firstPage,u=0===d?h.currentPage:h.currentPage-1,m=h.pageSize,v=u*m,y=v+m;if("add"==r){var w,b,x,o=o||{};if(l==t)(b=t.indexOf(a))>=v&&b<y&&(x=e,w=P=b-v);else{w=e.indexOf(a),b=v+w,x=t;var P=p(o.at)?b:o.at+v}if(o.onRemove||(++h.totalRecords,delete o.onRemove),e.state=e._checkState(h),x){x.add(a,i({},o,{at:P}));var k=w>=m?a:!p(o.at)&&P<y&&e.length>m?e.at(m):null;k&&C(l,r,function(){e.remove(k,{onAdd:!0})})}o.silent||e.trigger("pageable:state:change",e.state)}if("remove"==r){if(o.onAdd)delete o.onAdd;else{if(--h.totalRecords){var R=h.totalPages=g(h.totalRecords/m);h.lastPage=0===d?R-1:R||d,h.currentPage>R&&(h.currentPage=h.lastPage)}else h.totalRecords=null,h.totalPages=null;e.state=e._checkState(h);var E,T=o.index;l==e?((E=t.at(y))?C(e,r,function(){e.push(E,{onRemove:!0})}):!e.length&&h.totalRecords&&e.reset(t.models.slice(v-m,y-m),i({},o,{parse:!1})),t.remove(a)):T>=v&&T<y&&((E=t.at(y-1))&&C(e,r,function(){e.push(E,{onRemove:!0})}),e.remove(a),!e.length&&h.totalRecords&&e.reset(t.models.slice(v-m,y-m),i({},o,{parse:!1})))}o.silent||e.trigger("pageable:state:change",e.state)}if("reset"==r){if(o=l,(l=a)==e&&null==o.from&&null==o.to){var _=t.models.slice(0,v),S=t.models.slice(v+e.models.length);t.reset(_.concat(e.models).concat(S),o)}else l==t&&((h.totalRecords=t.models.length)||(h.totalRecords=null,h.totalPages=null),"client"==e.mode&&(d=h.lastPage=h.currentPage=h.firstPage,u=0===d?h.currentPage:h.currentPage-1,y=(v=u*m)+m),e.state=e._checkState(h),e.reset(t.models.slice(v,y),i({},o,{parse:!1})));o.silent||e.trigger("pageable:state:change",e.state)}"sort"==r&&(o=l,(l=a)===t&&e.reset(t.models.slice(v,y),i({},o,{parse:!1}))),n(f(c),function(i){var r=c[i];n([e,t],function(e){e.on(i,r);var t=e._events[i]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,i=this.links,r=e.totalRecords,s=e.pageSize,n=e.currentPage,a=e.firstPage,l=e.totalPages;if(null!=r&&null!=s&&null!=n&&null!=a&&("infinite"!=t||i)){if(r=b(r,"totalRecords"),s=b(s,"pageSize"),n=b(n,"currentPage"),a=b(a,"firstPage"),s<1)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=g(r/s),a<0||a>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===a?y(0,l-1):l||a,"infinite"==t){if(!i[n])throw new RangeError("No link found for page "+n)}else if(n<a||l>0&&(a?n>l:n>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(a?"<":"<=")+" totalPages if "+a+"-based. Got "+n+".")}return e},setPageSize:function(e,t){e=b(e,"pageSize"),t=t||{first:!1};var s=this.state,n=g(s.totalRecords/e),a=n?y(s.firstPage,v(n*s.currentPage/s.totalPages)):s.firstPage;return s=this.state=this._checkState(i({},s,{pageSize:e,currentPage:t.first?s.firstPage:a,totalPages:n})),this.getPage(s.currentPage,r(t,["first"]))},switchMode:function(t,a){if(!l(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');a=a||{fetch:!0,resetState:!0};var o=this.state=a.resetState?s(this._initState):this._checkState(i({},this.state));this.mode=t;var c,h=this,d=this.fullCollection,u=this._handlers=this._handlers||{};if("server"==t||d)"server"==t&&d&&(n(f(u),function(e){c=u[e],h.off(e,c),d.off(e,c)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{(d=this._makeFullCollection(a.models||[],a)).pageableCollection=this,this.fullCollection=d;var m=this._makeCollectionEventHandler(this,d);n(["add","remove","reset","sort"],function(t){u[t]=c=e.bind(m,{},t),h.on(t,c),d.on(t,c)}),d.comparator=this._fullComparator}if("infinite"==t)for(var p=this.links={},v=o.firstPage,w=g(o.totalRecords/o.pageSize),b=0===v?y(0,w-1):w||v,C=o.firstPage;C<=b;C++)p[C]=this.url;else this.links&&delete this.links;return a.silent||this.trigger("pageable:state:change",o),a.fetch?this.fetch(r(a,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var s=this.mode,n=this.fullCollection;t=t||{fetch:!1};var a=this.state,l=a.firstPage,c=a.currentPage,h=a.lastPage,d=a.pageSize,u=e;switch(e){case"first":u=l;break;case"prev":u=c-1;break;case"next":u=c+1;break;case"last":u=h;break;default:u=b(e,"index")}this.state=this._checkState(i({},a,{currentPage:u})),t.silent||this.trigger("pageable:state:change",this.state),t.from=c,t.to=u;var m=(0===l?u:u-1)*d,f=n&&n.length?n.models.slice(m,m+d):[];return"client"!=s&&("infinite"!=s||o(f))||t.fetch?("infinite"==s&&(t.url=this.links[u]),this.fetch(r(t,"fetch"))):(this.reset(f,r(t,"fetch")),this)},getPageByOffset:function(e,t){if(e<0)throw new RangeError("`offset must be > 0`");e=b(e,"offset");var i=v(e/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,t)},sync:function(e,r,s){var n=this;if("infinite"==n.mode){var a=s.success,l=n.state.currentPage;s.success=function(e,t,r){var o=n.links,c=n.parseLinks(e,i({xhr:r},s));c.first&&(o[n.state.firstPage]=c.first),c.prev&&(o[l-1]=c.prev),c.next&&(o[l+1]=c.next),a&&a(e,t,r)}}return(w.sync||t.sync).call(n,e,r,s)},parseLinks:function(e,t){var i={},r=t.xhr.getResponseHeader("Link");if(r){var s=["first","prev","next"];n(r.split(","),function(e){var t=e.split(";"),r=t[0].replace(P,""),a=t.slice(1);n(a,function(e){var t=e.split("="),n=t[0].replace(x,""),a=t[1].replace(x,"");"rel"==n&&l(s,a)&&(i[a]=r)})})}return i},parse:function(e,t){var r=this.parseState(e,s(this.queryParams),s(this.state),t);return r&&(this.state=this._checkState(i({},this.state,r)),(t||{}).silent||this.trigger("pageable:state:change",this.state)),this.parseRecords(e,t)},parseState:function(t,i,a,l){if(t&&2===t.length&&m(t[0])&&d(t[1])){var o=s(a),u=t[0];return n(c(r(i,"directions")),function(t){var i=t[0],r=t[1],s=u[r];p(s)||e.isNull(s)||(o[i]=u[r])}),u.order&&(o.order=1*h(i.directions)[u.order]),o}},parseRecords:function(e,t){return e&&2===e.length&&m(e[0])&&d(e[1])?e[1]:e},fetch:function(t){t=t||{};var s=this._checkState(this.state),l=this.mode;"infinite"!=l||t.url||(t.url=this.links[s.currentPage]);var o=t.data||{},h=t.url||this.url||"";u(h)&&(h=h.call(this));var m=h.indexOf("?");-1!=m&&(i(o,function(e){for(var t,i,r,s,n={},a=decodeURIComponent,l=e.split("&"),o=0,c=l.length;o<c;o++){var h=l[o];t=h.split("="),i=t[0],null==(r=t[1])&&(r=!0),i=a(i),r=a(r),s=n[i],d(s)?s.push(r):n[i]=s?[s,r]:r}return n}(h.slice(m+1))),h=h.slice(0,m)),t.url=h,t.data=o;var g="client"==this.mode?a(this.queryParams,"sortKey"):r(a(this.queryParams,f(R.queryParams)),"order","directions","totalPages","totalRecords");n(g,function(t,i){t=u(t)?t.call(this):t,null!=s[i]&&null!=t&&e.isUndefined(o[t])&&(o[t]=s[i])},this);var v=u(this.queryParams.sortKey)?this.queryParams.sortKey.call(this):this.queryParams.sortKey,y=u(this.queryParams.order)?this.queryParams.order.call(this):this.queryParams.order;if(null!=v&&null!=s.sortKey&&null!=y&&null!=s.order)if(d(s.order)){o[y]=[];for(var b=0;b<s.order.length;b++)o[y].push(this.queryParams.directions[s.order[b]])}else o[y]=this.queryParams.directions[s.order+""];for(var C=c(r(this.queryParams,f(R.queryParams))),b=0;b<C.length;b++){var x=C[b],P=x[1];null!=(P=u(P)?P.call(this):P)&&(o[x[0]]=P)}if("server"!=l){var k=this,E=this.fullCollection,T=t.success;return t.success=function(e,r,s){s=s||{},p(t.silent)?delete s.silent:s.silent=t.silent;var n=e.models;"client"==l?E.reset(n,s):(E.add(n,i({at:E.length},i(s,{parse:!1}))),k.trigger("reset",k,s)),T&&T(e,r,s)},w.fetch.call(this,i({},t,{silent:!0}))}return w.fetch.call(this,t)},_makeComparator:function(e,t,i){var r=this.state;if(e=e||r.sortKey,t=t||r.order,e&&t)return i||(i=function(e,t){return e.get(t)}),function(r,s){var n,a=i(r,e),l=i(s,e);return 1===t&&(n=a,a=l,l=n),a===l?0:a<l?-1:1}},setSorting:function(e,t,r){var s=this.state;s.sortKey=e,s.order=t=t||s.order;var n=this.fullCollection,a=!1,l=!1;e||(a=l=!0);var o=this.mode;r=i({side:"client"==o?o:"server",full:!0},r);var c=this._makeComparator(e,t,r.sortValue),h=r.full,d=r.side;return"client"==d?h?(n&&(n.comparator=c),a=!0):(this.comparator=c,l=!0):"server"!=d||h||(this.comparator=c),a&&(this.comparator=null),l&&n&&(n.comparator=null),this}}),R=k.prototype;return k}(i(785),i(100))},1497:function(e,t,i){var r,s,n;
/*!
  backgrid 0.3.8
  http://github.com/cloudflare/backgrid

  Copyright (c) 2017 Cloudflare, Inc. and contributors <jwong@cloudflare.com>
  Licensed under the MIT license.
*/
/*!
  backgrid 0.3.8
  http://github.com/cloudflare/backgrid

  Copyright (c) 2017 Cloudflare, Inc. and contributors <jwong@cloudflare.com>
  Licensed under the MIT license.
*/
n=this,r=[i(785),i(100)],void 0===(s=function(e,t){return n.Backgrid=function(e,t){"use strict";var i="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||i.trim()){i="["+i+"]";var r=new RegExp("^"+i+i+"*"),s=new RegExp(i+i+"*$");String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(r,"").replace(s,"")}}function n(e,t,i){var r=t-(e+"").length;r=r<0?0:r;for(var s="",n=0;n<r;n++)s+=i;return s+e}var a=t.$,l={Extension:{},resolveNameToClass:function(t,i){if(e.isString(t)){var r=e.map(t.split("-"),function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("")+i,s=l[r]||l.Extension[r];if(e.isUndefined(s))throw new ReferenceError("Class '"+r+"' not found");return s}return t},callByNeed:function(){var t=arguments[0];if(!e.isFunction(t))return t;var i=arguments[1],r=[].slice.call(arguments,2);return t.apply(i,r+""?r:[])}};e.extend(l,t.Events);var o=l.Command=function(t){e.extend(this,{altKey:!!t.altKey,char:t.char,charCode:t.charCode,ctrlKey:!!t.ctrlKey,key:t.key,keyCode:t.keyCode,locale:t.locale,location:t.location,metaKey:!!t.metaKey,repeat:!!t.repeat,shiftKey:!!t.shiftKey,which:t.which})};e.extend(o.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var c=l.CellFormatter=function(){};e.extend(c.prototype,{fromRaw:function(e,t){return e},toRaw:function(e,t){return e}});var h=l.NumberFormatter=function(t){if(e.extend(this,this.defaults,t||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};h.prototype=new c,e.extend(h.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(t,i){if(e.isNull(t)||e.isUndefined(t))return"";var r=(t=parseFloat(t).toFixed(~~this.decimals)).split("."),s=r[0],n=r[1]?(this.decimalSeparator||".")+r[1]:"";return s.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+n},toRaw:function(t,i){if(""===(t=t.trim()))return null;for(var r="",s=t.split(this.orderSeparator),n=0;n<s.length;n++)r+=s[n];var a=r.split(this.decimalSeparator);r="";for(var n=0;n<a.length;n++)r=r+a[n]+".";"."===r[r.length-1]&&(r=r.slice(0,r.length-1));var l=1*(1*r).toFixed(~~this.decimals);return e.isNumber(l)&&!e.isNaN(l)?l:void 0}});var d=l.PercentFormatter=function(){l.NumberFormatter.apply(this,arguments)};d.prototype=new l.NumberFormatter,e.extend(d.prototype,{defaults:e.extend({},h.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(e,t){var i=[].slice.call(arguments,1);return i.unshift(e*this.multiplier),(h.prototype.fromRaw.apply(this,i)||"0")+this.symbol},toRaw:function(t,i){var r=t.split(this.symbol);if(r&&r[0]&&""===r[1]||null==r[1]){var s=h.prototype.toRaw.call(this,r[0]);return e.isUndefined(s)?s:s/this.multiplier}}});var u=l.DatetimeFormatter=function(t){if(e.extend(this,this.defaults,t||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};u.prototype=new c,e.extend(u.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(t,i){if(""===(t+"").trim())return null;var r,s=null;if(e.isNumber(t)){var a=new Date(t);r=n(a.getUTCFullYear(),4,0)+"-"+n(a.getUTCMonth()+1,2,0)+"-"+n(a.getUTCDate(),2,0),s=n(a.getUTCHours(),2,0)+":"+n(a.getUTCMinutes(),2,0)+":"+n(a.getUTCSeconds(),2,0)}else{var l=(t=t.trim()).split(this.ISO_SPLITTER_RE)||[];r=this.DATE_RE.test(l[0])?l[0]:"",s=r&&l[1]?l[1]:this.TIME_RE.test(l[0])?l[0]:""}var o=this.DATE_RE.exec(r)||[],c=this.TIME_RE.exec(s)||[];if(i){if(this.includeDate&&e.isUndefined(o[0]))return;if(this.includeTime&&e.isUndefined(c[0]))return;if(!this.includeDate&&r)return;if(!this.includeTime&&s)return}var a=new Date(Date.UTC(1*o[1]||0,1*o[2]-1||0,1*o[3]||0,1*c[1]||null,1*c[2]||null,1*c[3]||null,1*c[5]||null)),h="";return this.includeDate&&(h=n(a.getUTCFullYear(),4,0)+"-"+n(a.getUTCMonth()+1,2,0)+"-"+n(a.getUTCDate(),2,0)),this.includeTime&&(h=h+(this.includeDate?"T":"")+n(a.getUTCHours(),2,0)+":"+n(a.getUTCMinutes(),2,0)+":"+n(a.getUTCSeconds(),2,0),this.includeMilli&&(h=h+"."+n(a.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(h+="Z"),h},fromRaw:function(t,i){return e.isNull(t)||e.isUndefined(t)?"":this._convert(t)},toRaw:function(e,t){return this._convert(e,!0)}});var m=l.StringFormatter=function(){};m.prototype=new c,e.extend(m.prototype,{fromRaw:function(t,i){return e.isUndefined(t)||e.isNull(t)?"":t+""}});var f=l.EmailFormatter=function(){};f.prototype=new c,e.extend(f.prototype,{toRaw:function(t,i){var r=t.trim().split("@");if(2===r.length&&e.all(r))return t}});var p=l.SelectFormatter=function(){};p.prototype=new c,e.extend(p.prototype,{fromRaw:function(t,i){return e.isArray(t)?t:null!=t?[t]:[]}});var g=l.CellEditor=t.View.extend({initialize:function(e){this.formatter=e.formatter,this.column=e.column,this.column instanceof T||(this.column=new T(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(e,t){return null!=t&&t.get("name")!=this.column.get("name")||this.$el.focus(),this}}),v=l.InputCellEditor=g.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(e){v.__super__.initialize.apply(this,arguments),e.placeholder&&this.$el.attr("placeholder",e.placeholder)},render:function(){var e=this.model;return this.$el.val(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this},saveOrCancel:function(t){var i=this.formatter,r=this.model,s=this.column,n=new o(t),a="blur"===t.type;if(n.moveUp()||n.moveDown()||n.moveLeft()||n.moveRight()||n.save()||a){t.preventDefault(),t.stopPropagation();var l=this.$el.val(),c=i.toRaw(l,r);e.isUndefined(c)?r.trigger("backgrid:error",r,s,l):(r.set(s.get("name"),c),r.trigger("backgrid:edited",r,s,n))}else n.cancel()&&(t.stopPropagation(),r.trigger("backgrid:edited",r,s,n))},postRender:function(e,t){if(null==t||t.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var i=this.$el.val();this.$el.focus().val(null).val(i)}else this.$el.focus();return this}}),y=l.Cell=t.View.extend({tagName:"td",formatter:c,editor:v,events:{click:"enterEditMode"},initialize:function(t){this.column=t.column,this.column instanceof T||(this.column=new T(this.column));var i=this.column,r=this.model,s=this.$el,n=l.resolveNameToClass(i.get("formatter")||this.formatter,"Formatter");e.isFunction(n.fromRaw)||e.isFunction(n.toRaw)||(n=new n),this.formatter=n,this.editor=l.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(r,"change:"+i.get("name"),function(){s.hasClass("editor")||this.render()}),this.listenTo(r,"backgrid:error",this.renderError),this.listenTo(i,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&s.toggleClass(i,t[i])}),this.updateStateClassesMaybe()},updateStateClassesMaybe:function(){var e=this.model,t=this.column,i=this.$el;i.toggleClass("editable",l.callByNeed(t.editable(),t,e)),i.toggleClass("sortable",l.callByNeed(t.sortable(),t,e)),i.toggleClass("renderable",l.callByNeed(t.renderable(),t,e))},render:function(){var e=this.$el;e.empty();var t=this.model,i=this.column.get("name");return e.text(this.formatter.fromRaw(t.get(i),t)),e.addClass(i),this.updateStateClassesMaybe(),this.delegateEvents(),this},enterEditMode:function(){var e=this.model,t=this.column,i=l.callByNeed(t.editable(),t,e);i&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),e.trigger("backgrid:edit",e,t,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),e.trigger("backgrid:editing",e,t,this,this.currentEditor))},renderError:function(e,t){null!=t&&t.get("name")!=this.column.get("name")||this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),y.__super__.remove.apply(this,arguments)}}),w=l.StringCell=y.extend({className:"string-cell",formatter:m}),b=l.UriCell=y.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(e){b.__super__.initialize.apply(this,arguments),this.title=e.title||this.title,this.target=e.target||this.target},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model);return this.$el.append(a("<a>",{tabIndex:-1,href:e,title:this.title||t,target:this.target}).text(t)),this.delegateEvents(),this}}),C=(l.EmailCell=w.extend({className:"email-cell",formatter:f,render:function(){this.$el.empty();var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.append(a("<a>",{tabIndex:-1,href:"mailto:"+t,title:t}).text(t)),this.delegateEvents(),this}}),l.NumberCell=y.extend({className:"number-cell",decimals:h.prototype.defaults.decimals,decimalSeparator:h.prototype.defaults.decimalSeparator,orderSeparator:h.prototype.defaults.orderSeparator,formatter:h,initialize:function(e){C.__super__.initialize.apply(this,arguments);var t=this.formatter;t.decimals=this.decimals,t.decimalSeparator=this.decimalSeparator,t.orderSeparator=this.orderSeparator}})),x=(l.IntegerCell=C.extend({className:"integer-cell",decimals:0}),l.PercentCell=C.extend({className:"percent-cell",multiplier:d.prototype.defaults.multiplier,symbol:d.prototype.defaults.symbol,formatter:d,initialize:function(){x.__super__.initialize.apply(this,arguments);var e=this.formatter;e.multiplier=this.multiplier,e.symbol=this.symbol}})),P=l.DatetimeCell=y.extend({className:"datetime-cell",includeDate:u.prototype.defaults.includeDate,includeTime:u.prototype.defaults.includeTime,includeMilli:u.prototype.defaults.includeMilli,formatter:u,initialize:function(t){P.__super__.initialize.apply(this,arguments);var i=this.formatter;i.includeDate=this.includeDate,i.includeTime=this.includeTime,i.includeMilli=this.includeMilli;var r=this.includeDate?"YYYY-MM-DD":"";r+=this.includeDate&&this.includeTime?"T":"",r+=this.includeTime?"HH:mm:ss":"",r+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:e.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:r})})}}),k=(l.DateCell=P.extend({className:"date-cell",includeTime:!1}),l.TimeCell=P.extend({className:"time-cell",includeDate:!1}),l.BooleanCellEditor=g.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.prop("checked",t),this},enterOrExitEditMode:function(e){if(!this.mouseDown){var t=this.model;t.trigger("backgrid:edited",t,this.column,new o(e))}},saveOrCancel:function(e){var t=this.model,i=this.column,r=this.formatter,s=new o(e);if(s.passThru()&&"change"!=e.type)return!0;s.cancel()&&(e.stopPropagation(),t.trigger("backgrid:edited",t,i,s));var n=this.$el;if(s.save()||s.moveLeft()||s.moveRight()||s.moveUp()||s.moveDown()){e.preventDefault(),e.stopPropagation();var a=r.toRaw(n.prop("checked"),t);t.set(i.get("name"),a),t.trigger("backgrid:edited",t,i,s)}else if("change"==e.type){var a=r.toRaw(n.prop("checked"),t);t.set(i.get("name"),a),n.focus()}}})),R=(l.BooleanCell=y.extend({className:"boolean-cell",editor:k,events:{click:"enterEditMode"},render:function(){this.$el.empty();var e=this.model,t=this.column,i=l.callByNeed(t.editable(),t,e);return this.$el.append(a("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(e.get(t.get("name")),e),disabled:!i})),this.delegateEvents(),this}}),l.SelectCellEditor=g.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:e.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}),setOptionValues:function(t){this.optionValues=t,this.optionValues=e.result(this,"optionValues")},setMultiple:function(e){this.multiple=e,this.$el.prop("multiple",e)},_renderOptions:function(t,i){for(var r="",s=0;s<t.length;s++)r+=this.template({text:t[s][0],value:t[s][1],selected:e.indexOf(i,t[s][1])>-1});return r},render:function(){this.$el.empty();var t=e.result(this,"optionValues"),i=this.model,r=this.formatter.fromRaw(i.get(this.column.get("name")),i);if(!e.isArray(t))throw new TypeError("optionValues must be an array");for(var s=null,n=null,s=null,l=null,o=null,c=0;c<t.length;c++){var s=t[c];if(e.isArray(s))n=s[0],s=s[1],this.$el.append(this.template({text:n,value:s,selected:e.indexOf(r,s)>-1}));else{if(!e.isObject(s))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");l=s.name,(o=a("<optgroup></optgroup>",{label:l})).append(this._renderOptions.call(this,s.values,r)),this.$el.append(o)}}return this.delegateEvents(),this},save:function(e){var t=this.model,i=this.column;t.set(i.get("name"),this.formatter.toRaw(this.$el.val(),t))},close:function(e){var t=this.model,i=this.column,r=new o(e);r.cancel()?(e.stopPropagation(),t.trigger("backgrid:edited",t,i,new o(e))):(r.save()||r.moveLeft()||r.moveRight()||r.moveUp()||r.moveDown()||"blur"==e.type)&&(e.preventDefault(),e.stopPropagation(),this.save(e),t.trigger("backgrid:edited",t,i,new o(e)))}})),E=l.SelectCell=y.extend({className:"select-cell",editor:R,multiple:!1,formatter:p,optionValues:void 0,delimiter:", ",initialize:function(e){E.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",function(e,t,i,r){t.get("name")==this.column.get("name")&&(r.setOptionValues(this.optionValues),r.setMultiple(this.multiple))})},render:function(){this.$el.empty();var t=e.result(this,"optionValues"),i=this.model,r=this.formatter.fromRaw(i.get(this.column.get("name")),i),s=[];try{if(!e.isArray(t)||e.isEmpty(t))throw new TypeError;for(var n=0;n<r.length;n++)for(var a=r[n],l=0;l<t.length;l++){var o=t[l];if(e.isArray(o)){var c=o[0],o=o[1];o==a&&s.push(c)}else{if(!e.isObject(o))throw new TypeError;for(var h=o.values,d=0;d<h.length;d++){var u=h[d];u[1]==a&&s.push(u[0])}}}this.$el.append(s.join(this.delimiter))}catch(e){if(e instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw e}return this.delegateEvents(),this}}),T=l.Column=t.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var e=l.resolveNameToClass(this.get("headerCell"),"HeaderCell"),t=l.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:t,headerCell:e},{silent:!0})},sortValue:function(){var t=this.get("sortValue");return e.isString(t)?this[t]:e.isFunction(t)?t:function(e,t){return e.get(t)}}});e.each(["sortable","renderable","editable"],function(t){T.prototype[t]=function(){var i=this.get(t);return e.isString(i)?this[i]:e.isFunction(i)?i:!!i}});var _=l.Columns=t.Collection.extend({model:T}),S=l.Row=t.View.extend({tagName:"tr",initialize:function(e){var i=this.columns=e.columns;i instanceof t.Collection||(i=this.columns=new _(i));for(var r=this.cells=[],s=0;s<i.length;s++)r.push(this.makeCell(i.at(s),e));this.listenTo(i,"add",function(t,i){var s=i.indexOf(t),n=this.makeCell(t,e);r.splice(s,0,n);var a=this.$el;0===s?a.prepend(n.render().$el):s===i.length-1?a.append(n.render().$el):a.children().eq(s).before(n.render().$el)}),this.listenTo(i,"remove",function(e,t,i){r[i.index].remove(),r.splice(i.index,1)})},makeCell:function(e){return new(e.get("cell"))({column:e,model:this.model})},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.cells.length;t++)e.appendChild(this.cells[t].render().el);return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];i.remove.apply(i,arguments)}return t.View.prototype.remove.apply(this,arguments)}}),N=l.EmptyRow=t.View.extend({tagName:"tr",emptyText:null,initialize:function(e){this.emptyText=e.emptyText,this.columns=e.columns},render:function(){this.$el.empty();var t=document.createElement("td");t.setAttribute("colspan",this.columns.length);var i=document.createElement("span");return i.innerHTML=e.result(this,"emptyText"),t.appendChild(i),this.el.className="empty",this.el.appendChild(t),this}}),$=l.HeaderCell=t.View.extend({tagName:"th",events:{"click button":"onClick"},initialize:function(e){this.column=e.column,this.column instanceof T||(this.column=new T(this.column));var t=this.column,i=this.collection,r=this.$el;this.listenTo(t,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var i in t)t.hasOwnProperty(i)&&r.toggleClass(i,t[i])}),this.listenTo(t,"change:direction",this.setCellDirection),this.listenTo(t,"change:name change:label",this.render),l.callByNeed(t.editable(),t,i)&&r.addClass("editable"),l.callByNeed(t.sortable(),t,i)&&r.addClass("sortable"),l.callByNeed(t.renderable(),t,i)&&r.addClass("renderable"),this.listenTo(i.fullCollection||i,"backgrid:sorted",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(e,t){this.$el.removeClass("ascending").removeClass("descending"),e.cid==this.column.cid&&this.$el.addClass(t)},onClick:function(e){e.preventDefault();var t,i=this.column,r=this.collection,s="backgrid:sort",n=l.callByNeed(i.sortable(),i,this.collection);if(n){var a=i.get("sortType");"toggle"===a?(t=i,"ascending"===i.get("direction")?r.trigger(s,t,"descending"):r.trigger(s,t,"ascending")):function(e,t){"ascending"===i.get("direction")?r.trigger(s,t,"descending"):"descending"===i.get("direction")?r.trigger(s,t,null):r.trigger(s,t,"ascending")}(0,i)}},render:function(){this.$el.empty();var e,t=this.column,i=l.callByNeed(t.sortable(),t,this.collection);return e=i?a("<button>").text(t.get("label")).append("<span class='sort-caret' aria-hidden='true'></span>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.addClass(t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this}}),M=(l.HeaderRow=l.Row.extend({initialize:function(){l.Row.prototype.initialize.apply(this,arguments)},makeCell:function(e,t){var i=e.get("headerCell")||t.headerCell||$;return i=new i({column:e,collection:this.collection})}}),l.Header=t.View.extend({tagName:"thead",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new _(this.columns)),this.row=new l.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),t.View.prototype.remove.apply(this,arguments)}})),F=l.Body=t.View.extend({tagName:"tbody",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new _(this.columns)),this.row=e.row||this.row||S,this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this.emptyText=e.emptyText,this._unshiftEmptyRowMayBe();var i=this.collection;this.listenTo(i,"add",this.insertRow),this.listenTo(i,"remove",this.removeRow),this.listenTo(i,"sort",this.refresh),this.listenTo(i,"reset",this.refresh),this.listenTo(i,"backgrid:sort",this.sort),this.listenTo(i,"backgrid:edited",this.moveToNextCell),this.listenTo(this.columns,"add remove",this.updateEmptyRow)},_unshiftEmptyRowMayBe:function(){if(0===this.rows.length&&null!=this.emptyText)return this.emptyRow=new N({emptyText:this.emptyText,columns:this.columns}),this.rows.unshift(this.emptyRow),!0},insertRow:function(e,i,r){if(this.rows[0]instanceof N&&this.rows.pop().remove(),i instanceof t.Collection||r){var s=new this.row({columns:this.columns,model:e}),n=i.indexOf(e);this.rows.splice(n,0,s);var a=this.$el,l=a.children(),o=s.render().$el;return n>=l.length?a.append(o):l.eq(n).before(o),this}this.collection.add(e,r=i)},removeRow:function(t,i,r){return r?((e.isUndefined(r.render)||r.render)&&this.rows[r.index].remove(),this.rows.splice(r.index,1),this._unshiftEmptyRowMayBe()&&this.render(),this):(this.collection.remove(t,r=i),void(this._unshiftEmptyRowMayBe()&&this.render()))},updateEmptyRow:function(){null!=this.emptyRow&&this.emptyRow.render()},refresh:function(){for(var e=0;e<this.rows.length;e++)this.rows[e].remove();return this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.rows.length;t++){var i=this.rows[t];e.appendChild(i.render().el)}return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.rows.length;e++){var i=this.rows[e];i.remove.apply(i,arguments)}return t.View.prototype.remove.apply(this,arguments)},sort:function(i,r){if(!e.contains(["ascending","descending",null],r))throw new RangeError('direction must be one of "ascending", "descending" or `null`');e.isString(i)&&(i=this.columns.findWhere({name:i}));var s,n=this.collection;s="ascending"===r?-1:"descending"===r?1:null;var a=this.makeComparator(i.get("name"),s,s?i.sortValue():function(e){return 1*e.cid.replace("c","")});return t.PageableCollection&&n instanceof t.PageableCollection?(n.setSorting(s&&i.get("name"),s,{sortValue:i.sortValue()}),n.fullCollection?(null==n.fullCollection.comparator&&(n.fullCollection.comparator=a),n.fullCollection.sort(),n.trigger("backgrid:sorted",i,r,n),i.set("direction",r)):n.fetch({reset:!0,success:function(){n.trigger("backgrid:sorted",i,r,n),i.set("direction",r)}})):(n.comparator=a,n.sort(),n.trigger("backgrid:sorted",i,r,n),i.set("direction",r)),this},makeComparator:function(e,t,i){return function(r,s){var n,a=i(r,e),l=i(s,e);return 1===t&&(n=a,a=l,l=n),a===l?0:a<l?-1:1}},moveToNextCell:function(e,t,i){var r,s,n,a,o,c=this.collection.indexOf(e),h=this.columns.indexOf(t);if(-1===h)return this;if(this.rows[c].cells[h].exitEditMode(),i.moveUp()||i.moveDown()||i.moveLeft()||i.moveRight()||i.save()){var d=this.columns.length,u=d*this.collection.length;if(i.moveUp()||i.moveDown()){a=c+(i.moveUp()?-1:1);var m=this.rows[a];m?(r=m.cells[h],l.callByNeed(r.column.editable(),r.column,e)&&(r.enterEditMode(),e.trigger("backgrid:next",a,h,!1))):e.trigger("backgrid:next",a,h,!0)}else if(i.moveLeft()||i.moveRight()){for(var f=i.moveRight(),p=c*d+h+(f?1:-1);p>=0&&p<u;f?p++:p--)if(o=p-(a=~~(p/d))*d,r=this.rows[a].cells[o],s=l.callByNeed(r.column.renderable(),r.column,r.model),n=l.callByNeed(r.column.editable(),r.column,e),s&&n){r.enterEditMode(),e.trigger("backgrid:next",a,o,!1);break}p==u&&e.trigger("backgrid:next",~~(p/d),p-a*d,!0)}}return this}});return l.Footer=t.View.extend({tagName:"tfoot",initialize:function(e){this.columns=e.columns,this.columns instanceof t.Collection||(this.columns=new l.Columns(this.columns))}}),l.Grid=t.View.extend({tagName:"table",className:"backgrid",header:M,body:F,footer:null,initialize:function(i){i.columns instanceof t.Collection||(i.columns=new _(i.columns||this.columns)),this.columns=i.columns,this.caption=i.caption;var r=e.omit(i,["el","id","attributes","className","tagName","events"]);this.body=i.body||this.body,this.body=new this.body(r),this.header=i.header||this.header,this.header&&(this.header=new this.header(r)),this.footer=i.footer||this.footer,this.footer&&(this.footer=new this.footer(r)),this.listenTo(this.columns,"reset",function(){this.header&&(this.header=new(this.header.remove().constructor)(r)),this.body=new(this.body.remove().constructor)(r),this.footer&&(this.footer=new(this.footer.remove().constructor)(r)),this.render()})},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.caption&&this.$el.append(a("<caption>").text(this.caption)),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),t.View.prototype.remove.apply(this,arguments)}}),l}(e,t)}.apply(t,r))||(e.exports=s)},1627:function(e,t,i){
/*
  backgrid-paginator
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
e.exports=function(e,t,i){"use strict";var r=i.Extension.PageHandle=t.View.extend({tagName:"li",events:{"click a":"changePage"},title:function(e){return"Page "+e.label},isRewind:!1,isBack:!1,isForward:!1,isFastForward:!1,initialize:function(t){var i,r=this.collection,s=r.state,n=s.currentPage,a=s.firstPage,l=s.lastPage;e.extend(this,e.pick(t,["isRewind","isBack","isForward","isFastForward"])),this.isRewind?i=a:this.isBack?i=Math.max(a,n-1):this.isForward?i=Math.min(l,n+1):this.isFastForward?i=l:(i=+t.pageIndex,i=a?i+1:i),this.pageIndex=i,this.label=(t.label||(a?i:i+1))+"";var o=t.title||this.title;this.title=e.isFunction(o)?o({label:this.label}):o},render:function(){this.$el.empty();var e=document.createElement("a");e.href="#",this.title&&(e.title=this.title),e.innerHTML=this.label,this.el.appendChild(e);var t=this.collection,i=t.state,r=i.currentPage,s=this.pageIndex;return this.isRewind&&r==i.firstPage||this.isBack&&!t.hasPreviousPage()||this.isForward&&!t.hasNextPage()||this.isFastForward&&(r==i.lastPage||i.totalPages<1)?this.$el.addClass("disabled"):this.isRewind||this.isBack||this.isForward||this.isFastForward||i.currentPage!=s||this.$el.addClass("active"),this.delegateEvents(),this},changePage:function(e){e.preventDefault();var t=this.$el,i=this.collection;return t.hasClass("active")||t.hasClass("disabled")||(this.isRewind?i.getFirstPage({reset:!0}):this.isBack?i.getPreviousPage({reset:!0}):this.isForward?i.getNextPage({reset:!0}):this.isFastForward?i.getLastPage({reset:!0}):i.getPage(this.pageIndex,{reset:!0})),this}}),s=i.Extension.Paginator=t.View.extend({className:"backgrid-paginator",windowSize:10,slideScale:.5,controls:{rewind:{label:"《",title:"First"},back:{label:"〈",title:"Previous"},forward:{label:"〉",title:"Next"},fastForward:{label:"》",title:"Last"}},renderIndexedPageHandles:!0,renderMultiplePagesOnly:!1,pageHandle:r,goBackFirstOnSort:!0,initialize:function(t){var i=this;i.controls=e.defaults(t.controls||{},i.controls,s.prototype.controls),e.extend(i,e.pick(t||{},"windowSize","pageHandle","slideScale","goBackFirstOnSort","renderIndexedPageHandles","renderMultiplePagesOnly"));var r=i.collection;i.listenTo(r,"add",i.render),i.listenTo(r,"remove",i.render),i.listenTo(r,"reset",i.render),i.listenTo(r,"backgrid:sorted",function(){i.goBackFirstOnSort&&r.state.currentPage!==r.state.firstPage&&r.getFirstPage({reset:!0})})},slideMaybe:function(e,t,i,r,s){return Math.round(i%r/r)},slideThisMuch:function(e,t,i,r,s){return~~(r*s)},_calculateWindow:function(){var e=this.collection,t=e.state,i=t.firstPage,r=+t.lastPage;r=Math.max(0,i?r-1:r);var s=Math.max(t.currentPage,t.firstPage);s=i?s-1:s;var n=this.windowSize,a=this.slideScale,l=Math.floor(s/n)*n;s<=r-this.slideThisMuch()&&(l+=this.slideMaybe(i,r,s,n,a)*this.slideThisMuch(i,r,s,n,a));var o=Math.min(r+1,l+n);return[l,o]},makeHandles:function(){var t=[],i=this.collection,r=this._calculateWindow(),s=r[0],n=r[1];if(this.renderIndexedPageHandles)for(var a=s;a<n;a++)t.push(new this.pageHandle({collection:i,pageIndex:a}));var l=this.controls;return e.each(["back","rewind","forward","fastForward"],function(e){var r=l[e];if(r){var s={collection:i,title:r.title,label:r.label};s["is"+e.slice(0,1).toUpperCase()+e.slice(1)]=!0;var n=new this.pageHandle(s);"rewind"==e||"back"==e?t.unshift(n):t.push(n)}},this),t},render:function(){this.$el.empty();var e=this.collection.state.totalPages;if(this.renderMultiplePagesOnly&&e<=1)return this;if(this.handles)for(var t=0,i=this.handles.length;t<i;t++)this.handles[t].remove();for(var r=this.handles=this.makeHandles(),s=document.createElement("ul"),t=0;t<r.length;t++)s.appendChild(r[t].render().el);return this.el.appendChild(s),this}})}(i(785),i(100),i(1497),i(1486))},1628:function(e,t,i){var r,s,n;
/*
  backgrid-filter
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/s=[i(785),i(100),i(1497)],void 0===(n="function"==typeof(r=function(e,t,i,r){"use strict";var s={},n=s.ServerSideFilter=i.Extension.ServerSideFilter=t.View.extend({tagName:"form",className:"backgrid-filter form-search",template:function(e){return'<span class="search">&nbsp;</span><input type="search" '+(e.placeholder?'placeholder="'+e.placeholder+'"':"")+' name="'+e.name+'" '+(e.value?'value="'+e.value+'"':"")+'/><a class="clear" data-backgrid-action="clear" href="#">&times;</a>'},events:{"keyup input[type=search]":"showClearButtonMaybe","click a[data-backgrid-action=clear]":"clear",submit:"search"},name:"q",value:null,placeholder:null,initialize:function(e){n.__super__.initialize.apply(this,arguments),this.name=e.name||this.name,this.value=e.value||this.value,this.placeholder=e.placeholder||this.placeholder,this.template=e.template||this.template;var i=this.collection,r=this;t.PageableCollection&&i instanceof t.PageableCollection&&"server"==i.mode&&(i.queryParams[this.name]=function(){return r.query()||null})},clearSearchBox:function(){this.value=null,this.searchBox().val(null),this.showClearButtonMaybe()},showClearButtonMaybe:function(){var e=this.clearButton(),t=this.query();t?e.show():e.hide()},searchBox:function(){return this.$el.find("input[type=search]")},clearButton:function(){return this.$el.find("a[data-backgrid-action=clear]")},query:function(){return this.value=this.searchBox().val(),this.value},search:function(e){e&&e.preventDefault();var i={},r=this.query();r&&(i[this.name]=r);var s=this.collection;t.PageableCollection&&s instanceof t.PageableCollection?s.getFirstPage({data:i,reset:!0,fetch:!0}):s.fetch({data:i,reset:!0})},clear:function(e){e&&e.preventDefault(),this.clearSearchBox();var i=this.collection;t.PageableCollection&&i instanceof t.PageableCollection?i.getFirstPage({reset:!0,fetch:!0}):i.fetch({reset:!0})},render:function(){return this.$el.empty().append(this.template({name:this.name,placeholder:this.placeholder,value:this.value})),this.showClearButtonMaybe(),this.delegateEvents(),this}}),a=s.ClientSideFilter=i.Extension.ClientSideFilter=n.extend({events:e.extend({},n.prototype.events,{"click a[data-backgrid-action=clear]":function(e){e.preventDefault(),this.clear()},"keydown input[type=search]":"search",submit:function(e){e.preventDefault(),this.search()}}),fields:null,wait:149,initialize:function(t){a.__super__.initialize.apply(this,arguments),this.fields=t.fields||this.fields,this.wait=t.wait||this.wait,this._debounceMethods(["search","clear"]);var i=this.collection=this.collection.fullCollection||this.collection,r=this.shadowCollection=i.clone();this.listenTo(i,"add",function(e,t,i){r.add(e,i)}),this.listenTo(i,"remove",function(e,t,i){r.remove(e,i)}),this.listenTo(i,"sort",function(e){this.query()||r.reset(e.models)}),this.listenTo(i,"reset",function(t,i){(i=e.extend({reindex:!0},i||{})).reindex&&null==i.from&&null==i.to&&r.reset(t.models)})},_debounceMethods:function(t){e.isString(t)&&(t=[t]),this.undelegateEvents();for(var i=0,r=t.length;i<r;i++){var s=t[i],n=this[s];this[s]=e.debounce(n,this.wait)}this.delegateEvents()},makeRegExp:function(e){return new RegExp(e.trim().split(/\s+/).join("|"),"i")},makeMatcher:function(e){var t=this.makeRegExp(e);return function(e){for(var i=this.fields||e.keys(),r=0,s=i.length;r<s;r++)if(t.test(e.get(i[r])+""))return!0;return!1}},search:function(){var t=e.bind(this.makeMatcher(this.query()),this),i=this.collection;i.pageableCollection&&i.pageableCollection.getFirstPage({silent:!0}),i.reset(this.shadowCollection.filter(t),{reindex:!1})},clear:function(){this.clearSearchBox();var e=this.collection;e.pageableCollection&&e.pageableCollection.getFirstPage({silent:!0}),e.reset(this.shadowCollection.models,{reindex:!1})}}),l=s.LunrFilter=i.Extension.LunrFilter=a.extend({ref:"id",fields:null,initialize:function(e){l.__super__.initialize.apply(this,arguments),this.ref=e.ref||this.ref;var t=this.collection=this.collection.fullCollection||this.collection;this.listenTo(t,"add",this.addToIndex),this.listenTo(t,"remove",this.removeFromIndex),this.listenTo(t,"reset",this.resetIndex),this.listenTo(t,"change",this.updateIndex),this.resetIndex(t)},resetIndex:function(t,i){if((i=e.extend({reindex:!0},i||{})).reindex){var s=this;this.index=r(function(){e.each(s.fields,function(e,t){this.field(t,e),this.ref(s.ref)},this)}),t.each(function(e){this.addToIndex(e)},this)}},addToIndex:function(e){var t=this.index,i=e.toJSON();t.documentStore.has(i[this.ref])?t.update(i):t.add(i)},removeFromIndex:function(e){var t=this.index,i=e.toJSON();t.documentStore.has(i[this.ref])&&t.remove(i)},updateIndex:function(t){var i=t.changedAttributes();i&&!e.isEmpty(e.intersection(e.keys(this.fields),e.keys(i)))&&this.index.update(t.toJSON())},search:function(){var e=this.collection;if(this.query()){for(var t=this.index.search(this.query()),i=[],r=0;r<t.length;r++){var s=t[r];i.push(this.shadowCollection.get(s.ref))}e.pageableCollection&&e.pageableCollection.getFirstPage({silent:!0}),e.reset(i,{reindex:!1})}else e.reset(this.shadowCollection.models,{reindex:!1})}});return s})?r.apply(t,s):r)||(e.exports=n)}}]);
//# sourceMappingURL=8.3d6b72185d.js.map