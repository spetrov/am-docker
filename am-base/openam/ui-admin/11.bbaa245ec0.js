(window.webpackJsonp=window.webpackJsonp||[]).push([[11,223,224,225,228,229,230,232,233,234,235,236,237,238,239,240,241,242,243,245,246,247,290,291,292,293],{1252:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"selectOptions"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:9,column:0},end:{line:21,column:7}}}))?i:""},2:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<td class="form-group">\n    <select class="form-control" data-save-row data-row-'+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"index")||o&&s(o,"index"))?l:e.hooks.helperMissing)?l.call(r,{name:"index",hash:{},data:o,loc:{start:{line:11,column:56},end:{line:11,column:66}}}):l)+">\n"+(null!=(i=s(n,"each").call(r,null!=t?s(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:8},end:{line:14,column:17}}}))?i:"")+"    </select>\n</td>\n"},3:function(e,t,n,a,o){var i,l=e.lambda,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+r(l(null!=t?s(t,"value"):t,t))+'" '+(null!=(i=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isSelected"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:39},end:{line:13,column:77}}}))?i:"")+">"+r(l(null!=t?s(t,"value"):t,t))+"</option>\n"},4:function(e,t,n,a,o){return"selected"},6:function(e,t,n,a,o){var i,l=e.lambda,r=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<td class="form-group">\n    <input class="form-control" data-save-row type="text" value="'+r(l(null!=t?u(t,"data"):t,t))+'" placeholder="'+r((u(n,"t")||t&&u(t,"t")||c).call(s,"common.form.addValue",{name:"t",hash:{},data:o,loc:{start:{line:19,column:93},end:{line:19,column:121}}}))+'" data-row-'+r("function"==typeof(i=null!=(i=u(n,"index")||o&&u(o,"index"))?i:c)?i.call(s,{name:"index",hash:{},data:o,loc:{start:{line:19,column:132},end:{line:19,column:142}}}):i)+' data-validator="'+r(l(null!=t?u(t,"required"):t,t))+'">\n</td>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=c(n,"each").call(l,null!=t?c(t,"columns"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:22,column:9}}}))?i:"")+'<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-save-row title="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.update",{name:"t",hash:{},data:o,loc:{start:{line:25,column:58},end:{line:25,column:84}}}))+'"><i class="fa fa-check"></i></button>\n        <button class="btn btn-link" data-undo-edit-row title="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.cancel",{name:"t",hash:{},data:o,loc:{start:{line:26,column:63},end:{line:26,column:89}}}))+'"><i class="fa fa-undo"></i></button>\n    </div>\n</td>\n'},useData:!0})},1253:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"<th>"+e.escapeExpression(e.lambda(t,t))+"</th>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="table-container am-inline-edit-table">\n    <table class="table">\n        <thead>\n            <tr>\n                '+(null!=(i=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"headers"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:16},end:{line:12,column:59}}}))?i:"")+'\n                <th class="fr-col-btn-2"></th>\n            </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n</div>\n'},useData:!0})},1254:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"selectOptions"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:9,column:0},end:{line:21,column:7}}}))?i:""},2:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <td class="form-group">\n        <select class="form-control" data-row-'+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"index")||o&&s(o,"index"))?l:e.hooks.helperMissing)?l.call(r,{name:"index",hash:{},data:o,loc:{start:{line:11,column:46},end:{line:11,column:56}}}):l)+">\n"+(null!=(i=s(n,"each").call(r,null!=t?s(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:12},end:{line:14,column:21}}}))?i:"")+"        </select>\n    </td>\n"},3:function(e,t,n,a,o){var i,l=e.lambda,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <option value="'+r(l(null!=t?s(t,"value"):t,t))+'" '+(null!=(i=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isSelected"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:43},end:{line:13,column:81}}}))?i:"")+">"+r(l(null!=t?s(t,"value"):t,t))+"</option>\n"},4:function(e,t,n,a,o){return"selected"},6:function(e,t,n,a,o){var i,l=e.lambda,r=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <td class="form-group">\n        <input class="form-control" type="text" value="'+r(l(null!=t?u(t,"data"):t,t))+'" data-add-row placeholder="'+r((u(n,"t")||t&&u(t,"t")||c).call(s,"common.form.addValue",{name:"t",hash:{},data:o,loc:{start:{line:19,column:96},end:{line:19,column:124}}}))+'" data-row-'+r("function"==typeof(i=null!=(i=u(n,"index")||o&&u(o,"index"))?i:c)?i.call(s,{name:"index",hash:{},data:o,loc:{start:{line:19,column:135},end:{line:19,column:145}}}):i)+' data-validator="'+r(l(null!=t?u(t,"required"):t,t))+'">\n    </td>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=r(n,"each").call(l,null!=t?r(t,"columns"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:22,column:9}}}))?i:"")+'<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-add-row title="'+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(l,"common.form.add",{name:"t",hash:{},data:o,loc:{start:{line:25,column:57},end:{line:25,column:80}}}))+'"><i class="fa fa-plus"></i></button>\n    </div>\n</td>\n'},useData:!0})},1255:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<td>"+e.escapeExpression(e.lambda(null!=t?i(t,"data"):t,t))+"</td>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=c(n,"each").call(l,null!=t?c(t,"columns"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:8,column:48}}}))?i:"")+'\n<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-edit-row title="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.edit",{name:"t",hash:{},data:o,loc:{start:{line:11,column:58},end:{line:11,column:82}}}))+'"><i class="fa fa-pencil"></i></button>\n        <button class="btn btn-link" data-delete-row title="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.delete",{name:"t",hash:{},data:o,loc:{start:{line:12,column:60},end:{line:12,column:86}}}))+'"><i class="fa fa-close"></i></button>\n    </div>\n</td>\n'},useData:!0})},1258:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:9,column:1},end:{line:29,column:8}}}))?i:""},2:function(e,t,n,a,o){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:8},end:{line:23,column:17}}}))?i:""},3:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=(l(n,"ifObject")||t&&l(t,"ifObject")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"ifObject",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:11,column:12},end:{line:22,column:25}}}))?i:""},4:function(e,t,n,a,o){var i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <div>\n                    <h3>"+r((s(n,"t")||t&&s(t,"t")||l).call(i,o&&s(o,"key"),{name:"t",hash:{},data:o,loc:{start:{line:13,column:24},end:{line:13,column:34}}}))+"</h3>\n                    <span>"+r((s(n,"stringify")||t&&s(t,"stringify")||l).call(i,t,{name:"stringify",hash:{},data:o,loc:{start:{line:14,column:26},end:{line:14,column:44}}}))+"</span>\n                </div>\n\n"},6:function(e,t,n,a,o){var i=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <div>\n                    <h3>"+i((l(n,"t")||t&&l(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},o&&l(o,"key"),{name:"t",hash:{},data:o,loc:{start:{line:19,column:24},end:{line:19,column:34}}}))+"</h3>\n                    <span>"+i(e.lambda(t,t))+"</span>\n                </div>\n"},8:function(e,t,n,a,o){var i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\t\t<div>\n\t\t\t<h3>"+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.common.type",{name:"t",hash:{},data:o,loc:{start:{line:26,column:7},end:{line:26,column:34}}}))+"</h3>\n\t\t\t<span>"+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.policies.edit.conditionTypes.nothingSelected",{name:"t",hash:{},data:o,loc:{start:{line:27,column:9},end:{line:27,column:83}}}))+"</span>\n\t\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:30,column:9}}}))?i:""},useData:!0})},1320:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o,i,l){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=s(n,"each").call(null!=t?t:e.nullContext||{},null!=(r=null!=t?s(t,"entity"):t)?s(r,"resources"):r,{name:"each",hash:{},fn:e.program(2,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:17,column:16},end:{line:22,column:25}}}))?r:""},2:function(e,t,n,a,o,i,l){var r,s=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=e.hooks.helperMissing,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li data-resource="'+c(s(t,t))+'" class="'+(null!=(r=(p(n,"equals")||t&&p(t,"equals")||d).call(u,t,null!=(r=null!=l[2]?p(l[2],"options"):l[2])?p(r,"invalidResource"):r,{name:"equals",hash:{},fn:e.program(3,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:18,column:52},end:{line:18,column:122}}}))?r:"")+"\n                        "+(null!=(r=(p(n,"equals")||t&&p(t,"equals")||d).call(u,t,null!=(r=null!=l[2]?p(l[2],"options"):l[2])?p(r,"justAdded"):r,{name:"equals",hash:{},fn:e.program(5,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:19,column:24},end:{line:19,column:89}}}))?r:"")+' list-group-item">'+c(s(t,t))+'\n                    <span tabindex="0" data-delete class="fa fa-close pull-right"></span>\n                </li>\n'},3:function(e,t,n,a,o){return" text-danger "},5:function(e,t,n,a,o){return" text-success "},7:function(e,t,n,a,o){return" hidden "},9:function(e,t,n,a,o){var i=e.lambda,l=e.escapeExpression;return'                        <option value="'+l(i(t,t))+'">'+l(i(t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o,i,l){var r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="form-group">\n    <label class="col-sm-2 control-label">\n        '+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.authorization.common.resources",{name:"t",hash:{},data:o,loc:{start:{line:10,column:8},end:{line:10,column:54}}}))+'\n    </label>\n\n    <div class="col-sm-9 ">\n        <div class="list-table created-items" id="createdResources">\n            <ul class="list-group">\n'+(null!=(r=d(n,"if").call(s,null!=(r=null!=t?d(t,"entity"):t)?d(r,"resources"):r,{name:"if",hash:{},fn:e.program(1,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:16,column:16},end:{line:23,column:23}}}))?r:"")+'\n                <li class="list-group-item editing form-inline '+(null!=(r=d(n,"if").call(s,null!=(r=null!=t?d(t,"entity"):t)?d(r,"resources"):r,{name:"if",hash:{},fn:e.program(7,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:25,column:63},end:{line:25,column:102}}}))?r:"")+'">\n                    <select class="selectize">\n                        <option disabled selected value="">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.authorization.policies.edit.selectResourcePattern",{name:"t",hash:{},data:o,loc:{start:{line:27,column:59},end:{line:27,column:124}}}))+"</option>\n"+(null!=(r=d(n,"each").call(s,null!=(r=null!=t?d(t,"options"):t)?d(r,"availablePatterns"):r,{name:"each",hash:{},fn:e.program(9,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:28,column:24},end:{line:30,column:33}}}))?r:"")+'                    </select>\n\n                    <div id="populateResource" class="clearfix"></div>\n                </li>\n            </ul>\n        </div>\n        <div class="add-item-inline '+(null!=(r=d(n,"unless").call(s,null!=(r=null!=t?d(t,"entity"):t)?d(r,"resources"):r,{name:"unless",hash:{},fn:e.program(7,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:37,column:36},end:{line:37,column:83}}}))?r:"")+'">\n            <button type="button" class="btn btn-default" data-show-editing>\n                <i class="fa fa-plus"></i> Add Resource\n            </button>\n        </div>\n    </div>\n</div>\n'},useData:!0,useDepths:!0})},1321:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n        <li class="active">\n            <a href="#summaryTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.summary",{name:"t",hash:{},data:o,loc:{start:{line:16,column:16},end:{line:16,column:60}}}))+'\n            </a>\n        </li>\n\n        <li>\n            <a href="#resourcesTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.resources",{name:"t",hash:{},data:o,loc:{start:{line:22,column:16},end:{line:22,column:62}}}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#actionsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.actions",{name:"t",hash:{},data:o,loc:{start:{line:27,column:16},end:{line:27,column:60}}}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#subjectsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.subjects",{name:"t",hash:{},data:o,loc:{start:{line:32,column:16},end:{line:32,column:61}}}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#environmentsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.environments",{name:"t",hash:{},data:o,loc:{start:{line:37,column:16},end:{line:37,column:65}}}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#responseAttributesTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"console.authorization.common.responseAttributes",{name:"t",hash:{},data:o,loc:{start:{line:42,column:16},end:{line:42,column:71}}}))+"\n            </a>\n        </li>\n    </ul>\n</div>\n"},3:function(e,t,n,a,o){return"fr-panel-tab"},5:function(e,t,n,a,o,i,l){var r,s,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                <option "+(null!=(r=(p(n,"equals")||t&&p(t,"equals")||u).call(c,null!=t?p(t,"uuid"):t,null!=(r=null!=l[1]?p(l[1],"entity"):l[1])?p(r,"resourceTypeUuid"):r,{name:"equals",hash:{},fn:e.program(6,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:65,column:40},end:{line:65,column:102}}}))?r:"")+' value="'+d("function"==typeof(s=null!=(s=p(n,"uuid")||(null!=t?p(t,"uuid"):t))?s:u)?s.call(c,{name:"uuid",hash:{},data:o,loc:{start:{line:65,column:110},end:{line:65,column:118}}}):s)+'">'+d("function"==typeof(s=null!=(s=p(n,"name")||(null!=t?p(t,"name"):t))?s:u)?s.call(c,{name:"name",hash:{},data:o,loc:{start:{line:65,column:120},end:{line:65,column:128}}}):s)+"</option>\n"},6:function(e,t,n,a,o){return"selected"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o,i,l){var r,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=e.invokePartial(d(a,"headers/_TitleWithSubAndIcon"),t,{name:"headers/_TitleWithSubAndIcon",hash:{detail:null!=t?d(t,"status"):t,icon:"gavel",type:"console.authorization.common.policy",title:null!=(r=null!=t?d(t,"entity"):t)?d(r,"name"):r},data:o,helpers:n,partials:a,decorators:e.decorators}))?r:"")+'\n<p class="panel-description">'+s(e.lambda(null!=(r=null!=t?d(t,"entity"):t)?d(r,"description"):r,t))+"</p>\n"+(null!=(r=d(n,"unless").call(c,null!=t?d(t,"isReadOnly"):t,{name:"unless",hash:{},fn:e.program(1,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:11,column:0},end:{line:47,column:11}}}))?r:"")+'\n<div class="panel panel-default '+(null!=(r=d(n,"unless").call(c,null!=t?d(t,"isReadOnly"):t,{name:"unless",hash:{},fn:e.program(3,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:49,column:32},end:{line:49,column:77}}}))?r:"")+'">\n\n    <div class="panel-body tab-content">\n        <div role="tabpanel" class="tab-pane active" id="summaryTab"></div>\n\n        <div role="tabpanel" class="tab-pane" id="resourcesTab">\n            <p class="panel-description">'+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.policies.edit.resourcesDescription",{name:"t",hash:{},data:o,loc:{start:{line:55,column:41},end:{line:55,column:105}}}))+'</p>\n            <div class="form-horizontal">\n                <div class="form-group clearfix">\n                    <label class="col-sm-2 control-label" for="resTypesSelection">\n                        '+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.common.resourceType",{name:"t",hash:{},data:o,loc:{start:{line:59,column:24},end:{line:59,column:73}}}))+'\n                    </label>\n\n                    <div class="col-sm-9">\n                        <select class="selectize" id="resTypesSelection">\n'+(null!=(r=d(n,"each").call(c,null!=(r=null!=t?d(t,"options"):t)?d(r,"availableResourceTypes"):r,{name:"each",hash:{},fn:e.program(5,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:64,column:28},end:{line:66,column:37}}}))?r:"")+'                        </select>\n\n                        <span class="input-helper-text">\n                            '+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.policies.edit.selectResourceTypeHelper",{name:"t",hash:{},data:o,loc:{start:{line:70,column:28},end:{line:70,column:96}}}))+'\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div id="editResources" class="form-horizontal clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="actionsTab">\n            <div class="form-inline">\n                <p class="panel-description">'+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.policies.edit.actionsDescription",{name:"t",hash:{},data:o,loc:{start:{line:80,column:45},end:{line:80,column:107}}}))+'</p>\n                <div id="actions" class="clearfix"></div>\n            </div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="subjectsTab">\n            <p class="panel-description">'+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.policies.edit.subjectConditionsDescription",{name:"t",hash:{},data:o,loc:{start:{line:86,column:41},end:{line:86,column:113}}}))+'</p>\n            <div id="subjectContainer" class="clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="environmentsTab">\n            <p class="panel-description">'+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.policies.edit.environmentConditionsDescription",{name:"t",hash:{},data:o,loc:{start:{line:91,column:41},end:{line:91,column:117}}}))+'</p>\n            <div id="environmentContainer" class="clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="responseAttributesTab">\n            <div id="userAttrs" class="block"></div>\n\n            <div class="block">\n                <h3 class="block-header">'+s((d(n,"t")||t&&d(t,"t")||u).call(c,"console.authorization.common.staticAttributes",{name:"t",hash:{},data:o,loc:{start:{line:99,column:41},end:{line:99,column:94}}}))+'</h3>\n                <div data-static-attributes></div>\n            </div>\n\n            <div id="customAttrs" class="block"></div>\n        </div>\n    </div>\n\n    <div id="policyFooter"></div>\n    <div id="settingsModal"></div>\n</div>\n'},usePartial:!0,useData:!0,useDepths:!0})},1322:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(c(a,"headers/_Title"),t,{name:"headers/_Title",hash:{title:"console.authorization.policies.edit.createNew"},data:o,helpers:n,partials:a,decorators:e.decorators}))?i:"")+'\n<div class="panel panel-default fr-panel-with-border">\n\n    <div class="panel-body">\n        <div class="block clearfix form-horizontal">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="policyName">'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.common.name",{name:"t",hash:{},data:o,loc:{start:{line:15,column:71},end:{line:15,column:98}}}))+'</label>\n\n                <div class="col-sm-9">\n                    <input class="form-control" id="policyName" name="entityName" type="text"\n                           value="'+s(e.lambda(null!=(i=null!=t?c(t,"entity"):t)?c(i,"name"):i,t))+'" data-field="name" autofocus required\n                           placeholder="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.validation.required",{name:"t",hash:{},data:o,loc:{start:{line:20,column:40},end:{line:20,column:79}}}))+'"/>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="resTypesSelection">\n                    '+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.authorization.common.resourceType",{name:"t",hash:{},data:o,loc:{start:{line:26,column:20},end:{line:26,column:69}}}))+'\n                </label>\n\n                <div class="col-sm-9">\n                    <select class="selectize" id="resTypesSelection">\n                        <option disabled selected value="">'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.authorization.policies.edit.selectResourceType",{name:"t",hash:{},data:o,loc:{start:{line:31,column:59},end:{line:31,column:121}}}))+'</option>\n                    </select>\n\n                    <span class="input-helper-text">\n                        '+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.authorization.policies.edit.selectResourceTypeHelper",{name:"t",hash:{},data:o,loc:{start:{line:35,column:24},end:{line:35,column:92}}}))+'\n                    </span>\n                </div>\n            </div>\n\n            <div id="editResources" class="clearfix"></div>\n        </div>\n    </div>\n\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+s((c(n,"routeTo")||t&&c(t,"routeTo")||r).call(l,"realmsPolicySetEdit",null!=t?c(t,"realmPath"):t,null!=t?c(t,"policySetName"):t,{name:"routeTo",hash:{},data:o,loc:{start:{line:46,column:45},end:{line:46,column:102}}}))+'">\n                '+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.cancel",{name:"t",hash:{},data:o,loc:{start:{line:47,column:16},end:{line:47,column:42}}}))+'\n            </a>\n            <input data-save type="button" name="submitForm" value="'+s((c(n,"t")||t&&c(t,"t")||r).call(l,"common.form.create",{name:"t",hash:{},data:o,loc:{start:{line:49,column:68},end:{line:49,column:94}}}))+'" class="btn btn-primary">\n        </div>\n    </div>\n</div>\n'},usePartial:!0,useData:!0})},1325:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){return'<div id="selectedActions"></div>\n<div class="form-group" id="availableActions"></div>\n'},useData:!0})},1326:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"disabled"},3:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li><a data-action-name="'+s("function"==typeof(i=null!=(i=c(n,"action")||(null!=t?c(t,"action"):t))?i:r)?i.call(l,{name:"action",hash:{},data:o,loc:{start:{line:16,column:37},end:{line:16,column:47}}}):i)+'" href="#">'+s("function"==typeof(i=null!=(i=c(n,"action")||(null!=t?c(t,"action"):t))?i:r)?i.call(l,{name:"action",hash:{},data:o,loc:{start:{line:16,column:58},end:{line:16,column:68}}}):i)+"</a></li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="btn-group">\n    <button type="button" class="btn btn-default dropdown-toggle" '+(null!=(i=r(n,"unless").call(l,null!=t?r(t,"items"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:66},end:{line:9,column:102}}}))?i:"")+'\n        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        '+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(l,"console.authorization.policies.edit.addAction",{name:"t",hash:{},data:o,loc:{start:{line:11,column:8},end:{line:11,column:61}}}))+' <span class="caret"></span>\n    </button>\n\n    <ul class="dropdown-menu">\n'+(null!=(i=r(n,"each").call(l,null!=t?r(t,"items"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:8},end:{line:17,column:17}}}))?i:"")+"    </ul>\n</div>\n"},useData:!0})},1327:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="resourceBuilder" data-resource="'+r(e.lambda(null!=(i=null!=t?u(t,"options"):t)?u(i,"newPattern"):i,t))+'">'+r("function"==typeof(l=null!=(l=u(n,"policyEditorResourceHelper")||(null!=t?u(t,"policyEditorResourceHelper"):t))?l:c)?l.call(s,{name:"policyEditorResourceHelper",hash:{},data:o,loc:{start:{line:8,column:65},end:{line:8,column:95}}}):l)+'</div>\n\n<div class="pull-right">\n    <input type="button" value="'+r((u(n,"t")||t&&u(t,"t")||c).call(s,"common.form.cancel",{name:"t",hash:{},data:o,loc:{start:{line:11,column:32},end:{line:11,column:58}}}))+'" class="btn btn-default" data-remove-pending>\n    <input type="button" value="'+r((u(n,"t")||t&&u(t,"t")||c).call(s,"common.form.add",{name:"t",hash:{},data:o,loc:{start:{line:12,column:32},end:{line:12,column:55}}}))+'" class="btn btn-default" data-add-resource>\n</div>\n'},useData:!0})},1328:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="btn-group">\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        <i class="fa fa-ellipsis-v"></i>\n    </button>\n\n    <ul class="dropdown-menu dropdown-menu-right">\n        <li><a data-properties href="#"><i class="fa fa-fw fa-pencil"></i> '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"common.form.properties",{name:"t",hash:{},data:o,loc:{start:{line:14,column:75},end:{line:14,column:105}}}))+'</a></li>\n        <li class="divider"></li>\n        <li><a data-delete href="#"><i class="fa fa-fw fa-times"></i> '+r((s(n,"t")||t&&s(t,"t")||l).call(i,"common.form.delete",{name:"t",hash:{},data:o,loc:{start:{line:16,column:70},end:{line:16,column:96}}}))+"</a></li>\n    </ul>\n</div>\n"},useData:!0})},1329:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h3 class="block-header">'+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(l,"console.authorization.common.customAttributes",{name:"t",hash:{},data:o,loc:{start:{line:9,column:25},end:{line:9,column:78}}}))+'</h3>\n<div class="list-table created-items">\n\n    <ul class="list-group">\n'+(null!=(i=r(n,"each").call(l,null!=t?r(t,"customAttributes"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:8},end:{line:17,column:17}}}))?i:"")+"    </ul>\n</div>\n"},2:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li data-attr-key="'+c("function"==typeof(l=null!=(l=u(n,"propertyName")||(null!=t?u(t,"propertyName"):t))?l:s)?l.call(r,{name:"propertyName",hash:{},data:o,loc:{start:{line:14,column:27},end:{line:14,column:43}}}):l)+'" data-attr-val="'+c("function"==typeof(l=null!=(l=u(n,"propertyValues")||(null!=t?u(t,"propertyValues"):t))?l:s)?l.call(r,{name:"propertyValues",hash:{},data:o,loc:{start:{line:14,column:60},end:{line:14,column:78}}}):l)+'" class="list-group-item">\n            <span class="key">'+c("function"==typeof(l=null!=(l=u(n,"propertyName")||(null!=t?u(t,"propertyName"):t))?l:s)?l.call(r,{name:"propertyName",hash:{},data:o,loc:{start:{line:15,column:30},end:{line:15,column:46}}}):l)+":</span> "+(null!=(i=u(n,"each").call(r,null!=t?u(t,"propertyValues"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:55},end:{line:15,column:126}}}))?i:"")+"\n        </li>\n"},3:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(t,t))+(null!=(i=l(n,"unless").call(null!=t?t:e.nullContext||{},o&&l(o,"last"),{name:"unless",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:87},end:{line:15,column:117}}}))?i:"")},4:function(e,t,n,a,o){return", "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"customAttributes"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:20,column:7}}}))?i:""},useData:!0})},1330:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<select multiple id="avaliableUserAttributes" class="selectize">\n    <option disabled selected value="">'+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(l,"console.authorization.policies.edit.subjectAttributesPlaceholder",{name:"t",hash:{},data:o,loc:{start:{line:12,column:39},end:{line:12,column:111}}}))+"</option>\n"+(null!=(i=r(n,"each").call(l,null!=t?r(t,"allUserAttributes"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:4},end:{line:15,column:13}}}))?i:"")+"</select>\n"},2:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <option "+(null!=(i=u(n,"if").call(r,null!=t?u(t,"selected"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:12},end:{line:14,column:43}}}))?i:"")+' value="'+c("function"==typeof(l=null!=(l=u(n,"propertyName")||(null!=t?u(t,"propertyName"):t))?l:s)?l.call(r,{name:"propertyName",hash:{},data:o,loc:{start:{line:14,column:51},end:{line:14,column:67}}}):l)+'">'+c("function"==typeof(l=null!=(l=u(n,"propertyName")||(null!=t?u(t,"propertyName"):t))?l:s)?l.call(r,{name:"propertyName",hash:{},data:o,loc:{start:{line:14,column:69},end:{line:14,column:85}}}):l)+"</option>\n"},3:function(e,t,n,a,o){return"selected"},5:function(e,t,n,a,o){var i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((i(n,"t")||t&&i(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"console.authorization.common.noSubjectAttributes",{name:"t",hash:{},data:o,loc:{start:{line:18,column:4},end:{line:18,column:60}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h3 class="block-header">'+e.escapeExpression((r(n,"t")||t&&r(t,"t")||e.hooks.helperMissing).call(l,"console.authorization.common.subjectAttributes",{name:"t",hash:{},data:o,loc:{start:{line:8,column:25},end:{line:8,column:79}}}))+"</h3>\n\n"+(null!=(i=r(n,"if").call(l,null!=t?r(t,"allUserAttributes"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:10,column:0},end:{line:19,column:7}}}))?i:"")},useData:!0})},1331:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return"multiple"},3:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-source="'+e.escapeExpression("function"==typeof(i=null!=(i=l(n,"dataSource")||(null!=t?l(t,"dataSource"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"dataSource",hash:{},data:o,loc:{start:{line:9,column:111},end:{line:9,column:125}}}):i)+'"'},5:function(e,t,n,a,o){var i=e.lambda,l=e.escapeExpression;return'    <option selected value="'+l(i(t,t))+'">'+l(i(t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label for="selection_'+c("function"==typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:8,column:22},end:{line:8,column:28}}}):l)+'" data-title="'+c("function"==typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:s)?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:8,column:42},end:{line:8,column:51}}}):l)+'">'+c((u(n,"t")||t&&u(t,"t")||s).call(r,null!=t?u(t,"i18nKey"):t,{name:"t",hash:{},data:o,loc:{start:{line:8,column:53},end:{line:8,column:66}}}))+"</label>\n<select "+(null!=(i=u(n,"if").call(r,null!=t?u(t,"multiple"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:8},end:{line:9,column:39}}}))?i:"")+' id="selection_'+c("function"==typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:9,column:54},end:{line:9,column:60}}}):l)+'" class="selectize" '+(null!=(i=u(n,"if").call(r,null!=t?u(t,"dataSource"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:80},end:{line:9,column:133}}}))?i:"")+">\n"+(null!=(i=u(n,"each").call(r,null!=t?u(t,"data"):t,{name:"each",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:4},end:{line:12,column:13}}}))?i:"")+"</select>\n"},useData:!0})},1332:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return" active "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label data-title="'+c("function"==typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:s)?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:8,column:19},end:{line:8,column:28}}}):l)+'">'+c((u(n,"t")||t&&u(t,"t")||s).call(r,null!=t?u(t,"i18nKey"):t,{name:"t",hash:{},data:o,loc:{start:{line:8,column:30},end:{line:8,column:43}}}))+'</label>\n\n<ul class="btn-group boolean-condition clearfix" role="group">\n    <li class="btn-group '+(null!=(i=(u(n,"equals")||t&&u(t,"equals")||s).call(r,null!=t?u(t,"selected"):t,!0,{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:25},end:{line:11,column:69}}}))?i:"")+'">\n        <a data-val="true" class="btn fr-btn-secondary" data-btn>'+c((u(n,"t")||t&&u(t,"t")||s).call(r,"common.form.true",{name:"t",hash:{},data:o,loc:{start:{line:12,column:65},end:{line:12,column:89}}}))+'</a>\n    </li>\n    <li class="btn-group '+(null!=(i=(u(n,"equals")||t&&u(t,"equals")||s).call(r,null!=t?u(t,"selected"):t,!1,{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:25},end:{line:14,column:70}}}))?i:"")+'">\n        <a data-val="false" class="btn fr-btn-secondary" data-btn>'+c((u(n,"t")||t&&u(t,"t")||s).call(r,"common.form.false",{name:"t",hash:{},data:o,loc:{start:{line:15,column:66},end:{line:15,column:91}}}))+"</a>\n    </li>\n</ul>\n"},useData:!0})},1333:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="field-float-pattern data-obj date-field">\n    <label for="startDate" data-title="startDate">'+s((u(n,"t")||t&&u(t,"t")||r).call(l,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startDate",{name:"t",hash:{},data:o,loc:{start:{line:9,column:50},end:{line:9,column:135}}}))+'</label>\n    <input type="text" id="startDate" name="startDate" value="'+s(c(null!=(i=null!=t?u(t,"itemData"):t)?u(i,"startDate"):i,t))+'" readonly=true class="placeholderText form-control"\n           placeholder="YYYY:MM:DD"/>\n</div>\n\n<div class="field-float-pattern data-obj date-field">\n    <label for="endDate" data-title="endDate">'+s((u(n,"t")||t&&u(t,"t")||r).call(l,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endDate",{name:"t",hash:{},data:o,loc:{start:{line:15,column:46},end:{line:15,column:129}}}))+'</label>\n    <input type="text" id="endDate" name="endDate" value="'+s(c(null!=(i=null!=t?u(t,"itemData"):t)?u(i,"endDate"):i,t))+'" readonly=true class="placeholderText form-control"\n           placeholder="YYYY:MM:DD"/>\n</div>\n'},useData:!0})},1334:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o,i,l){var r,s=e.lambda,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <option "+(null!=(r=(u(n,"equals")||t&&u(t,"equals")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=null!=l[1]?u(l[1],"itemData"):l[1])?u(r,"startDay"):r,null!=t?u(t,"value"):t,{name:"equals",hash:{},fn:e.program(2,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:13,column:16},end:{line:13,column:78}}}))?r:"")+' value="'+c(s(null!=t?u(t,"value"):t,t))+'">'+c(s(null!=t?u(t,"title"):t,t))+"</option>\n"},2:function(e,t,n,a,o){return"selected"},4:function(e,t,n,a,o,i,l){var r,s=e.lambda,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <option "+(null!=(r=(u(n,"equals")||t&&u(t,"equals")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=null!=l[1]?u(l[1],"itemData"):l[1])?u(r,"endDay"):r,null!=t?u(t,"value"):t,{name:"equals",hash:{},fn:e.program(2,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:23,column:16},end:{line:23,column:76}}}))?r:"")+' value="'+c(s(null!=t?u(t,"value"):t,t))+'">'+c(s(null!=t?u(t,"title"):t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o,i,l){var r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="field-float-select data-obj day-field">\n    <label for="startDay" data-title="startDay">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startDay",{name:"t",hash:{},data:o,loc:{start:{line:9,column:48},end:{line:9,column:132}}}))+'</label>\n    <select id="startDay" class="form-control">\n        <option value="">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"common.form.notApplicable",{name:"t",hash:{},data:o,loc:{start:{line:11,column:25},end:{line:11,column:58}}}))+"</option>\n"+(null!=(r=d(n,"each").call(s,null!=t?d(t,"weekdays"):t,{name:"each",hash:{},fn:e.program(1,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:12,column:8},end:{line:14,column:17}}}))?r:"")+'    </select>\n</div>\n\n<div class="field-float-select data-obj day-field">\n    <label for="endDay" data-title="endDay">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endDay",{name:"t",hash:{},data:o,loc:{start:{line:19,column:44},end:{line:19,column:126}}}))+'</label>\n    <select id="endDay" class="form-control">\n        <option value="">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"common.form.notApplicable",{name:"t",hash:{},data:o,loc:{start:{line:21,column:25},end:{line:21,column:58}}}))+"</option>\n"+(null!=(r=d(n,"each").call(s,null!=t?d(t,"weekdays"):t,{name:"each",hash:{},fn:e.program(4,o,0,i,l),inverse:e.noop,data:o,loc:{start:{line:22,column:8},end:{line:24,column:17}}}))?r:"")+"    </select>\n</div>\n"},useData:!0,useDepths:!0})},1335:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-source="'+e.escapeExpression("function"==typeof(i=null!=(i=l(n,"dataSource")||(null!=t?l(t,"dataSource"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"dataSource",hash:{},data:o,loc:{start:{line:10,column:100},end:{line:10,column:114}}}):i)+'"'},3:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option selected value="'+s("function"==typeof(i=null!=(i=u(n,"key")||o&&u(o,"key"))?i:r)?i.call(l,{name:"key",hash:{},data:o,loc:{start:{line:12,column:32},end:{line:12,column:40}}}):i)+":"+s(c(t,t))+'">'+s("function"==typeof(i=null!=(i=u(n,"key")||o&&u(o,"key"))?i:r)?i.call(l,{name:"key",hash:{},data:o,loc:{start:{line:12,column:51},end:{line:12,column:59}}}):i)+":"+s(c(t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label for="selection_'+c("function"==typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:8,column:22},end:{line:8,column:28}}}):l)+'" data-title="'+c("function"==typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:s)?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:8,column:42},end:{line:8,column:51}}}):l)+'">'+c((u(n,"t")||t&&u(t,"t")||s).call(r,null!=t?u(t,"i18nKey"):t,{name:"t",hash:{},data:o,loc:{start:{line:8,column:53},end:{line:8,column:66}}}))+'</label>\n<select placeholder="'+c((u(n,"t")||t&&u(t,"t")||s).call(r,"console.authorization.policies.edit.conditionTypes.attributes.object",{name:"t",hash:{},data:o,loc:{start:{line:9,column:21},end:{line:9,column:97}}}))+'"\n        multiple id="selection_'+c("function"==typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:10,column:31},end:{line:10,column:37}}}):l)+'" class="selectize object-prop" '+(null!=(i=u(n,"if").call(r,null!=t?u(t,"dataSource"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:69},end:{line:10,column:122}}}))?i:"")+">\n"+(null!=(i=u(n,"each").call(r,null!=t?u(t,"data"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:4},end:{line:13,column:13}}}))?i:"")+"</select>\n"},useData:!0})},1336:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'pattern="'+e.escapeExpression("function"==typeof(i=null!=(i=l(n,"pattern")||(null!=t?l(t,"pattern"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"pattern",hash:{},data:o,loc:{start:{line:10,column:68},end:{line:10,column:79}}}):i)+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label for="selection_'+u(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:s)===c?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:8,column:22},end:{line:8,column:28}}}):l)+'" data-title="'+u(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:s)===c?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:8,column:42},end:{line:8,column:51}}}):l)+'">'+u((d(n,"t")||t&&d(t,"t")||s).call(r,null!=t?d(t,"i18nKey"):t,{name:"t",hash:{},data:o,loc:{start:{line:8,column:53},end:{line:8,column:66}}}))+'</label>\n<input required type="text" id="selection_'+u(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:s)===c?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:9,column:42},end:{line:9,column:48}}}):l)+'" name="selection_'+u(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:s)===c?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:9,column:66},end:{line:9,column:72}}}):l)+'" value="'+u(typeof(l=null!=(l=d(n,"data")||(null!=t?d(t,"data"):t))?l:s)===c?l.call(r,{name:"data",hash:{},data:o,loc:{start:{line:9,column:81},end:{line:9,column:89}}}):l)+'" readonly=true\n       class="placeholderText form-control" '+(null!=(i=d(n,"if").call(r,null!=t?d(t,"pattern"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:44},end:{line:10,column:87}}}))?i:"")+"/>\n"},useData:!0})},1337:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="field-float-pattern data-obj time-field">\n    <label for="startTime" data-title="startTime">\n        '+s((u(n,"t")||t&&u(t,"t")||r).call(l,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startTime",{name:"t",hash:{},data:o,loc:{start:{line:10,column:8},end:{line:10,column:93}}}))+'\n    </label>\n    <input type="text" id="startTime" name="startTime" placeholder="HH:MM" value="'+s(c(null!=(i=null!=t?u(t,"itemData"):t)?u(i,"startTime"):i,t))+'"\n           readonly=true class="placeholderText clockpicker form-control" pattern="(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])" />\n    <span class="fa fa-clock-o" data-clock></span>\n</div>\n\n<div class="field-float-pattern data-obj time-field">\n    <label for="endTime" data-title="endTime">\n        '+s((u(n,"t")||t&&u(t,"t")||r).call(l,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endTime",{name:"t",hash:{},data:o,loc:{start:{line:19,column:8},end:{line:19,column:91}}}))+'\n    </label>\n    <input type="text" id="endTime" name="endTime" placeholder="HH:MM" value="'+s(c(null!=(i=null!=t?u(t,"itemData"):t)?u(i,"endTime"):i,t))+'"\n           readonly=true class="placeholderText clockpicker form-control" pattern="(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])" />\n    <span class="fa fa-clock-o" data-clock></span>\n</div>\n'},useData:!0})},1338:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=(l(n,"equals")||t&&l(t,"equals")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"title"):t,"Policy",{name:"equals",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:27,column:16},end:{line:30,column:27}}}))?i:""},2:function(e,t,n,a,o){return""},4:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <option value="'+s("function"==typeof(i=null!=(i=c(n,"title")||(null!=t?c(t,"title"):t))?i:r)?i.call(l,{name:"title",hash:{},data:o,loc:{start:{line:29,column:35},end:{line:29,column:44}}}):i)+'">'+s("function"==typeof(i=null!=(i=c(n,"i18nKey")||(null!=t?c(t,"i18nKey"):t))?i:r)?i.call(l,{name:"i18nKey",hash:{},data:o,loc:{start:{line:29,column:46},end:{line:29,column:57}}}):i)+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},p='<li class="rule clearfix invalid-rule" id="environment_'+u("function"==typeof(l=null!=(l=d(n,"itemID")||(null!=t?d(t,"itemID"):t))?l:c)?l.call(s,{name:"itemID",hash:{},data:o,loc:{start:{line:8,column:55},end:{line:8,column:65}}}):l)+'" tabindex="0">\n    <span class="item-button-panel edit-state">\n\t\t<span tabindex="0" class="fa fa-check"></span>\n        <span tabindex="0" class="fa fa-times"></span>\n\t</span>\n\n    <div class="item-data">\n        <div class="field-float-select data-obj type-selector-panel">\n            <div>\n                <label for="envSelection">'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.common.type",{name:"t",hash:{},data:o,loc:{start:{line:17,column:42},end:{line:17,column:69}}}))+'</label>\n\n                <a class="btn info-button" tabindex="0" data-toggle="popover" data-placement="top">\n                    <i class="fa fa-info-circle"></i>\n                </a>\n            </div>\n\n            <select id="envSelection" class="form-control type-selection" data-type-selection>\n                <option value="" selected disabled>'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"common.form.select",{name:"t",hash:{},data:o,loc:{start:{line:25,column:51},end:{line:25,column:77}}}))+"</option>\n";return l=null!=(l=d(n,"conditions")||(null!=t?d(t,"conditions"):t))?l:c,r={name:"conditions",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:16},end:{line:31,column:31}}},i="function"==typeof l?l.call(s,r):l,d(n,"conditions")||(i=e.hooks.blockHelperMissing.call(t,i,r)),null!=i&&(p+=i),p+'            </select>\n        </div>\n    </div>\n\n    <span class="item-button-panel">\n\t\t<span tabindex="0" class="fa fa-pencil"></span>\n\t\t<span tabindex="0" class="fa fa-times"></span>\n\t</span>\n</li>\n'},useData:!0})},1339:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=(l(n,"equals")||t&&l(t,"equals")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"title"):t,"Policy",{name:"equals",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:20,column:4},end:{line:23,column:15}}}))?i:""},2:function(e,t,n,a,o){return""},4:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                \t<option value="'+s("function"==typeof(i=null!=(i=c(n,"title")||(null!=t?c(t,"title"):t))?i:r)?i.call(l,{name:"title",hash:{},data:o,loc:{start:{line:22,column:32},end:{line:22,column:41}}}):i)+'">'+s("function"==typeof(i=null!=(i=c(n,"i18nKey")||(null!=t?c(t,"i18nKey"):t))?i:r)?i.call(l,{name:"i18nKey",hash:{},data:o,loc:{start:{line:22,column:43},end:{line:22,column:54}}}):i)+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},p='<li class="rule clearfix invalid-rule" id="subject_'+u("function"==typeof(l=null!=(l=d(n,"itemID")||(null!=t?d(t,"itemID"):t))?l:c)?l.call(s,{name:"itemID",hash:{},data:o,loc:{start:{line:8,column:51},end:{line:8,column:61}}}):l)+'" tabindex="0">\n    <span class="item-button-panel edit-state">\n\t\t<span tabindex="0" class="fa fa-check"></span>\n        <span tabindex="0" class="fa fa-times"></span>\n\t</span>\n\n\t<div class="item-data">\n\t\t<div class="field-float-select data-obj type-selector-panel">\n\t\t\t<label for="subjSelection" >'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"console.common.type",{name:"t",hash:{},data:o,loc:{start:{line:16,column:31},end:{line:16,column:58}}}))+'</label>\n\t\t\t<select id="subjSelection" class="form-control type-selection" data-type-selection>\n\t\t\t\t<option value="" selected disabled >'+u((d(n,"t")||t&&d(t,"t")||c).call(s,"common.form.select",{name:"t",hash:{},data:o,loc:{start:{line:18,column:40},end:{line:18,column:66}}}))+"</option>\n";return l=null!=(l=d(n,"subjects")||(null!=t?d(t,"subjects"):t))?l:c,r={name:"subjects",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:4},end:{line:24,column:29}}},i="function"==typeof l?l.call(s,r):l,d(n,"subjects")||(i=e.hooks.blockHelperMissing.call(t,i,r)),null!=i&&(p+=i),p+'\t\t\t</select>\n\t\t</div>\n\t</div>\n\n    <span class="item-button-panel">\n\t\t<span tabindex="0" class="fa fa-pencil"></span>\n\t\t<span tabindex="0" class="fa fa-times"></span>\n\t</span>\n</li>\n'},useData:!0})},1340:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="condition-management">\n    <ol id="dropOffArea" class="condition-management-group environment-area"></ol>\n\n    <a class="btn btn-default" role="button" id="addCondition" tabindex="0" data-add-condition>\n        <span class="fa fa-plus"></span> '+s("function"==typeof(i=null!=(i=c(n,"conditionName")||(null!=t?c(t,"conditionName"):t))?i:r)?i.call(l,{name:"conditionName",hash:{},data:o,loc:{start:{line:12,column:41},end:{line:12,column:58}}}):i)+'\n    </a>\n    <a class="btn btn-default" role="button" id="addOperator" tabindex="0" data-add-operator>\n        <span class="fa fa-plus"></span> '+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.authorization.policies.edit.addLogical",{name:"t",hash:{},data:o,loc:{start:{line:15,column:41},end:{line:15,column:95}}}))+'\n    </a>\n\n    <div class="alert alert-info one-child-only">\n        <div class="media">\n            <div class="media-left">\n                <i class="fa fa-info-circle"></i>\n            </div>\n            <div class="media-body">\n                '+s((c(n,"t")||t&&c(t,"t")||r).call(l,"console.authorization.policies.edit.canAcceptOneChild",{name:"t",hash:{},data:o,loc:{start:{line:24,column:16},end:{line:24,column:77}}}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})},1341:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,o){return'tabindex="0"'},3:function(e,t,n,a,o){var i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="item-button-panel">\n        <span tabindex="0" class="fa fa-times" data-toggle="popover" data-placement="top" data-trigger="hover"\n            data-content="'+e.escapeExpression((i(n,"t")||t&&i(t,"t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"console.authorization.policies.edit.deleteLogical",{name:"t",hash:{},data:o,loc:{start:{line:12,column:26},end:{line:12,column:83}}}))+'" data-delete-operator></span>\n    </span>\n'},5:function(e,t,n,a,o){var i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+s("function"==typeof(i=null!=(i=c(n,"title")||(null!=t?c(t,"title"):t))?i:r)?i.call(l,{name:"title",hash:{},data:o,loc:{start:{line:18,column:23},end:{line:18,column:32}}}):i)+'">'+s((c(n,"t")||t&&c(t,"t")||r).call(l,null!=t?c(t,"i18nKey"):t,{name:"t",hash:{},data:o,loc:{start:{line:18,column:34},end:{line:18,column:47}}}))+"</option>\n"},7:function(e,t,n,a,o){return'id="dropbox"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,l,r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},d='<li class="operator clearfix" id="operator'+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"itemID")||(null!=t?u(t,"itemID"):t))?l:c)?l.call(s,{name:"itemID",hash:{},data:o,loc:{start:{line:8,column:42},end:{line:8,column:52}}}):l)+'" '+(null!=(i=u(n,"unless").call(s,null!=t?u(t,"firstChild"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:54},end:{line:8,column:99}}}))?i:"")+">\n"+(null!=(i=u(n,"unless").call(s,null!=t?u(t,"firstChild"):t,{name:"unless",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:4},end:{line:14,column:15}}}))?i:"")+'\n    <select class="form-control">\n';return l=null!=(l=u(n,"operators")||(null!=t?u(t,"operators"):t))?l:c,r={name:"operators",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:17,column:8},end:{line:19,column:22}}},i="function"==typeof l?l.call(s,r):l,u(n,"operators")||(i=e.hooks.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'    </select>\n\n    <ol class="dropbox" '+(null!=(i=u(n,"if").call(s,null!=t?u(t,"firstChild"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:22,column:24},end:{line:22,column:61}}}))?i:"")+"> </ol>\n</li>\n"},useData:!0})},1463:function(e,t,n){"use strict";n(31);var a=n(122),o=n(1461),i=n(23),l=n(38),r=n(1453),s=new a.a("".concat(i.a.host).concat(i.a.context,"/json")),c=function(){var e=o.a.getCurrentRealm();return"/"===e?"":r.a.encodeRealm(e)};s.getApplicationType=function(e){return s.serviceCall({url:Object(l.a)("/applicationtypes/".concat(e),{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getDecisionCombiners=function(){return s.serviceCall({url:Object(l.a)("/decisioncombiners/?_queryId=&_fields=title",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getEnvironmentConditions=function(){return s.serviceCall({url:Object(l.a)("/conditiontypes?_queryId=&_fields=title,logical,config",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getSubjectConditions=function(){return s.serviceCall({url:Object(l.a)("/subjecttypes?_queryId=&_fields=title,logical,config",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getAllUserAttributes=function(){return s.serviceCall({url:Object(l.a)("/subjectattributes?_queryFilter=true",{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.queryIdentities=function(e,t){var n=encodeURIComponent('_id co "'.concat(t,'" or uid co "').concat(t,'" or cn co "').concat(t,'" or mail co "').concat(t,'"'));return s.serviceCall({url:Object(l.a)("/".concat(e,"?_queryFilter=").concat(n),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=4.1"}})},s.getUniversalId=function(e,t){return s.serviceCall({url:Object(l.a)("/".concat(t,"/").concat(e,"?_fields=universalid"),{realm:c()}),headers:{"Cache-Control":"no-cache","Accept-API-Version":"protocol=1.0,resource=2.0"}})},s.getDataByType=function(e){return s.serviceCall({url:Object(l.a)("/".concat(e,"?_queryFilter=true"),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getScriptById=function(e){return s.serviceCall({url:Object(l.a)("/scripts/".concat(e),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.getAllRealms=function(){return s.serviceCall({url:Object(l.a)("/realms?_queryFilter=true",{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},s.importPolicies=function(e){return s.serviceCall({serviceUrl:"".concat(i.a.host).concat(i.a.context),url:Object(l.a)("/xacml".concat(c(),"/policies"),{realm:!1}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:e})},s.listResourceTypes=function(){return s.serviceCall({url:Object(l.a)("/resourcetypes?_queryFilter=name+eq+".concat(encodeURIComponent('"^(?!Delegation Service$).*"')),{realm:c()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},t.a=s},1488:function(e,t,n){"use strict";n(63),n(144),n(779);var a=n(2),o=n.n(a),i=n(100),l=n.n(i),r=n(1445),s=n(1438);t.a=l.a.Model.extend({idAttribute:"name",urlRoot:s.a.substitute("__api__/applications"),defaults:function(){return{name:null,displayName:null,description:"",resourceTypeUuids:[],realm:""}},parse:function(e){return o.a.isEmpty(e.displayName)?this.displayName=e.name:this.displayName=e.displayName,e},validate:function(e){return""===e.name.trim()?"errorNoId":0===e.name.indexOf("#")?"errorCantStartWithHash":o.a.isEmpty(e.resourceTypeUuids)?"applicationErrorNoResourceTypes":void 0},sync:function(e,t,n){return(n=n||{}).beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")},n.error=r.a.errorHandler,null===t.id&&(e="create",n.url="".concat(this.urlRoot(),"/?_action=create")),l.a.Model.prototype.sync.call(this,e,t,n)}})},1518:function(e,t,n){"use strict";n(63),n(144),n(779);var a=n(100),o=n.n(a),i=n(1445),l=n(1438);t.a=o.a.Model.extend({idAttribute:"name",urlRoot:l.a.substitute("__api__/policies"),defaults:function(){return{name:null,description:"",resources:[],actionValues:{}}},validate:function(e){return""===e.name.trim()?"errorNoName":0===e.name.indexOf("#")?"errorCantStartWithHash":0===e.resources.length?"policyErrorNoResources":void 0},sync:function(e,t,n){return(n=n||{}).beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")},n.error=i.a.errorHandler,null===t.id&&(e="create",n.url="".concat(this.urlRoot(),"/?_action=create")),o.a.Model.prototype.sync.call(this,e,t,n)}})},1523:function(e,t,n){"use strict";n(143),n(33),n(50),n(27),n(34);var a=n(2),o=n.n(a),i=n(14),l=n.n(i),r=n(100),s=n.n(r),c=(n(31),n(115),n(124),n(779),n(1252)),u=n.n(c),d=n(1254),p=n.n(d),m=n(1255),h=n.n(m),f=n(402),y=function(e,t){var n=[];return o.a.each(t.properties,function(a,i){var l,r;n[a.propertyOrder]={data:e[i],required:!!o.a.includes(t.required,i)&&"required"},a.enum&&(n[a.propertyOrder].selectOptions=(l=a.enum,r=e[i],o.a.map(l,function(e){return{value:e,isSelected:e===r}})))}),n},b=function(e,t){var n={};return o.a.each(e.properties,function(e,a){var o="input";e.enum&&(o="select");var i=t.find("".concat(o,"[data-row-").concat(e.propertyOrder,"]")).val();n[a]=i?i.trim():i}),n},v=s.a.View.extend({events:{"click button[data-add-row]":"addRow","keyup [data-add-row]":"addRow","click button[data-save-row]":"saveRow","blur [data-save-row]":"stopEvent","keyup [data-save-row]":"saveRow","dblclick td":"editRow","keyup [data-edit-row]":"editRow","mouseup [data-edit-row]":"editRow","click [data-delete-row]":"deleteRow","click [data-undo-edit-row]":"exitEditMode"},tagName:"tr",initialize:function(e,t){this.rowData=e,this.rowSchema=t},renderTemplate:function(e){var t,n,a=e((t=this.rowData,n=this.rowSchema,{columns:y(t,n)}));this.$el.html(a),f.a.bindValidators(this.$el)},renderInReadOnlyMode:function(){return this.$el.removeClass("am-inline-edit-table-row"),this.renderTemplate(h.a),this},renderInEditMode:function(){return this.$el.addClass("am-inline-edit-table-row"),this.renderTemplate(u.a),this},renderInNewMode:function(){return this.$el.addClass("am-inline-edit-table-row"),this.renderTemplate(p.a),this},editRow:function(e){"keyup"===e.type&&13!==e.keyCode||this.trigger("edit",this)},deleteRow:function(){this.trigger("delete",this)},exitEditMode:function(){this.trigger("exitEditMode",this)},focus:function(){this.$el.find("input:first").focus()},addRow:function(e){if("keyup"!==e.type||13===e.keyCode){f.a.validateAllFields(this.$el);var t=b(this.rowSchema,this.$el);this.isDataValid(t,this.rowSchema)&&(this.rowData=t,this.trigger("add",this))}},saveRow:function(e){if("keyup"!==e.type||13===e.keyCode){f.a.validateAllFields(this.$el);var t=b(this.rowSchema,this.$el);this.isDataValid(t,this.rowSchema)&&(this.rowData=t,this.trigger("exitEditMode",this))}},isDataValid:function(e,t){return o.a.every(e,function(e,n){return void 0!==e&&e.length>0||!o.a.includes(t.required,n)})},getData:function(){return this.rowData}}),g=n(1253),k=n.n(g),x={required:["key"],properties:{key:{title:l.a.t("common.form.propertyName"),propertyOrder:0},value:{title:l.a.t("common.form.propertyValue"),propertyOrder:1}}};t.a=s.a.View.extend({template:k.a,initialize:function(e){var t=e.values,n=void 0===t?[]:t,a=e.rowSchema,o=void 0===a?x:a;this.values=n,this.rowSchema=o,this.rows=[]},getHeaders:function(){var e=[];return o.a.each(this.rowSchema.properties,function(t){e[t.propertyOrder]=t.title}),e},getRenderData:function(){return{headers:this.getHeaders()}},render:function(){var e=this;this.$el.empty();var t=this.template(this.getRenderData());return this.$el.html(t),this.tBody=this.$el.find("tbody"),o.a.each(this.values,function(t){var n=e.initRow(t);e.tBody.append(n.renderInReadOnlyMode().$el),e.rows.push(n)}),this.appendEmptyNewRowToTheBottom(),this},initRow:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new v(t,this.rowSchema);return n.on("edit",function(t){t!==e.currentlyEditedRow&&t!==e.newRow&&(e.currentlyEditedRow&&e.currentlyEditedRow.renderInReadOnlyMode(),t.renderInEditMode().focus(),e.currentlyEditedRow=t,e.newRow.$el.hide())}),n.on("exitEditMode",function(){e.currentlyEditedRow&&(e.currentlyEditedRow.renderInReadOnlyMode(),e.currentlyEditedRow=void 0),e.newRow.$el.show()}),n.on("delete",function(t){e.rows=o.a.without(e.rows,t),t.remove()}),n.on("add",function(t){e.rows.push(t),t.renderInReadOnlyMode(),e.appendEmptyNewRowToTheBottom()}),n},appendEmptyNewRowToTheBottom:function(){var e=this.initRow();this.tBody.append(e.renderInNewMode().$el),this.newRow=e},getData:function(){return o.a.map(this.rows,function(e){return e.getData()})},isValid:function(){return!0},setData:function(e){this.values=e,this.rows=[],this.render()}})},1629:function(e,t,n){(function(e,t){var n;!function(n){var a=function(){return function(e){void 0===e&&(e=30),this.space=e}}();n.AutosizeInputOptions=a;var o=function(){function t(n,a){var o=this;this._input=e(n),this._options=e.extend({},t.getDefaultOptions(),a),this._mirror=e('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),e.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(e,t){o._mirror[0].style[t]=o._input.css(t)}),e("body").append(this._mirror),this._input.on("keydown keyup input propertychange change",function(e){o.update()}),o.update()}return t.prototype.getOptions=function(){return this._options},t.prototype.update=function(){var e=this._input.val()||"";if(e!==this._mirror.text()){this._mirror.text(e);var t=this._mirror.width()+this._options.space;this._input.width(t)}},t.getDefaultOptions=function(){return this._defaultOptions},t.getInstanceKey=function(){return"autosizeInputInstance"},t._defaultOptions=new a,t}();n.AutosizeInput=o,function(e){var t=["text","password","search","url","tel","email","number"];e.fn.autosizeInput=function(a){return this.each(function(){if("INPUT"==this.tagName&&e.inArray(this.type,t)>-1){var o=e(this);o.data(n.AutosizeInput.getInstanceKey())||(null==a&&(a=o.data("autosize-input")),o.data(n.AutosizeInput.getInstanceKey(),new n.AutosizeInput(this,a)))}})},e(function(){e("input[data-autosize-input]").autosizeInput()})}(t)}(n||(n={}))}).call(this,n(14),n(14))},1693:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(17),n(143),n(115),n(33),n(50),n(144),n(21),n(22),n(18),n(27),n(67),n(62),n(124),n(35),n(19),n(34),n(271),n(1433),n(1411);var a=n(16),o=n(2),i=n.n(o),l=n(1),r=n.n(l),s=n(123),c=n(23),u=(n(63),n(114),n(1629),n(1544),n(14)),d=n.n(u),p=n(1320),m=n.n(p),h=n(52),f=n(1327),y=n.n(f),b=new(s.a.extend({element:"#editResources",template:m.a,noBaseTemplate:!0,events:{"click [data-add-resource]":"addResource","keyup [data-add-resource]":"addResource","keyup #resourceBuilder input":"addResource","click span[data-delete]":"deleteResource","keyup span[data-delete]":"deleteResource","click [data-remove-pending]":"removePendingResource","click [data-show-editing]":"showEditingResources"},render:function(e,t){var n=this;i.a.extend(this.data,e),this.data.entity.resources?this.data.entity.resources=i.a.sortBy(this.data.entity.resources):this.data.entity.resources=[];var a=this;this.parentRender(function(){n.$el.find(".selectize").selectize({sortField:{field:"text",direction:"asc"},onChange:function(e){a.data.options.newPattern=e;var t=y()(a.data),n=a.$el.find("#populateResource");n.html(t),n.find("input").autosizeInput({space:19}),n.find("input:eq(0)").focus().select()}}),delete a.data.options.justAdded,a.flashDomItem(a.$el.find(".text-success"),"text-success"),t&&t()})},validate:function(e){var t=!0;return i.a.find(e,function(e){!i.a.isFunction(e.checkValidity)||e.checkValidity()||(t=!1)}),t},addResource:function(e){if("keyup"!==e.type||13===e.keyCode){var t,n=this.$el.find("#resourceBuilder"),o=n.data().resource.replace("-*-","̂"),l=n.find("input"),r=o.length,s="",c=0;if(!1===this.validate(l))return h.a.addMessage({message:Object(a.b)("console.authorization.common.invalidItem"),type:h.a.TYPE_DANGER}),void this.flashDomItem(this.$el.find(".editing"),"text-danger");for(t=0;t<r;t++)"*"===o[t]?(s+=l[c].value,c++):"̂"===o[t]?(s+="̂"===l[c].value?"-*-":l[c].value,c++):s+=o[t];var u=i.a.indexOf(this.data.entity.resources,s);u>=0?(h.a.addMessage({message:Object(a.b)("console.authorization.common.duplicateItem"),type:h.a.TYPE_DANGER}),this.flashDomItem(this.$el.find("#createdResources ul li:eq(".concat(u,")")),"text-danger")):(this.data.entity.resources.push(s),this.data.options.justAdded=s,this.render(this.data))}},removePendingResource:function(e){"keyup"===e.type&&13!==e.keyCode||(this.data.options.newPattern=null,this.render(this.data))},deleteResource:function(e){if("keyup"!==e.type||13===e.keyCode){var t=d()(e.currentTarget).parent().data().resource;this.data.entity.resources=i.a.without(this.data.entity.resources,t),this.render(this.data)}},showEditingResources:function(){this.$el.find("[data-show-editing]").prop("disabled",!0),this.$el.find("li.editing").removeClass("hidden")},flashDomItem:function(e,t){e.addClass(t),d.a.doTimeout(i.a.uniqueId(t),2e3,function(){e.removeClass(t)})}})),v=n(1329),g=n.n(v),k=new(s.a.extend({element:"#customAttrs",template:g.a,noBaseTemplate:!0,render:function(e,t){this.data.customAttributes=e,this.parentRender(function(){t&&t()})},getAttrs:function(){return this.data.customAttributes}})),x=n(1321),O=n.n(x),w=n(43),E=n(1429),C=(n(31),n(163),n(1507),n(392),n(1331)),P=n.n(C),j=s.a.extend({noBaseTemplate:!0,data:{},events:{"change select:not(.type-selection):not(.selectize)":"changeInput","change input":"changeInput","keyup  input":"changeInput","dp.change input":"changeInput"},initBasic:function(e,t,n){var a=d()('<div class="condition-attr form-inline '.concat(n,'"></div>'));t.append(a),this.data=e,this.element=t.find(a)},changeInput:function(e){e.stopPropagation();var t=d()(e.currentTarget);if(t.parent().children("label").length){var n=t.parent().children("label").data().title;this.data.itemData[n]=e.currentTarget.value,this.populateInputGroup(t),this.populateAutoFillGroup(t),this.attrSpecificChangeInput&&this.attrSpecificChangeInput(e)}},populateInputGroup:function(e){var t=e.closest(".attr-group").find(":input"),n=i.a.find(t,function(e){return""!==e.value});t.each(function(){d()(this).prop("required",!!n)})},populateAutoFillGroup:function(e){var t,n,a,o,i,l=e.closest("li").find("div.auto-fill-group"),r=l.eq(0),s=l.eq(1);r.length&&s.length&&(t=r.find("input").val(),n=r.find("label").data().title,a=s.find("input").val(),o=s.find("label").data().title,i=this.data.itemData),""!==t&&""===a?i[o]=i[n]:""===t&&""!==a?i[n]=i[o]:""===t&&""===a&&(delete i[n],delete i[o])}}),T=n(1463),D=["users","groups"],A=["AuthenticateToServiceConditionAdvice","AuthenticateToRealmConditionAdvice","AuthenticateToTreeConditionAdvice","AuthSchemeConditionAdvice","AuthLevelConditionAdvice"],R=j.extend({template:P.a,render:function(e,t,n){"authenticationStrategy"===e.title&&(e.multiple=!1),void 0===e.multiple&&(e.multiple=!0),this.initBasic(e,t,"field-float-selectize data-obj"),this.parentRender(function(){var e,t,a,o,l=this,r="",s="";this.$el.find("select.selectize").each(function(){t=this,a=d()(this),o=a.parent().find("label").data().title,e={},a.data().source?"scriptId"===o?i.a.extend(e,{placeholder:d.a.t("console.authorization.policies.edit.conditionTypes.Script.placeholder"),preload:!0,sortField:"value",load:function(e,n){l.loadFromDataSource.call(this,t,n)},onChange:function(e){r=this.$input.parent().find("label").data().title,s=this.$input.find(":selected").text(),l.data.itemData[r]=e||"",l.data.hiddenData[l.data.itemData.type]=s||""}}):"enforcementTimeZone"===o?i.a.extend(e,{placeholder:d.a.t("console.authorization.policies.edit.conditionTypes.SimpleTime.props.enterTimeZone"),preload:!0,sortField:"value",render:{item:function(e){return"<span class='time-zone-selected'>".concat(e.text,"</span>")}},load:function(){var e=this;d.a.ajax({url:"timezones.json",dataType:"json",cache:!0}).then(function(t){i.a.each(t.timezones,function(t){e.addOption({value:t,text:t})})})},onChange:function(e){l.data.itemData.enforcementTimeZone=e||"GMT"}}):i.a.includes(D,o)&&i.a.extend(e,{placeholder:d.a.t("console.authorization.policies.edit.subjectTypes.Identity.placeholder"),sortField:"value",load:function(e,n){if(e.length<1)return n();l.queryIdentities.call(this,t,e,n)},onItemAdd:function(e){l.getUniversalId(e,o)},onItemRemove:function(e){var t=i.a.findKey(l.data.hiddenData[o],function(t){return t===e});l.data.itemData.subjectValues=i.a.without(l.data.itemData.subjectValues,t),delete l.data.hiddenData[o][t]}}):"authenticationStrategy"===o?i.a.extend(e,{placeholder:d.a.t("common.form.select"),valueField:"value",labelField:"label",options:i.a.map(A,function(e){return{value:e,label:d.a.t("".concat("console.authorization.policies.edit.conditionTypes.Transaction.props.").concat(e))}}),items:[l.data.itemData.authenticationStrategy],create:!1,onChange:function(e){r=this.$input.parent().find("label").data().title,l.data.itemData[r]=e||""}}):(i.a.extend(e,{delimiter:!1,persist:!1,create:function(e){return{value:e,text:e}},onChange:function(e){r=this.$input.parent().find("label").data().title,l.data.itemData[r]=e||[]}}),"dnsName"===a.prev("label").data("title")&&(e.createFilter=function(e){return-1===e.indexOf("*")||0===e.lastIndexOf("*")})),i.a.extend(e,{plugins:["restore_on_backspace"]}),a.selectize(e)}),n&&n()})},queryIdentities:function(e,t,n){var a=this;T.a.queryIdentities(d()(e).data().source,t).then(function(e){i.a.each(e.result,function(e){a.addOption({value:e._id?e._id:e.username,text:e.username})}),n(e.result)},function(e){console.error("error",e),n()})},getUniversalId:function(e,t){var n=this;T.a.getUniversalId(e,t).then(function(a){n.data.itemData.subjectValues=i.a.union(n.data.itemData.subjectValues,a.universalid),n.data.hiddenData[t][a.universalid[0]]=e})},loadFromDataSource:function(e,t){var n=this;T.a.getDataByType(d()(e).data().source).then(function(e){i.a.each(e.result,function(e){n.addOption({value:e._id,text:e.name})}),t(e.result)},function(e){console.error("error",e),t()})}}),S=n(1332),I=n.n(S),N=j.extend({template:I.a,render:function(e,t,n){this.initBasic(e,t,"field-float-pattern data-obj button-field"),this.events["click [data-btn]"]=i.a.bind(this.buttonControlClick,this),this.events["keyup [data-btn]"]=i.a.bind(this.buttonControlClick,this),this.parentRender(function(){n&&n()})},buttonControlClick:function(e){if("keyup"!==e.type||13===e.keyCode){var t=d()(e.currentTarget),n=t.parent(".btn-group");if(!n.hasClass("active")){var a=n.parent(".btn-group"),o=a.prev("label").data().title,i=a.find(".btn-group.active");this.data.itemData[o]=t.data("val"),i.removeClass("active"),n.addClass("active")}}}}),$=(n(1630),n(1333)),_=n.n($),z=j.extend({template:_.a,render:function(e,t,n){this.initBasic(e,t,"pull-left attr-group"),this.parentRender(function(){this.initDatePickers(),n&&n()})},initDatePickers:function(){var e={format:"YYYY:MM:DD",useCurrent:!1,icons:{previous:"fa fa-chevron-left",next:"fa fa-chevron-right"}},t=this.$el.find("#startDate"),n=this.$el.find("#endDate");t.datetimepicker(e),n.datetimepicker(e),t.on("dp.change",function(e){n.data("DateTimePicker").minDate(e.date)}),n.on("dp.change",function(e){t.data("DateTimePicker").maxDate(e.date)})}}),M=n(1334),q=n.n(M),V=j.extend({template:q.a,i18n:{weekdays:{key:"console.authorization.common.weekdays.",full:".full",short:".short"}},days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],render:function(e,t,n){this.initBasic(e,t,"pull-left attr-group"),this.data.weekdays=this.getWeekDays(),this.parentRender(function(){n&&n()})},getWeekDays:function(){var e=[],t=this,n=0;return i.a.invokeMap(t.days,function(){e[n]={},e[n].title=d.a.t(t.i18n.weekdays.key+this+t.i18n.weekdays.full),e[n].value=d.a.t(t.i18n.weekdays.key+this+t.i18n.weekdays.short),n++}),e}}),U=n(1338),F=n.n(U),B=n(1258),H=n.n(B),L=(n(82),n(1335)),K=n.n(L),Y=j.extend({template:K.a,render:function(e,t,n){this.initBasic(e,t,"field-float-selectize data-obj"),this.parentRender(function(){this.initSelectize(),n&&n()})},initSelectize:function(){var e,t,n,a,o,l,r=this,s="";this.$el.find("select.selectize").each(function(){l=d()(this),t={persist:!1,delimiter:";",onItemRemove:function(t){s=this.$input.parent().find("label").data().title,e=r.data.itemData,n=t.split(":"),delete e[s][n[0]]},onItemAdd:function(t){s=this.$input.parent().find("label").data().title,e=r.data.itemData,n=t.split(":"),a=n[0],o=n[1],e[s][a]||(e[s][a]=[]),e[s][a]=i.a.union(i.a.compact(o.split(",")),e[s][a])},create:function(e){return{value:e,text:e}},onChange:function(){s=this.$input.parent().find("label").data().title,e=r.data.itemData},createFilter:function(e){return/^\w+:(?:\w+,?)+$/.test(e)}},i.a.extend(t,{plugins:["restore_on_backspace"]}),l.selectize(t)})}}),G=n(1336),J=n.n(G),W=n(264),Z=j.extend({template:J.a,render:function(e,t,n){var a="";"startIp"===e.title||"endIp"===e.title?("IPv4"===e.schema.title?e.pattern=W.a.IPV4_PATTERN:"IPv6"===e.schema.title&&(e.pattern=W.a.IPV6_PATTERN),a="auto-fill-group"):e.value&&"number"===e.value.type?e.pattern=W.a.NUMBER_PATTERN:e.value&&"integer"===e.value.type?e.pattern=W.a.INTEGER_PATTERN:e.pattern=null,this.initBasic(e,t,"field-float-pattern data-obj ".concat(a)),this.parentRender(function(){n&&n()})},attrSpecificChangeInput:function(){if("authenticateToRealm"===this.data.title){var e=this.data.itemData;0!==e.authenticateToRealm.indexOf("/")&&(e.authenticateToRealm="/".concat(e.authenticateToRealm))}}}),Q=(n(1631),n(1337)),X=n.n(Q),ee=j.extend({template:X.a,clickClockPicker:function(e){e.stopPropagation(),d()(e.currentTarget).prev("input").clockpicker("show")},render:function(e,t,n){this.initBasic(e,t,"pull-left attr-group"),this.events["click [data-clock]"]=i.a.bind(this.clickClockPicker,this),this.parentRender(function(){this.initClockPickers(),n&&n()})},initClockPickers:function(){this.$el.find(".clockpicker").each(function(){var e=d()(this);e.clockpicker({placement:"top",autoclose:!0,afterDone:function(){e.trigger("change")}})})}}),te=s.a.extend({template:F.a,events:{"change [data-type-selection]":"changeType"},data:{},i18n:{condition:{key:"console.authorization.policies.edit.conditionTypes.",title:".title",props:".props."}},SCRIPT_RESOURCE:"Script",render:function(e,t,n,a,o){var l=this,r={};this.setElement(t),this.data=d.a.extend(!0,[],e),this.data.itemID=n,i.a.each(this.data.conditions,function(e){e.i18nKey=d.a.t(l.i18n.condition.key+e.title+l.i18n.condition.title)}),this.data.conditions=i.a.sortBy(this.data.conditions,"i18nKey");var s=this.template(this.data);l.$el.append(s),l.setElement("#environment_".concat(n)),a&&(delete a.name,a.type===l.SCRIPT_RESOURCE&&(r[a.type]=a.scriptId,l.$el.data("hiddenData",r)),l.$el.data("itemData",a),l.$el.find("select.type-selection:first").val(a.type).trigger("change")),l.$el.find("select.type-selection:first").focus(),l.$el.find(".info-button").hide(),o&&o()},createListItem:function(e,t){var n,a=this,o=null,l=t.data().itemData,r=t.data().hiddenData,s=i.a.merge({},l,r);t.focus(),this.data.conditions=e,s&&s.type?(n=s.type,o={},n===a.SCRIPT_RESOURCE?(o["console.common.type"]=d.a.t(a.i18n.condition.key+n+a.i18n.condition.title),T.a.getScriptById(s.scriptId).then(function(e){o["".concat(a.i18n.condition.key).concat(n).concat(a.i18n.condition.props,"scriptId")]=e.name,a.setListItemHtml(t,o)})):(i.a.each(s,function(e,t){"type"===t?o["console.common.type"]=d.a.t("".concat(a.i18n.condition.key).concat(n).concat(a.i18n.condition.title)):o["".concat(a.i18n.condition.key).concat(n).concat(a.i18n.condition.props).concat(t)]="authenticationStrategy"===t?d.a.t("".concat(a.i18n.condition.key).concat(n).concat(a.i18n.condition.props).concat(e)):e}),this.setListItemHtml(t,o))):this.setListItemHtml(t,o)},setListItemHtml:function(e,t){var n=H()({data:t});e.find(".item-data").html(n),this.setElement("#".concat(e.attr("id")))},changeType:function(e){e.stopPropagation();var t,n=this,a={},o={},l=e.target.value,r=i.a.find(this.data.conditions,{title:l})||{},s=n.$el.find(".field-float-pattern").length>0?500:0;this.$el.data().itemData&&this.$el.data().itemData.type===l?(a=this.$el.data().itemData,o=this.$el.data().hiddenData):(a=n.setDefaultJsonValues(r),n.$el.data("itemData",a),n.$el.data("hiddenData",o)),a&&(n.animateOut(),t=this.getHelperText(r),setTimeout(function(){n.$el.find(".no-float").remove(),n.$el.find(".clear-left").remove(),i.a.isEmpty(t)?n.$el.find(".info-button").hide():n.$el.find(".info-button").show().attr("data-title",t.title.toString()).attr("data-content",t.content.toString()).popover(),n.$el.parents("#dropbox").length&&!n.$el.hasClass("editing")||n.buildHTML(a,o,r).then(function(){n.animateIn()})},s))},getHelperText:function(e){var t={};switch(e.title){case"IPv4":case"IPv6":t.title=a.a.t("console.authorization.policies.edit.conditionTypes.ipHelperTitle"),t.content=a.a.t("console.authorization.policies.edit.conditionTypes.ipHelperContent");break;case"SimpleTime":t.title=a.a.t("console.authorization.policies.edit.conditionTypes.SimpleTime.helperTitle"),t.content=a.a.t("console.authorization.policies.edit.conditionTypes.SimpleTime.helperContent")}return t},buildHTML:function(e,t,n){var a,o,l=this,r=this.$el.find(".item-data"),s=n.config.properties,c=d.a.Deferred();function u(){(new R).render({itemData:e,hiddenData:t,data:[t[e.type]],title:"scriptId",dataSource:"scripts",multiple:!1,i18nKey:"".concat(l.i18n.condition.key).concat(n.title).concat(l.i18n.condition.props,"scriptId")},r,c.resolve)}return"SimpleTime"===e.type?(o='<div class="clearfix clear-left" id="conditionAttrTimeDate"></div>',(new ee).render({itemData:e},r),(new V).render({itemData:e},r),(new z).render({itemData:e},r),e.enforcementTimeZone||(e.enforcementTimeZone="GMT"),(new R).render({itemData:e,data:[e.enforcementTimeZone],title:"enforcementTimeZone",i18nKey:"".concat(l.i18n.condition.key).concat(n.title).concat(l.i18n.condition.props,"enforcementTimeZone"),dataSource:"enforcementTimeZone",multiple:!1},r),c.resolve()):n.title===l.SCRIPT_RESOURCE?(o='<div class="no-float"></div>',e&&e.scriptId?T.a.getScriptById(e.scriptId).then(function(n){t[e.type]=n.name,u()}):u()):(o='<div class="no-float"></div>',i.a.has(s,"authenticationStrategy.type")&&(s.authenticationStrategy.type="array"),i.a.map(s,function(t,o){switch(a=l.i18n.condition.key+n.title+l.i18n.condition.props+o,t.type){case"string":case"number":case"integer":(new Z).render({itemData:e,data:e[o],title:o,i18nKey:a,schema:n,value:t},r);break;case"boolean":(new N).render({itemData:e,data:t,title:o,i18nKey:a,selected:e[o]},r);break;case"array":(new R).render({itemData:e,data:e[o],title:o,i18nKey:a},r);break;case"object":(new Y).render({itemData:e,data:e[o],title:o,i18nKey:a},r)}}),c.resolve()),c.then(function(){l.$el.find(".condition-attr").wrapAll(o)}),c},setDefaultJsonValues:function(e){var t={type:e.title};return i.a.map(e.config.properties,function(e,n){switch(e.type){case"string":"authenticateToRealm"===n?t[n]="/":"startIp"!==n&&"endIp"!==n&&(t[n]="");break;case"number":case"integer":t[n]=0;break;case"boolean":t[n]=!1;break;case"array":t[n]=[];break;case"object":t[n]={};break;default:console.error("Unexpected data type:",n,e)}}),t},animateOut:function(){this.$el.find(".no-float").fadeOut(500),this.$el.find(".clear-left").fadeOut(500),this.$el.find(".field-float-pattern, .field-float-selectize, .timezone-field").find("label").removeClass("showLabel").next("input").addClass("placeholderText"),this.$el.find(".field-float-select select:not(.type-selection)").addClass("placeholderText").prev("label").removeClass("showLabel"),this.$el.removeClass("invalid-rule")},animateIn:function(){var e=this;setTimeout(function(){e.$el.find(".field-float-pattern, .field-float-selectize, .timezone-field").find("label").addClass("showLabel").next("input, div input").removeClass("placeholderText").prop("readonly",!1),e.$el.find(".field-float-select select:not(.type-selection)").removeClass("placeholderText").prop("readonly",!1).prev("label").addClass("showLabel")},10)}}),ne=n(1339),ae=n.n(ne),oe=s.a.extend({template:ae.a,events:{"change [data-type-selection]":"changeType"},data:{},subjectI18n:{key:"console.authorization.policies.edit.subjectTypes.",title:".title",props:".props."},IDENTITY_RESOURCE:"Identity",render:function(e,t,n,a,o){var l=this;this.setElement(t),this.data=d.a.extend(!0,[],e),this.data.itemID=n,i.a.each(this.data.subjects,function(e){e.i18nKey=d.a.t(l.subjectI18n.key+e.title+l.subjectI18n.title)}),this.data.subjects=i.a.sortBy(this.data.subjects,"i18nKey");var r=this.template(this.data);l.$el.append(r),l.setElement("#subject_".concat(n)),a&&(a.type===l.IDENTITY_RESOURCE&&l.$el.data("hiddenData",l.getUIDsFromUniversalValues(a.subjectValues)),l.$el.data("itemData",a),l.$el.find("select.type-selection:first").val(a.type).trigger("change")),l.$el.find("select.type-selection:first").focus(),o&&o()},createListItem:function(e,t){var n,a,o=this,l=null,r=t.data().itemData,s=t.data().hiddenData,c=i.a.merge({},r,s);t.focus(),this.data.subjects=e,c&&c.type&&(n=c.type,l={},i.a.each(c,function(e,t){"type"===t?l["console.common.type"]=d.a.t(o.subjectI18n.key+n+o.subjectI18n.title):n===o.IDENTITY_RESOURCE?"subjectValues"!==t&&(a="",i.a.forOwn(e,function(e){a+="".concat(e," ")}),l[o.subjectI18n.key+n+o.subjectI18n.props+t]=a):l[o.subjectI18n.key+n+o.subjectI18n.props+t]=e}));var u=H()({data:l});t.find(".item-data").html(u),o.setElement("#".concat(t.attr("id")))},changeType:function(e){e.stopPropagation();var t,n=this,a={},o=e.target.value,l=i.a.find(this.data.subjects,{title:o})||{},r=n.$el.find(".field-float-pattern").length>0?500:0;this.$el.data().itemData&&this.$el.data().itemData.type===o?(a=this.$el.data().itemData,t=this.$el.data().hiddenData):(a=n.setDefaultJsonValues(l),n.$el.data("itemData",a),t=a.type===n.IDENTITY_RESOURCE?{users:{},groups:{}}:{},n.$el.data("hiddenData",t)),a&&(n.animateOut(),setTimeout(function(){n.$el.find(".no-float").remove(),n.$el.find(".clear-left").remove(),n.$el.parents("#dropbox").length&&!n.$el.hasClass("editing")||n.buildHTML(a,t,l).then(function(){n.animateIn()})},r))},buildHTML:function(e,t,n){var a,o=this,l=this.$el.find(".item-data"),r=n.config.properties,s=d.a.Deferred();return n.title===o.IDENTITY_RESOURCE?i.a.each(["users","groups"],function(a){(new R).render({itemData:e,hiddenData:t,data:t[a],title:a,i18nKey:o.subjectI18n.key+n.title+o.subjectI18n.props+a,dataSource:a},l,s.resolve)}):(i.a.map(r,function(i,r){switch(a=o.subjectI18n.key+n.title+o.subjectI18n.props+r,i.type){case"string":(new Z).render({itemData:e,hiddenData:t,data:e[r],title:r,i18nKey:a},l);break;case"array":(new R).render({itemData:e,hiddenData:t,data:e[r],title:r,i18nKey:a},l)}}),s.resolve()),s.then(function(){o.$el.find(".condition-attr").wrapAll("<div class='no-float'></div>")}),s},setDefaultJsonValues:function(e){var t={type:e.title};return i.a.map(e.config.properties,function(e,n){switch(e.type){case"string":t[n]="";break;case"array":t[n]=[];break;default:console.error("Unexpected data type:",n,e)}}),t},animateOut:function(){this.$el.find(".no-float").fadeOut(500),this.$el.find(".clear-left").fadeOut(500),this.$el.find(".field-float-pattern, .field-float-selectize").find("label").removeClass("showLabel").next("input, div input").addClass("placeholderText").prop("readonly",!0),this.$el.removeClass("invalid-rule")},animateIn:function(){var e=this;setTimeout(function(){e.$el.find(".field-float-pattern, .field-float-selectize").find("label").addClass("showLabel").next("input, div input").removeClass("placeholderText").prop("readonly",!1)},10)},getUIDsFromUniversalValues:function(e){var t={users:{},groups:{}},n=-1,a=String("id=").length;return i.a.each(e,function(e){n=e.indexOf(",ou="),e.indexOf(",ou=user")>-1?t.users[e]=e.substring(a,n):e.indexOf(",ou=group")>-1&&(t.groups[e]=e.substring(a,n))}),t}}),ie=s.a.extend({data:{},mode:"append",render:function(e,t,n,a){this.setElement(n),this.data.itemID=a,this.data.itemData=e,this.setElement("#legacy_".concat(a)),this.delegateEvents(),this.$el.data("itemData",e),t&&t()}}),le=n(1340),re=n.n(le),se=n(1341),ce=n.n(se),ue=s.a.extend({template:ce.a,noBaseTemplate:!0,events:{"change    > select":"onSelect","onfocus   select":"checkOptions","mousedown select":"checkOptions"},data:{},mode:"append",select:null,dropbox:null,operatorI18nKey:"console.authorization.policies.edit.operators.",render:function(e,t,n,a,o){var l=this;this.data=d.a.extend(!0,{},e),this.data.itemID=n,this.data.firstChild=a,i.a.each(this.data.operators,function(e){e.i18nKey=l.operatorI18nKey+e.title}),this.setElement(t);var r=this.template(this.data);l.$el.append(r),l.setElement("#operator".concat(n)),l.select=l.$el.find("select"),l.delegateEvents(),l.select.focus().trigger("change"),l.$el.data("logical",!0),l.dropbox=l.$el.find(".dropbox"),l.$el.find('.fa[data-toggle="popover"]').popover(),o&&o()},setValue:function(e){this.select.focus().val(e).trigger("change")},rebindElement:function(){this.delegateEvents()},onSelect:function(e){var t=d()(e.currentTarget).parent(),n=e.currentTarget.value,a={},o=i.a.find(this.data.operators,function(e){return e.title===n});a.type=o.title,i.a.map(o.config.properties,function(e,t){a[t]=e}),t.data("itemData",a),i.a.each(this.data.operators,function(e){t.removeClass(e.title.toLowerCase())}),t.addClass(n.toLowerCase())},checkOptions:function(e){var t=d()(e.target).parent().children("ol.dropbox"),n=t.parent().children("select"),a=null;t.children(":not(.dragged)").length>1?i.a.each(this.data.operators,function(e){a=n.find('option[value="'.concat(e.title,'"]'));var t=!(!e.config.properties.condition&&!e.config.properties.subject);a.prop("disabled",t)}):n.children().prop("disabled",!1)}}),de=s.a.extend({template:re.a,noBaseTemplate:!0,events:{"click  [data-add-condition]:not(.disabled)":"addCondition","keyup  [data-add-condition]:not(.disabled)":"addCondition","click  [data-add-operator]:not(.disabled)":"addOperator","keyup  [data-add-operator]:not(.disabled)":"addOperator","click  [data-delete-operator]":"onDelete","keyup  [data-delete-operator]":"onDelete"},types:{ENVIRONMENT:"environmentType",SUBJECT:"subjectType",LEGACY:"Policy"},localEntity:{},groupCounter:0,idPrefix:"",property:"",properties:"",init:function(e,t){i.a.extend(this.events,t),i.a.extend(c.a,this.types),this.localEntity=null,this.sortingInitialised=!1,this.data.entity[this.property]&&(this.localEntity=this.data.entity[this.property])},buildList:function(){var e=this,t=null,n=i.a.map(this.data.operators,"title"),a=null;this.localEntity&&!1!==i.a.includes(n,this.localEntity.type)||(a=i.a.clone(this.localEntity),this.localEntity={type:"AND"},this.localEntity[this.properties]=[a]),function o(l,r){!1===i.a.isArray(l)&&(l=[l]),i.a.each(l,function(l){l&&i.a.includes(n,l.type)?((t=new ue).render(e.data,r,e.idPrefix+e.idCount,0===e.idCount),t.setValue(l.type),e.idCount++):i.a.isEmpty(l)||(l.type===c.a.LEGACY?(t=new ie).render(l,r,e.idCount):(t=e.getNewRule(),a=e.getProperties(),t.render(a,r,e.idCount,l),t.createListItem(a,t.$el)),e.idCount++),l&&l[e.properties]?o(l[e.properties],t.dropbox):l&&l[e.property]&&o(l[e.property],t.dropbox)})}(this.localEntity,this.$el.find("ol#dropOffArea")),this.delegateEvents()},initSorting:function(){var e=this;this.groupCounter++,this.$el.find("ol#dropbox").sortable({group:"".concat(e.element,"rule-creation-group").concat(e.groupCounter),exclude:".item-button-panel, li.editing",delay:100,onMousedown:function(e,t,n){if(n.stopPropagation(),!n.target.nodeName.match(/^(input|select|textarea)$/i))return n.preventDefault(),!0},onDragStart:function(t,n){var a=t.offset(),o=n.rootGroup.pointer;e.adjustment={left:o.left-a.left+5,top:o.top-a.top},e.setInactive(e.buttons.addCondition,!1),e.setInactive(e.buttons.addOperator,!1),t.focus(),t.css({width:t.width()}).addClass("dragged"),d()("body").addClass("dragging"),!n.options.drop&&t.hasClass("rule")&&d.a.extend(!1,t,e.getNewRule()).createListItem(e.getProperties(),t)},onDrag:function(t,n){t.css({left:n.left-e.adjustment.left,top:n.top-e.adjustment.top})},onDrop:function(t,n,a){var o=d()("<li/>").css({height:0,backgroundColor:"transparent",borderColor:"transparent"});t.before(o);var i=t.height(),l=o.position();l.width=o.outerWidth()-10,t.addClass("dropped"),o.animate({height:i},300,"linear"),t.animate(l,300,function(){o.detach(),t.removeClass("dropped"),!0===t.data().logical&&d.a.extend(!1,t,new ue).rebindElement(),t.focus(),a(t,n),e.save()}),d()("body").removeClass("dragging"),e.delegateEvents()},isValidTarget:function(t,n){return!(n.items.length>0&&n.target.parent().data().itemData&&n.target.parent().data().itemData[e.property]||t.hasClass("editing-disabled"))},serialize:function(t,n,a){var o=d.a.extend({},t.data().itemData);return a?n:(n[0]&&(o[e.properties]?o[e.properties]=n:o[e.property]&&(o[e.property]=n[0])),delete o.subContainers,delete o.sortable,o)}}),this.sortingInitialised=!0},editStart:function(e){d()("body").addClass("editing");var t=this.getNewRule(),n=this.getProperties();t.render(n,e.parent(),this.idCount,e.data().itemData),this.idCount++,t.$el.addClass("editing"),e.before(t.$el),this.setInactive(this.buttons.addCondition,!0),this.setInactive(this.buttons.addOperator,!0);var a=this.$el.find(".rule, .operator").not(".editing");a.addClass("editing-disabled"),a.find("> select").prop("disabled",!0),t.$el.find("select.type-selection:first").focus()},editStop:function(e){d()("body").removeClass("editing");var t=d.a.extend(!1,e,this.getNewRule()),n=this.getProperties();t.createListItem(n,e),e.next().remove(),this.save();var a=this.$el.find(".rule, .operator").not(".editing");a.removeClass("editing-disabled"),a.find("> select").prop("disabled",!1)},setInactive:function(e,t){e.toggleClass("disabled",t)},addOperator:function(e){(e.preventDefault(),"keyup"!==e.type||13===e.keyCode)&&((new ue).render(this.data,this.droppableParent,this.idPrefix+this.idCount),this.idCount++)},addCondition:function(e){if(e.preventDefault(),"keyup"!==e.type||13===e.keyCode){var t=this.getNewRule(),n=this;t.render(this.getProperties(),this.droppableParent,this.idCount,null,function(){n.idCount++,n.editStart(t.$el),n.$el.find("ol#dropbox").sortable("refresh")})}},onSelect:function(e){e.stopPropagation(),this.save()},onDelete:function(e){if(e.stopPropagation(),"keyup"!==e.type||13===e.keyCode){var t,n=this,a=d()(e.currentTarget).closest("li");a.animate({height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0,opacity:0},function(){d()("body").hasClass("editing")&&(d()("body").removeClass("editing"),a.next().remove(),(t=n.$el.find(".rule, .operator").not(".editing")).removeClass("editing-disabled"),t.find("> select").prop("disabled",!1)),a.remove(),n.save()})}},toggleEditing:function(e){if("keyup"!==e.type||13===e.keyCode){var t=d()(e.currentTarget).closest("li");t.hasClass("editing-disabled")||(t.hasClass("editing")?(t.removeClass("editing"),this.editStop(t)):this.editStart(t))}},setFocus:function(e){e.stopPropagation();var t=d()(e.target).is("select")||d()(e.target).is("input")?e.target:e.currentTarget;d()(t).focus()},getNewRule:function(){return this.conditionType===c.a.ENVIRONMENT?new te:new oe},getProperties:function(){var e={};return e[this.properties]=this.data[this.properties],e},save:function(){if(!0===this.sortingInitialised){var e=this.$el.find("ol#dropbox").sortable("serialize").get(),t=this.$el.find("#operator".concat(this.idPrefix,"0")).data().itemData;t[this.properties]?e.length<=1?this.data.entity[this.property]=i.a.isEmpty(e[0])?null:e[0]:(t[this.properties]=e,this.data.entity[this.property]=t):t[this.property]?e[0]&&!i.a.isEmpty(e[0])?(this.data.entity[this.property]=t,this.data.entity[this.property][this.property]=e[0]):this.data.entity[this.property]=null:null===t[this.property]?this.data.entity[this.property]=null:console.error("This should never be triggered",this.property,t),console.log("\n".concat(this.property,":"),JSON.stringify(this.data.entity[this.property],null,2)),this.identifyDroppableLogical()}},identifyDroppableLogical:function(){var e,t,n,a,o,i,l,r=this.$el.find("#operator".concat(this.idPrefix,"0")),s=0;if(this.droppableParent=null,r.hasClass("not"))if(n=(t=(e=r.find("li")).filter(".operator").get()).length,a=e.filter(".rule").get(),n){for(;s<n;s++)if(i=(o=d()(t[s])).hasClass("and")||o.hasClass("or"),l=o.hasClass("not")&&0===o.children(".dropbox").children("li").length,i||l){this.droppableParent=o.children(".dropbox");break}}else 0===a.length&&(this.droppableParent=r.children(".dropbox"));else this.droppableParent=r.children(".dropbox");this.droppableParent?(this.setInactive(this.buttons.addCondition,!1),this.setInactive(this.buttons.addOperator,!1),this.$el.find(".one-child-only:first").hide()):(this.setInactive(this.buttons.addCondition,!0),this.setInactive(this.buttons.addOperator,!0),this.$el.find(".one-child-only:first").show())}}),pe=new(de.extend({element:"#environmentContainer",envEvents:{"change .environment-area .operator > select":"onSelect","mousedown #operatorEnv_0 li.rule:not(.editing)":"setFocus","mousedown #operatorEnv_0 li.operator:not(.editing)":"setFocus","click    #operatorEnv_0 .rule > .item-button-panel > .fa-times":"onDelete","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-times":"onDelete","click    #operatorEnv_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","click    #operatorEnv_0 .rule > .item-button-panel > .fa-check":"toggleEditing","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-check":"toggleEditing","dblclick #operatorEnv_0 li.rule:not(.legacy-condition)":"toggleEditing"},data:{},buttons:{},idCount:0,typeAND:{title:"AND",logical:!0,config:{properties:{conditions:{type:"array",items:{type:"any"}}}}},render:function(e,t){this.idPrefix="Env_",this.property="condition",this.properties="conditions",this.data.conditionName=d.a.t("console.authorization.policies.edit.addEnvironmentCondition"),this.data.entity=e.entity,this.data.options=e.options,this.data.conditions=[],this.data.operators=[];var n=this;i.a.each(this.data.options.availableEnvironments,function(e){!0===e.logical?n.data.operators.push(e):n.data.conditions.push(e),delete e.config.type}),i.a.find(this.data.operators,{title:"AND"})||this.data.operators.push(this.typeAND),this.init(e,this.envEvents),this.conditionType=c.a.ENVIRONMENT,this.setElement(this.element),this.idCount=0,this.parentRender(function(){this.buttons.addCondition=this.$el.find("a#addCondition"),this.buttons.addOperator=this.$el.find("a#addOperator"),0===n.data.operators.length&&this.buttons.addOperator.hide(),this.buildList(),this.initSorting(),this.identifyDroppableLogical(),t&&t()})}})),me=new(de.extend({element:"#subjectContainer",subEvents:{"change .subject-area .operator > select":"onSelect","mousedown #operatorSub_0 li.rule:not(.editing)":"setFocus","mousedown #operatorSub_0 li.operator:not(.editing)":"setFocus","click    #operatorSub_0 .rule > .item-button-panel > .fa-times":"onDelete","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-times":"onDelete","click    #operatorSub_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","click    #operatorSub_0 .rule > .item-button-panel > .fa-check":"toggleEditing","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-check":"toggleEditing","dblclick #operatorSub_0 li.rule:not(.legacy-condition)":"toggleEditing"},data:{},buttons:{},idCount:0,typeAND:{title:"AND",logical:!0,config:{properties:{subjects:{type:"array",items:{type:"any"}}}}},render:function(e,t){this.idPrefix="Sub_",this.property="subject",this.properties="subjects",this.data.conditionName=d.a.t("console.authorization.policies.edit.addSubjectCondition"),this.data.entity=e.entity,this.data.options=e.options,this.data.subjects=[],this.data.operators=[];var n=this;i.a.each(this.data.options.availableSubjects,function(e){!0===e.logical?n.data.operators.push(e):n.data.subjects.push(e),delete e.config.type}),i.a.find(this.data.operators,{title:"AND"})||this.data.operators.push(this.typeAND),this.init(e,this.subEvents),this.conditionType=c.a.SUBJECT,this.setElement(this.element),this.idCount=0,this.parentRender(function(){this.buttons.addCondition=this.$el.find("a#addCondition"),this.buttons.addOperator=this.$el.find("a#addOperator"),0===n.data.operators.length&&this.buttons.addOperator.hide(),this.buildList(),this.initSorting(),this.identifyDroppableLogical(),t&&t()})}})),he=n(1322),fe=n.n(he),ye=function(){return r.a.createElement("div",{className:"panel-footer clearfix"},r.a.createElement("input",{className:"btn btn-primary pull-right","data-save":!0,name:"submitForm",type:"button",value:Object(a.b)("common.form.saveChanges")}))},be=(n(779),n(1257)),ve=n.n(be),ge=n(1325),ke=n.n(ge),xe=n(1326),Oe=n.n(xe),we=new(s.a.extend({element:"#actions",template:ke.a,noBaseTemplate:!0,events:{"click [data-toggle-item]":"changePermission","click [data-action-name]":"selectAction","click button[data-delete]":"deleteItem","keyup button[data-delete]":"deleteItem"},render:function(e,t){i.a.extend(this.data,e);var n=i.a.cloneDeep(e.options.availableActions),a=[];i.a.each(e.entity.actionValues,function(e,t){n=i.a.without(n,i.a.find(n,{action:t})),a.push({action:t,value:e})}),this.data.availableActions=n,this.data.selectedActions=a,this.parentRender(function(){var e=d.a.Deferred(),n=d.a.Deferred();this.renderAvailableActions(function(){return e.resolve()}),this.renderSelectedActions(function(){return n.resolve()}),Promise.all([e,n]).then(function(){t&&t()})})},renderAvailableActions:function(e){var t=Oe()({items:i.a.sortBy(this.data.availableActions,"action")});this.$el.find("#availableActions").html(t),e&&e()},renderSelectedActions:function(e){var t=ve()({items:i.a.sortBy(this.data.selectedActions,"action")});this.$el.find("#selectedActions").html(t),this.$el.find("button[data-add-item]").prop("disabled",!0),e&&e()},selectAction:function(e){e.preventDefault();var t=d()(e.target).data("actionName"),n=i.a.find(this.data.options.availableActions,{action:t}),a=i.a.clone(n);this.data.availableActions=i.a.without(this.data.availableActions,i.a.find(this.data.availableActions,{action:t})),this.renderAvailableActions(),this.data.selectedActions.push(a),this.renderSelectedActions(),this.data.entity.actionValues[n.action]=n.value},changePermission:function(e){var t=d()(e.target),n="true"===(t.val()||t.find("input").val()),a=t.closest("tr").find(".action-name").text().trim();i.a.find(this.data.selectedActions,{action:a}).value=n,this.data.entity.actionValues[a]=n},deleteItem:function(e){if("keyup"!==e.type||13===e.keyCode){var t=d()(e.target).closest("tr").find(".action-name").text().trim(),n=i.a.find(this.data.selectedActions,{action:t});this.data.selectedActions=i.a.without(this.data.selectedActions,n),this.renderSelectedActions(),delete this.data.entity.actionValues[t],this.data.availableActions.push(n),this.renderAvailableActions()}}})),Ee=n(1518),Ce=n(1328),Pe=n.n(Ce),je=n(1488),Te=(n(53),n(54),n(25)),De=n(0),Ae=n.n(De),Re=n(753);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(n,!0).forEach(function(t){qe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=_e(t).call(this,e),n=!o||"object"!==Se(o)&&"function"!=typeof o?ze(a):o,qe(ze(n),"handleCheckBoxChange",function(e){n.setState({active:e.target.checked})}),qe(ze(n),"handleClose",function(){n.setState({showModal:!1})}),qe(ze(n),"handleSubmit",function(){n.setState({showModal:!1}),n.props.handleSubmit(i.a.pick(n.state,["active","name","description"]))}),qe(ze(n),"handleTextFieldChange",function(e){n.setState(qe({},e.target.getAttribute("data-entity-prop"),e.target.value))}),n.state=Ne({showModal:!0},e.data),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,l["Component"]),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(Ne({showModal:!0},e.data))}},{key:"render",value:function(){return r.a.createElement(Te.u,{onExit:this.handleOnExit,onHide:this.handleClose,show:this.state.showModal},r.a.createElement(Te.u.Header,{closeButton:!0},r.a.createElement(Te.u.Title,null,Object(a.b)("common.form.editDetails"))),r.a.createElement(Te.u.Body,null,r.a.createElement("form",{className:"form-horizontal"},r.a.createElement(Te.n,{bsClass:""},r.a.createElement(Te.m,{className:"clearfix",controlId:"policyName"},r.a.createElement(Te.g,{sm:2},r.a.createElement(Te.i,null,Object(a.b)("console.common.name"))),r.a.createElement(Te.g,{sm:9},r.a.createElement(Te.l,{"data-entity-prop":"name",disabled:this.props.isReadOnlyName,onChange:this.handleTextFieldChange,placeholder:Object(a.b)("common.form.validation.required"),type:"text",value:this.state.name}))),r.a.createElement(Te.m,{className:"clearfix",controlId:"policyDescription"},r.a.createElement(Te.g,{sm:2},r.a.createElement(Te.i,null,Object(a.b)("console.common.description"))),r.a.createElement(Te.g,{sm:9},r.a.createElement(Te.l,{componentClass:"textarea","data-entity-prop":"description",onChange:this.handleTextFieldChange,value:this.state.description}))),r.a.createElement(Te.m,{className:"clearfix"},r.a.createElement(Te.g,{sm:2},r.a.createElement(Te.i,{htmlFor:"policyActive"},Object(a.b)("common.form.active"))),r.a.createElement(Te.g,{sm:9},r.a.createElement(Re.a,{checked:this.state.active,id:"policyActive",onChange:this.handleCheckBoxChange})))))),r.a.createElement(Te.u.Footer,null,r.a.createElement(Te.c,{onClick:this.handleClose},Object(a.b)("common.form.close")),r.a.createElement(Te.c,{bsStyle:"primary",onClick:this.handleSubmit},Object(a.b)("common.form.saveChanges"))))}}])&&$e(n.prototype,o),s&&$e(n,s),t}();Ve.propTypes={data:Ae.a.objectOf({active:Ae.a.bool.isRequired,description:Ae.a.string.isRequired,name:Ae.a.string.isRequired}),handleSubmit:Ae.a.func.isRequired,isReadOnlyName:Ae.a.bool.isRequired};var Ue=Ve,Fe=n(29),Be=n.n(Fe),He=function(e,t){return Be.a.render(e,t[0])},Le=n(41),Ke=n(100),Ye=n.n(Ke),Ge=n(1523),Je=Ye.a.View.extend({initialize:function(e){var t=e.staticAttributes;this.staticAttributes=t},render:function(){var e=this;return this.inlineEditList=new Ge.a({values:i.a.flatten(i.a.map(e.staticAttributes,function(e){return i.a.map(e.propertyValues,function(t){return{key:e.propertyName,value:t}})}))}),this.$el.append(this.inlineEditList.render().$el),this},getGroupedData:function(){return i()(this.inlineEditList.getData()).groupBy("key").map(function(e,t){return{type:"Static",propertyName:t,propertyValues:i.a.map(e,"value")}}).value()}}),We=n(1330),Ze=n.n(We),Qe=new(s.a.extend({element:"#userAttrs",template:Ze.a,noBaseTemplate:!0,attrType:"User",render:function(e,t){var n,a=this;this.data.selectedUserAttributes=e[0],this.data.allUserAttributes=[],i.a.each(e[1],function(e){(n={}).propertyName=e,n.selected=i.a.find(a.data.selectedUserAttributes,function(t){return t.propertyName===e}),a.data.allUserAttributes.push(n)}),this.parentRender(function(){a.initSelectize(),t&&t()})},getAttrs:function(){var e,t=[],n=this;return i.a.each(this.data.selectedUserAttributes,function(a){(e={}).type=n.attrType,e.propertyName=a.propertyName||a,t.push(e)}),t=i.a.sortBy(t,"propertyName")},initSelectize:function(){var e=this;this.$el.find(".selectize").each(function(){d()(this).selectize({plugins:["restore_on_backspace"],delimiter:!1,persist:!1,create:!1,hideSelected:!0,onChange:function(t){e.data.selectedUserAttributes=t}})})}}));n(81);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ot=function(e){function t(){var e,n,a,o,i,l,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=this,o=(e=tt(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==Xe(o)&&"function"!=typeof o?nt(a):o,i=nt(n),r=function(){n.props.onClick(n.props.sectionName)},(l="handleCallToActionClick")in i?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,l["Component"]),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(Te.c,{bsStyle:"link",onClick:this.handleCallToActionClick},r.a.createElement("i",{className:"fa fa-plus"})," ",Object(a.b)("common.form.addItem",{item:this.props.sectionName})))}}])&&et(n.prototype,o),i&&et(n,i),t}();ot.propTypes={onClick:Ae.a.func.isRequired,sectionName:Ae.a.string.isRequired};var it=ot,lt=function(e){var t=e.sectionName;return r.a.createElement("div",{className:"text-muted text-center"},Object(a.b)("common.form.noItemAvailable",{item:t}))};lt.propTypes={sectionName:Ae.a.string.isRequired};var rt=lt,st=function(e){var t=e.actionValues,n=e.isReadOnly,o=e.onClick;return i.a.isEmpty(t)?n?r.a.createElement(rt,{sectionName:Object(a.b)("console.authorization.common.actions")}):r.a.createElement(it,{onClick:o,sectionName:Object(a.b)("console.authorization.common.actions")}):r.a.createElement("span",{className:"am-badge-group"},i()(t).mapValues(function(e,t){return r.a.createElement(Te.b,{key:t},t.toUpperCase(),": ",e?Object(a.b)("console.authorization.common.allowed"):Object(a.b)("console.authorization.common.denied"))}).values().value())};st.propTypes={actionValues:Ae.a.objectOf(Ae.a.oneOfType([Ae.a.string,Ae.a.bool])),isReadOnly:Ae.a.bool.isRequired,onClick:Ae.a.func.isRequired};var ct=st,ut=(n(185),n(159),function(e){var t=e.attributes,n=e.title;return i.a.isEmpty(t)?null:r.a.createElement("div",{className:"am-summary-sub-section row"},r.a.createElement("h5",null,n),r.a.createElement("span",{className:"am-badge-group"},t.map(function(e){return r.a.createElement(Te.b,{key:e.propertyName},e.propertyName,function(e){return i.a.isEmpty(e.propertyValues)?"":": ".concat(e.propertyValues.join(", "))}(e))})))});ut.propTypes={attributes:Ae.a.arrayOf({propertyName:Ae.a.string,propertyValues:Ae.a.arrayOf(Ae.a.string)}).isRequired,title:Ae.a.string.isRequired};var dt=ut;function pt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var mt=function(e){var t=e.customAttributes,n=e.isReadOnly,o=e.onClick,s=e.staticAttributes,c=e.userAttributes;return i.a.isEmpty([].concat(pt(c),pt(s),pt(t)))?n?r.a.createElement(rt,{sectionName:Object(a.b)("console.authorization.common.responseAttributes")}):r.a.createElement(it,{onClick:o,sectionName:Object(a.b)("console.authorization.common.responseAttributes")}):r.a.createElement(l.Fragment,null,r.a.createElement(dt,{attributes:c,title:Object(a.b)("console.authorization.common.subjectAttributes")}),r.a.createElement(dt,{attributes:s,title:Object(a.b)("console.authorization.common.staticAttributes")}),r.a.createElement(dt,{attributes:t,title:Object(a.b)("console.authorization.common.customAttributes")}))};mt.propTypes={customAttributes:Ae.a.arrayOf(Ae.a.object).isRequired,isReadOnly:Ae.a.bool.isRequired,onClick:Ae.a.func.isRequired,staticAttributes:Ae.a.arrayOf(Ae.a.object).isRequired,userAttributes:Ae.a.arrayOf(Ae.a.object).isRequired};var ht=mt,ft=function(e){var t=e.condition,n=e.conditionName,a=e.isReadOnly,o=e.onClick;return i.a.isEmpty(t)?a?r.a.createElement(rt,{sectionName:n}):r.a.createElement(it,{onClick:o,sectionName:n}):r.a.createElement("pre",{className:"am-text-preformatted"},JSON.stringify(t,null,2))};ft.propTypes={condition:Ae.a.objectOf(Ae.a.any),conditionName:Ae.a.string.isRequired,isReadOnly:Ae.a.bool.isRequired,onClick:Ae.a.func};var yt=ft,bt=function(e){var t=e.resources;return r.a.createElement("span",{className:"am-badge-group"},t.map(function(e){return r.a.createElement(Te.b,{key:e},e)}))};bt.propTypes={resources:Ae.a.arrayOf(Ae.a.string).isRequired};var vt=bt;function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){var e,n,a,o,i,l,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=this,o=(e=xt(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==gt(o)&&"function"!=typeof o?Ot(a):o,i=Ot(n),r=function(){n.props.onClick(n.props.title)},(l="handleHeaderClick")in i?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,l["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title;return r.a.createElement(Te.s,{bsClass:"editable media",onClick:this.handleHeaderClick,role:"link"},r.a.createElement(Te.s.Left,null,r.a.createElement("div",{className:"bg-primary"},r.a.createElement("i",{className:"fa fa-".concat(t)}))),r.a.createElement(Te.s.Body,null,r.a.createElement(Te.s.Heading,null,n)),r.a.createElement(Te.s.Right,{align:"middle"},r.a.createElement("i",{className:"fa fa-pencil"})))}}])&&kt(n.prototype,a),o&&kt(n,o),t}();Et.propTypes={icon:Ae.a.string.isRequired,onClick:Ae.a.func.isRequired,title:Ae.a.string.isRequired};var Ct=Et,Pt=function(e){var t=e.icon,n=e.title;return r.a.createElement(Te.s,null,r.a.createElement(Te.s.Left,null,r.a.createElement("div",{className:"bg-primary"},r.a.createElement("i",{className:"fa fa-".concat(t)}))),r.a.createElement(Te.s.Body,null,r.a.createElement(Te.s.Heading,null,n)))};Pt.propTypes={icon:Ae.a.string.isRequired,title:Ae.a.string.isRequired};var jt=Pt,Tt=function(e){var t=e.children,n=e.icon,a=e.isReadOnly,o=e.onClick,i=e.title,l=a?r.a.createElement(jt,{icon:n,title:i}):r.a.createElement(Ct,{icon:n,onClick:o,title:i});return r.a.createElement("div",{className:"am-masonry-item"},r.a.createElement(Te.w,{className:"am-summary-section"},r.a.createElement(Te.w.Heading,null,l),r.a.createElement(Te.w.Body,null,t)))};Tt.defaultProps={isReadOnly:!1},Tt.propTypes={children:Ae.a.node.isRequired,icon:Ae.a.string.isRequired,isReadOnly:Ae.a.bool,onClick:Ae.a.func.isRequired,title:Ae.a.string.isRequired};var Dt=Tt;function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Rt(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var St=function(e){var t=e.actionValues,n=e.condition,o=e.customAttributes,i=e.resources,l=e.staticAttributes,s=e.subject,c=e.userAttributes,u=Rt(e,["actionValues","condition","customAttributes","resources","staticAttributes","subject","userAttributes"]);return r.a.createElement("div",{className:"am-masonry-grid-2"},r.a.createElement(Dt,At({icon:"file-o",title:Object(a.b)("console.authorization.common.resources")},u),r.a.createElement(vt,{resources:i})),r.a.createElement(Dt,At({icon:"gavel",title:Object(a.b)("console.authorization.common.actions")},u),r.a.createElement(ct,At({actionValues:t},u))),r.a.createElement(Dt,At({icon:"mail-reply",title:Object(a.b)("console.authorization.common.responseAttributes")},u),r.a.createElement(ht,At({customAttributes:o,staticAttributes:l,userAttributes:c},u))),r.a.createElement(Dt,At({icon:"users",title:Object(a.b)("console.authorization.common.subjects")},u),r.a.createElement(yt,At({condition:s,conditionName:Object(a.b)("console.authorization.common.subjects")},u))),r.a.createElement(Dt,At({icon:"check-square-o",title:Object(a.b)("console.authorization.common.environments")},u),r.a.createElement(yt,At({condition:n,conditionName:Object(a.b)("console.authorization.common.environments")},u))))};St.propTypes={actionValues:Ae.a.objectOf(Ae.a.any).isRequired,condition:Ae.a.shape(Ae.a.object),customAttributes:Ae.a.arrayOf(Ae.a.any).isRequired,isReadOnly:Ae.a.bool.isRequired,onClick:Ae.a.func.isRequired,resources:Ae.a.arrayOf(Ae.a.any).isRequired,staticAttributes:Ae.a.arrayOf(Ae.a.any).isRequired,subject:Ae.a.objectOf(Ae.a.any).isRequired,userAttributes:Ae.a.arrayOf(Ae.a.any).isRequired};var It=St,Nt=function(e){e&&Be.a.unmountComponentAtNode(e)};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach(function(t){zt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qt(e,t,n,a,o,i,l){try{var r=e[i](l),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}t.default=s.a.extend({partials:{"templates/admin/views/realms/authorization/policies/_PolicyOperationsDropDown":Pe.a},validationFields:["name","resources"],events:{"click [data-delete]":"onDeleteClick","click [data-properties]":"openSettingsModal","click [data-save]":"saveTab","shown.bs.tab":"renderFooter"},getAllResponseAttributes:function(){this.model.attributes.resourceAttributes=i.a.union(this.staticAttrsView.getGroupedData(),Qe.getAttrs(),k.getAttrs())},tabs:[{},{name:"resources",attr:["resourceTypeUuid","resources"]},{name:"actions",attr:["actionValues"]},{name:"subjects",attr:["subject"]},{name:"environments",attr:["condition"]},{name:"responseAttributes",action:"getAllResponseAttributes"}],render:function(e,t){var n=e[2];t&&(this.renderCallback=t),this.data.realmPath=e[0],this.data.policySetName=e[1],this.policySetModelPromise=new je.a({name:this.data.policySetName}).fetch(),this.resourceTypesPromise=T.a.listResourceTypes(),n?(this.allSubjectsPromise=T.a.getSubjectConditions(),this.allEnvironmentsPromise=T.a.getEnvironmentConditions(),this.allUserAttributesPromise=T.a.getAllUserAttributes(),this.data.headerActions=[{actionPartial:"templates/admin/views/realms/authorization/policies/_PolicyOperationsDropDown"}],this.template=O.a,this.model=new Ee.a({name:n}),this.listenTo(this.model,"sync",this.renderPolicy),this.model.fetch()):(this.template=fe.a,this.newEntity=!0,this.model=new Ee.a,this.listenTo(this.model,"sync",this.renderPolicy),this.renderPolicy())},renderPolicy:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,a,o,l,s,c,u,d,p,m,h,f,y=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,this.data.entity=i.a.cloneDeep(this.model.attributes),this.data.entity.applicationName=t.data.policySetName,this.data.options={},this.data.status={},this.data.entity.active?(this.data.status.text="common.form.active",this.data.status.icon="fa-check-circle",this.data.status.class="text-success"):(this.data.status.text="common.form.inactive",this.data.status.icon="fa-ban",this.data.status.class="text-warning"),!t.newEntity){e.next=17;break}return e.next=9,Promise.all([this.policySetModelPromise,this.resourceTypesPromise]);case 9:n=e.sent,a=Mt(n,2),o=a[0],l=a[1],t.data.options.availableResourceTypes=i.a.filter(l.result,function(e){return i.a.includes(o.resourceTypeUuids,e.uuid)}),t.parentRender(function(){t.buildResourceTypeSelection()}),e.next=39;break;case 17:return e.next=19,Promise.all([this.policySetModelPromise,this.allSubjectsPromise,this.allEnvironmentsPromise,this.allUserAttributesPromise,this.resourceTypesPromise]);case 19:s=e.sent,c=Mt(s,5),u=c[0],d=c[1],p=c[2],m=c[3],h=c[4],t.data.options.availableResourceTypes=i.a.filter(h.result,function(e){return i.a.includes(u.resourceTypeUuids,e.uuid)}),t.staticAttributes=i.a.filter(t.model.attributes.resourceAttributes,{type:"Static"}),t.userAttributes=i.a.filter(t.model.attributes.resourceAttributes,{type:"User"}),t.customAttributes=i.a.difference(t.model.attributes.resourceAttributes,t.staticAttributes,t.userAttributes),t.allUserAttributes=i.a.sortBy(m.result),t.data.options.availableEnvironments=i.a.findByValues(p.result,"title",u.conditions),t.data.options.availableSubjects=i.a.findByValues(d.result,"title",u.subjects),f=i.a.find(t.data.options.availableResourceTypes,{uuid:t.model.attributes.resourceTypeUuid}),this.data.isReadOnly=!f,f&&(t.data.options.availableActions=t.getAvailableActionsForResourceType(f),t.data.options.availablePatterns=f.patterns),Nt(this.$el.find("#summaryTab")[0]),Nt(this.$el.find("#policyFooter")[0]),t.parentRender(function(){f&&(t.$el.find(".tab-menu .nav-tabs").tabdrop(),t.buildResourceTypeSelection(),me.render(t.data),pe.render(t.data),we.render(t.data),b.render(t.data),t.staticAttrsView=new Je({staticAttributes:t.staticAttributes,el:"[data-static-attributes]"}),t.staticAttrsView.render(),Qe.render([t.userAttributes,t.allUserAttributes]),k.render(t.customAttributes),E.a.setActiveTab(t));var e=r.a.createElement(It,_t({},t.data.entity,{onClick:function(e){y.onSummarySectionClick(e)},staticAttributes:t.staticAttributes,customAttributes:t.customAttributes,isReadOnly:t.data.isReadOnly,userAttributes:t.userAttributes}));He(e,y.$el.find("#summaryTab")),t.renderCallback&&t.renderCallback()});case 39:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function l(e){qt(i,a,o,l,r,"next",e)}function r(e){qt(i,a,o,l,r,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}(),onSummarySectionClick:function(e){this.$el.find('.tab-menu li a:contains("'.concat(e,'")')).tab("show")},openSettingsModal:function(e){e.preventDefault(),He(r.a.createElement(Ue,{data:{active:this.data.entity.active,description:this.data.entity.description,name:this.data.entity.name},isReadOnlyName:this.data.isReadOnly,handleSubmit:this.updateAndSaveModel.bind(this)}),this.$el.find("#settingsModal"))},buildResourceTypeSelection:function(){var e=this;this.$el.find("#resTypesSelection").selectize({sortField:"name",valueField:"uuid",labelField:"name",searchField:"name",options:e.data.options.availableResourceTypes,onChange:function(t){e.changeResourceType(t)}})},getAvailableActionsForResourceType:function(e){var t=[];return e&&i.a.each(e.actions,function(e,n){t.push({action:n,value:e})}),t},changeResourceType:function(e){this.data.entity.resourceTypeUuid=e;var t=i.a.find(this.data.options.availableResourceTypes,{uuid:e});this.data.options.availableActions=this.getAvailableActionsForResourceType(t),this.data.options.availablePatterns=t?t.patterns:[],this.data.options.newPattern=null,this.data.entity.resources=[],this.data.entity.actionValues={},b.render(this.data),this.newEntity||we.render(this.data)},updateFields:function(){var e,t=this.data.entity,n=this.$el.find("[data-field]");i.a.each(n,function(n){e=n.getAttribute("data-field"),"checkbox"===n.type?t[e]=n.checked:t[e]=n.value})},updateModel:function(){if(this.updateFields(),this.activeTabId=this.$el.find(".tab-menu li.active a").attr("href"),this.newEntity)i.a.extend(this.model.attributes,this.data.entity);else{var e=this.$el.find(".tab-pane.active").index(),t=this.tabs[e];if(t.action&&this[t.action](),t.attr){var n=i.a.pick(this.data.entity,this.tabs[e].attr);i.a.extend(this.model.attributes,n)}}},saveTab:function(){this.updateModel(),this.saveModel()},updateAndSaveModel:function(e){i.a.extend(this.model.attributes,e),this.saveModel()},saveModel:function(){var e=this,t=this.model.save();t?t.then(function(){e.newEntity?Le.a.routeTo(Le.a.configuration.routes.realmsPolicyEdit,{args:i.a.map([e.data.realmPath,e.data.policySetName,e.model.id],encodeURIComponent),trigger:!0}):h.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})}):w.a.sendEvent(c.a.EVENT_DISPLAY_MESSAGE_REQUEST,this.model.validationError)},onDeleteClick:function(e){e.preventDefault(),E.a.showConfirmationBeforeDeleting({type:Object(a.b)("console.authorization.common.policy")},i.a.bind(this.deletePolicy,this))},deletePolicy:function(){var e=this;this.model.destroy({success:function(){Le.a.routeTo(Le.a.configuration.routes.realmsPolicySetEdit,{args:i.a.map([e.data.realmPath,e.data.policySetName],encodeURIComponent),trigger:!0}),h.a.addMessage({message:Object(a.b)("config.messages.CommonMessages.changesSaved")})},error:function(e,t){h.a.addMessage({response:t,type:h.a.TYPE_DANGER})},wait:!0})},renderFooter:function(){var e=0===this.$el.find(".tab-pane.active").index(),t=this.$el.find("#policyFooter");e?Nt(t[0]):He(r.a.createElement(ye),t)}})}}]);
//# sourceMappingURL=11.bbaa245ec0.js.map