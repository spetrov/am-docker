(window.webpackJsonp=window.webpackJsonp||[]).push([[123,210],{1308:function(e,t,a){var n=a(158);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,r){var o,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,l=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=e.invokePartial(u(n,"headers/_Title"),t,{name:"headers/_Title",hash:{title:"console.authentication.chains.newChain"},data:r,helpers:a,partials:n,decorators:e.decorators}))?o:"")+'<div class="panel panel-default fr-panel-with-border">\n    <div class="panel-body tab-content">\n        <div class="block clearfix form-horizontal">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="name">'+l((u(a,"t")||t&&u(t,"t")||i).call(c,"common.form.name",{name:"t",hash:{},data:r,loc:{start:{line:13,column:65},end:{line:13,column:89}}}))+'</label>\n                <div class="col-sm-9">\n                    <input autofocus type="text" id="name" data-chain-name class="form-control" placeholder="'+l((u(a,"t")||t&&u(t,"t")||i).call(c,"common.form.validation.required",{name:"t",hash:{},data:r,loc:{start:{line:15,column:109},end:{line:15,column:148}}}))+'" required>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+l((u(a,"routeTo")||t&&u(t,"routeTo")||i).call(c,"realmsAuthenticationChains",null!=t?u(t,"realmPath"):t,{name:"routeTo",hash:{},data:r,loc:{start:{line:22,column:45},end:{line:22,column:95}}}))+'">\n                '+l((u(a,"t")||t&&u(t,"t")||i).call(c,"common.form.cancel",{name:"t",hash:{},data:r,loc:{start:{line:23,column:16},end:{line:23,column:42}}}))+'\n            </a>\n            <button type="button" class="btn btn-primary" data-save disabled>\n                <span>'+l((u(a,"t")||t&&u(t,"t")||i).call(c,"common.form.create",{name:"t",hash:{},data:r,loc:{start:{line:26,column:22},end:{line:26,column:48}}}))+"</span>\n            </button>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},1437:function(e,t,a){"use strict";a(15),a(36),a(37),a(31),a(33),a(50),a(144),a(27),a(67),a(62),a(35),a(34);var n=a(2),r=a(14),o=a.n(r),c=a(122),i=a(23),l=a(38),u=a(214),s=a(142),d=a(273);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=new c.a("".concat(i.a.host).concat(i.a.context,"/json"));m.authentication={get:function(e){return d.a.schemaWithValues(m,Object(l.a)("/realm-config/authentication",{realm:e}))},update:function(e,t){return m.serviceCall({url:Object(l.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(t)})},chains:{all:function(e){return Promise.all([m.serviceCall({url:Object(l.a)("/realm-config/authentication/chains?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),m.serviceCall({url:Object(l.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=h(e,2),a=t[0],r=t[1];return Object(n.each)(a.result,function(e){e._id===r.adminAuthModule&&(e.defaultConfig=e.defaultConfig||{},e.defaultConfig.adminAuthModule=!0),e._id===r.orgConfig&&(e.defaultConfig=e.defaultConfig||{},e.defaultConfig.orgConfig=!0)}),{values:a}})},create:function(e,t){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/chains?_action=create",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(t)})},get:function(e,t){var a;return Promise.all([m.serviceCall({url:Object(l.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),m.serviceCall({url:Object(l.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=h(e,3),r=t[0],o=t[1],c=t[2];return o._id===r.adminAuthModule&&(o.adminAuthModule=!0),o._id===r.orgConfig&&(o.orgConfig=!0),o.authChainConfiguration=o.authChainConfiguration||[],Object(n.each)(o.authChainConfiguration,function(e){(a=Object(n.find)(c.result,{_id:e.module}))&&(e.type=a.type)}),{chainData:o,modulesData:Object(n.sortBy)(c.result,"_id")}})},remove:function(e,t){var a=t.map(function(t){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},suppressSpinner:!0,type:"DELETE"})});return Promise.all(a)},update:function(e,t,a){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})}},modules:{all:function(e){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return Object(n.sortBy)(t,"_id")})},create:function(e,t,a){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules/".concat(a,"?_action=create"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(t)})},get:function(e,t,a){return Promise.all([this.schema(e,a),m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),this.types.get(e,a)]).then(function(e){var t=h(e,3),a=t[0],n=t[1];return{name:t[2].name,schema:a,values:new s.a(n)}})},exists:function(e,t){var a=o.a.Deferred(),n="_queryFilter=".concat(encodeURIComponent('_id eq "'.concat(t,'"')),"&_fields=_id");return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules?".concat(n),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){a.resolve(e.result.length>0)}),a},remove:function(e,t,a){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},suppressSpinner:!0,type:"DELETE"})},update:function(e,t,a,n){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:n}).then(function(e){return new s.a(e)})},types:{all:function(e){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules?_action=getAllTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return Object(n.sortBy)(t,"name")})},get:function(e,t){return m.authentication.modules.types.all(e).then(function(e){return Object(n.find)(e,{_id:t})})}},schema:function(e,t){return m.serviceCall({url:Object(l.a)("/realm-config/authentication/modules/".concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new u.a(e)})}}},t.a=m},1660:function(e,t,a){"use strict";a.r(t);a(143),a(33),a(50),a(27),a(779),a(34);var n=a(2),r=a.n(n),o=a(14),c=a.n(o),i=a(123),l=a(1308),u=a.n(l),s=a(1437),d=a(52),h=a(41);t.default=i.a.extend({template:u.a,events:{"keyup [data-chain-name]":"onValidateChainProps","change [data-chain-name]":"onValidateChainProps","click [data-save]":"save"},render:function(e,t){var a=this,n=[];this.data.realmPath=e[0],s.a.authentication.chains.all(this.data.realmPath).then(function(e){r.a.each(e.values.result,function(e){n.push(e)}),a.data.chainsData=n,a.parentRender(function(){t&&t()})})},save:function(){var e=this,t=this.$el.find("[data-chain-name]").val().trim();s.a.authentication.chains.create(e.data.realmPath,{_id:t}).then(function(){h.a.routeTo(h.a.configuration.routes.realmsAuthenticationChainEdit,{args:r.a.map([e.data.realmPath,t],encodeURIComponent),trigger:!0})},function(e){d.a.addMessage({type:d.a.TYPE_DANGER,response:e})})},onValidateChainProps:function(){(function(){var e=this.$el.find("[data-chain-name]").val().trim(),t=r.a.find(this.data.chainsData,{_id:e});t&&d.a.addMessage({type:d.a.TYPE_DANGER,message:c.a.t("console.authentication.chains.duplicateChain")});var a=e&&!t;this.$el.find("[data-save]").attr("disabled",!a)}).call(this)}})}}]);
//# sourceMappingURL=123.05a9532bb5.js.map