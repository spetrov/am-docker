(window.webpackJsonp=window.webpackJsonp||[]).push([[26,296],{1233:function(e,t,n){var r=n(158);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){return'<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway">\n    <i class="fa fa-info-circle"></i>\n</a>\n'},useData:!0})},1400:function(e,t,n){"use strict";n(50),n(144);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),c=n(41),s=n(88);t.a=function(e){var t=function(t){var n=c.a.currentRoute,r=c.a.extractParameters(n,s.a.getCurrentFragment()),o=c.a.applyDefaultParameters(n,r),l={params:a.a.map(o,function(e){return e?decodeURIComponent(e):""})};return i.a.createElement(e,a.a.extend({},t,{router:l}))};return t.displayName="withRouter(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t.WrappedComponent=e,t}},1401:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=a.a.shape({params:a.a.array.isRequired});t.a=o},1402:function(e,t,n){"use strict";n(144),n(81);var r=n(1424),a=n(1),o=n.n(a),i=n(64);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=r.a.apply(void 0,n)(e),l=function(e){return o.a.createElement(s,c({},e,{store:i.a}))};return l.displayName="connectWithStore(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),l.WrappedComponent=e,l}},1403:function(e,t,n){"use strict";n(143),n(63),n(33),n(27),n(19),n(34),n(1413);var r=n(2),a=n.n(r),o=n(14),i=n.n(o),c=n(100),s=n.n(c),l=n(1414),u=n.n(l),p=n(1233),f=n.n(p),d=n(1416),m=n(214),h=n(142),b=n(1411);function y(e,t){var n=t.schema,r=t.values,a=t.hideInheritance,o=void 0!==a&&a;u.a.plugins.selectize.enable=!0,u.a.plugins.selectize.plugins=function(e){return[{name:"enum_plugin",options:{schema:e}}]},u.a.defaults.themes.openam=d.a.getTheme(6,4);var c=n.toFlatWithInheritanceMeta(r),s=r.removeInheritance();c=c.raw,s=s.raw;var l=new u.a(e[0],{disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,hide_inheritance:o,iconlib:"fontawesome4",schema:c,theme:"openam"});return function(e){var t=f()();i()(e).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(e,n){var r=i()(t);r.popoverclickaway({container:"#content",html:!0,placement:"auto top",content:n.innerHTML}).click(function(e){e.preventDefault()}),i()(n).parent().append(r)})}(e),function(e){i()(e).find("input:password").attr("placeholder",i.a.t("common.form.passwordPlaceholder"))}(e),l.setValue(s),l}n.n(b).a.define("enum_plugin",function(e){var t,n=this,r=arguments,o=e.schema,i=a.a.indexOf(o.enum,"");i>-1?(n.plugins.settings.dropdown_header={title:o.options.enum_titles[i]},n.require("dropdown_header"),n.setup=(t=n.setup,function(){t.apply(n,r),n.$dropdown.on("mousedown",".selectize-dropdown-header",function(){return n.setValue(""),n.close(),n.blur(),!1})})):function(){var e;n.deleteSelection=(e=n.deleteSelection,function(t){return!!function(e){return!e||8!==e.keyCode}(t)&&e.apply(n,r)})}()});var v=s.a.View.extend({className:"jsoneditor-block",initialize:function(e){if(!(e.schema instanceof m.a))throw new TypeError('[JSONEditorView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof h.a))throw new TypeError('[JSONEditorView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{displayTitle:!0})},toggleInheritance:function(e,t,n){this.options.values=this.options.values.extend(this.getData()),this.options.values=this.options.values.addValueForPath([e,"inherited"],n),this.options.values=this.options.values.addValueForPath([e,"value"],t),this.render()},render:function(){this.$el.empty();var e=a.a.get(this.jsonEditor,"watchlist");return this.jsonEditor=y(this.$el,this.options),this.jsonEditor.watchlist=e,this.options.displayTitle||this.$el.find("[data-header]").parent().hide(),this},isValid:function(){return 0===this.jsonEditor.validate().length},getData:function(){var e=new h.a(this.jsonEditor.getValue());return this.options.schema.hasDefaultProperties()&&(e=e.pick(this.options.schema.raw.defaultProperties)),(e=(e=e.nullifyEmptyPasswords(this.options.schema.getPasswordKeys())).addInheritance(this.options.values.raw)).raw},setData:function(e){this.options.values=this.options.values.extend(e)},watch:function(e,t){this.jsonEditor.watch(e,t)},destroy:function(){var e=this,t=a.a.keys(this.jsonEditor.watchlist);a.a.forEach(t,function(t){e.jsonEditor.unwatch(t)}),this.jsonEditor.destroy(),this.jsonEditor=null}});t.a=v},1406:function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(1),c=n.n(i),s=function(e){var t=e.children,n=e.icon,a=e.title,o=e.subtitle,i=o?"deep":"shallow",s=n?c.a.createElement("span",{className:"header-icon pull-left bg-primary"},c.a.createElement("i",{className:"fa fa-".concat(n)})):null,l=function(e){return e?Object(r.isString)(e)?c.a.createElement("h4",{className:"page-type"},e):e:null}(o);return c.a.createElement("header",{className:"page-header page-header-no-border clearfix"},s,c.a.createElement("div",{className:"button-group pull-right ".concat(i,"-page-header-button-group")},t),c.a.createElement("div",{className:"pull-left"},l,c.a.createElement("h1",{className:"wordwrap"},a)))};s.propTypes={children:o.a.node,icon:o.a.string,subtitle:o.a.node,title:o.a.string.isRequired},t.a=s},1407:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(16);t.a=function(){return a.a.createElement("p",{className:"loading text-muted"},a.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),a.a.createElement("span",null,Object(o.b)("console.common.loading")))}},1408:function(e,t,n){"use strict";n(33),n(27),n(34);var r=n(2),a=n.n(r),o=n(100),i=n.n(o),c=n(1403),s=n(214),l=n(142);var u=i.a.View.extend({initialize:function(e){if(!(e.schema instanceof s.a))throw new TypeError('[FlatJSONSchemaView] "schema" argument is not an instance of JSONSchema.');if(!(e.values instanceof l.a))throw new TypeError('[FlatJSONSchemaView] "values" argument is not an instance of JSONValues.');this.options=a.a.defaults(e,{showOnlyRequiredAndEmpty:!1,showOnlyRequired:!1})},render:function(){var e,t=this.options.schema,n=!0;if(this.options.showOnlyRequiredAndEmpty){var r=this.options.schema.getRequiredPropertyKeys(),o=this.options.values.getEmptyValueKeys(t),i=a.a.intersection(r,o);t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(i),n=!a.a.isEmpty(i)}else if(this.options.showOnlyRequired){var s=this.options.schema.getRequiredPropertyKeys();t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(s),n=!a.a.isEmpty(s)}return this.subview=new c.a({displayForm:n,hideInheritance:this.options.hideInheritance,displayTitle:!1,el:this.$el,schema:t,values:this.options.values}).render(),(e=this.options.onRendered)&&setTimeout(e,0),this},isValid:function(){return!this.subview||this.subview.isValid()},getData:function(){var e;if(this.subview)return(e=this.subview).getData.apply(e,arguments)},setData:function(e){if(this.subview)return this.options.values=this.options.values.extend(e),this.subview.setData(e)},watch:function(e,t){this.subview&&this.subview.watch(e,t)},destroy:function(){this.subview&&(this.subview.destroy(),this.subview=null)}});t.a=u},1410:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(29),i=n.n(o),c=(n(15),n(36),n(37),n(63),n(33),n(81),n(18),n(27),n(67),n(777),n(62),n(35),n(34),n(2)),s=n(0),l=n.n(s),u=n(16),p=n(778),f=n.n(p),d=(n(159),n(25)),m=function(e){var t=e.children,n=e.disabled,r=e.inProgress,o=e.names,i=e.objectName,c=e.onCancel,s=e.onConfirm,l=e.onExited,p=e.show,f=r?a.a.createElement(d.u.Header,{className:"text-center"},a.a.createElement("span",{className:"fa-stack fa-lg fa-2x text-danger"},a.a.createElement("i",{className:"fa fa-circle fa-stack-2x"}),a.a.createElement("i",{className:"fa fa-refresh fa-spin fa-stack-1x fa-inverse"})),a.a.createElement(d.u.Title,null,Object(u.b)("components.dialogs.delete.titleInProgress"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(d.u.Header,{className:"text-center",closeButton:!n,onHide:c},a.a.createElement("span",{className:"fa-stack fa-lg fa-2x text-danger"},a.a.createElement("i",{className:"fa fa-circle fa-stack-2x"}),a.a.createElement("i",{className:"fa fa-trash fa-stack-1x fa-inverse"})),a.a.createElement(d.u.Title,null,Object(u.b)("components.dialogs.delete.title",{objectName:i}))),a.a.createElement(d.u.Body,null,a.a.createElement("p",{className:"text-center wordwrap",dangerouslySetInnerHTML:{__html:Object(u.b)("components.dialogs.delete.message_interval",{count:o.length,names:o.join(", "),objectName:i,postProcess:"interval"})}}),t),a.a.createElement(d.u.Footer,null,a.a.createElement(d.y,null,a.a.createElement(d.g,{md:6},a.a.createElement(d.c,{block:!0,className:"fr-btn-secondary",disabled:n,onClick:c},Object(u.b)("components.dialogs.delete.no",{objectName:i}))),a.a.createElement(d.g,{md:6},a.a.createElement(d.c,{block:!0,bsStyle:"danger",disabled:n,onClick:s},Object(u.b)("components.dialogs.delete.yes",{objectName:i}))))));return a.a.createElement(d.u,{animation:!0,backdrop:"static",dialogClassName:"dialog-danger",onExited:l,show:p},f)};m.propTypes={children:l.a.node,disabled:l.a.bool,inProgress:l.a.bool,names:l.a.arrayOf(l.a.string).isRequired,objectName:l.a.string.isRequired,onCancel:l.a.func,onConfirm:l.a.func,onExited:l.a.func,show:l.a.bool};var h=m;function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=f()("0.5s"),v=function(e){var t=e.children,n=e.names,o=e.onCancel,i=e.onConfirm,s=e.onExited,l=e.objectName,p=e.show,f=b(Object(r.useState)(!1),2),d=f[0],m=f[1],v=b(Object(r.useState)(!1),2),g=v[0],O=v[1],E=Object(r.useCallback)(function(){m(!0);var e=Object(c.delay)(function(){return O(!0)},y);i().finally(function(){clearTimeout(e),m(!1)})},[i,m,O]),w=Object(r.useCallback)(function(){O(!1),s()},[s,O]);return a.a.createElement(h,{disabled:d,inProgress:g,names:n,objectName:Object(u.b)("objects.".concat(l),{count:n.length}),onCancel:o,onConfirm:E,onExited:w,show:p},t)};v.defaultProps={onExited:c.noop},v.propTypes={children:l.a.node,names:l.a.arrayOf(l.a.string).isRequired,objectName:l.a.string.isRequired,onCancel:l.a.func,onConfirm:l.a.func.isRequired,onExited:l.a.func,show:l.a.bool};var g=v;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=function(e){var t=e.onCancel,n=e.onConfirm,o=w(e,["onCancel","onConfirm"]),i=E(Object(r.useState)(!0),2),c=i[0],s=i[1],l=Object(r.useCallback)(function(){s(!1),t()},[t,s]),u=Object(r.useCallback)(function(){return Promise.resolve(n()).finally(function(){return s(!1)})},[n,s]);return a.a.createElement(g,O({onCancel:l,onConfirm:u,show:c},o))};j.defaultProps={onCancel:c.noop},j.propTypes={onCancel:l.a.func,onConfirm:l.a.func.isRequired};var S=j;n.d(t,"b",function(){return C}),n.d(t,"a",function(){return g});var C=function(e){var t=e.children,n=e.names,r=e.objectName,o=e.onCancel,c=e.onConfirm,s=document.getElementById("dialog");i.a.render(a.a.createElement(S,{names:n,objectName:r,onCancel:o,onConfirm:c,onExited:function(){return i.a.unmountComponentAtNode(s)}},t),s)}},1417:function(e,t,n){"use strict";n(15),n(63),n(81),n(18);var r=n(25),a=n(2),o=n(0),i=n.n(o),c=n(1),s=n.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=function(e){var t=e.children,n=e.href,o=e.title,i=e.onClick;if(t){var c=Object(a.map)(t,function(e){var t=e.title,n=u(e,["title"]);return s.a.createElement(r.t,l({key:t},n),t)});return s.a.createElement(r.d,null,s.a.createElement(r.j,{bsStyle:"primary",disabled:Object(a.isEmpty)(c),id:Object(a.camelCase)(o),title:o},c))}return s.a.createElement(r.d,null,s.a.createElement(r.c,{bsStyle:"primary",href:n,onClick:i},s.a.createElement("i",{className:"fa fa-plus"})," ",o))};p.propTypes={children:i.a.arrayOf(i.a.shape({onClick:i.a.func,href:i.a.string,title:i.a.string.isRequired})),href:i.a.string,onClick:i.a.func,title:i.a.string.isRequired},t.a=p},1418:function(e,t,n){"use strict";n(15),n(36),n(37),n(17),n(33),n(1422),n(81),n(21),n(22),n(53),n(18),n(54),n(27),n(35),n(19),n(34);var r=n(2),a=n(160),o=n(0),i=n.n(o),c=n(1),s=n.n(c),l=n(25),u=n(16),p=n(1417),f=function(e){var t=e.additionalButtons,n=e.addButton,r=e.isDeleteDisabled,a=e.onDelete,o=e.numberSelected,i=o?"(".concat(o,")"):"";return s.a.createElement(l.e,{className:"page-toolbar"},s.a.createElement(p.a,{href:n.href,onClick:n.handleOnClick,title:n.title},n.menuItems),s.a.createElement(l.c,{disabled:r,onClick:a},s.a.createElement("i",{className:"fa fa-close"})," ",Object(u.b)("common.form.delete")," ",i),t)};f.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,additionalButtons:i.a.node,isDeleteDisabled:i.a.bool.isRequired,numberSelected:i.a.number.isRequired,onDelete:i.a.func.isRequired};var d=f,m=n(1428),h=function(e){var t=e.addButton,n=e.description,r=e.title;return s.a.createElement(m.a,null,s.a.createElement("p",{className:"text-primary"},s.a.createElement("i",{className:"fa fa-list-alt fa-4x"})),s.a.createElement("h2",null,r),s.a.createElement("p",{className:"panel-description text-muted"},n),s.a.createElement(p.a,{href:t.href,onClick:t.handleOnClick,title:t.title},t.menuItems))};h.propTypes={addButton:i.a.shape({handleOnClick:i.a.func,href:i.a.string,menuItems:i.a.arrayOf(i.a.shape({href:i.a.string.isRequired,title:i.a.string.isRequired})),title:i.a.string.isRequired}).isRequired,description:i.a.string.isRequired,title:i.a.string.isRequired};var b=h,y=n(1407),v=n(369);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=j(t).call(this),e=!r||"object"!==g(r)&&"function"!=typeof r?S(n):r,P(S(e),"handleDelete",function(){e.props.onDelete(e.state.selectedItems)}),P(S(e),"handleSelectedChange",function(t){e.setState({selectedItems:t})}),e.state={selectedItems:[]},e}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,c["Component"]),n=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!Object(r.isEqual)(Object(r.map)(this.props.items,this.props.keyField).sort(),Object(r.map)(e.items,this.props.keyField).sort())&&this.setState({selectedItems:[]})}},{key:"render",value:function(){var e,t=Object(r.omit)(this.props,"children");if(this.props.isFetching)e=s.a.createElement(y.a,null);else if(Object(r.isEmpty)(this.props.items))e=s.a.createElement(b,t);else{var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{data:this.props.items,onSelectedChange:this.handleSelectedChange,selectedItems:this.state.selectedItems}),a=s.a.createElement(d,O({},t,{isDeleteDisabled:!this.state.selectedItems.length,numberSelected:this.state.selectedItems.length,onDelete:this.handleDelete}));e=s.a.createElement("div",null,a,s.a.createElement(v.a,n,this.props.children))}return e}}])&&w(n.prototype,a),o&&w(n,o),t}();R.defaultProps={keyField:"_id"},R.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})),i.a.shape({type:i.a.oneOf([a.TableHeaderColumn]).isRequired})]).isRequired,isFetching:i.a.bool.isRequired,items:i.a.arrayOf(i.a.object).isRequired,keyField:i.a.string,onDelete:i.a.func.isRequired};t.a=R},1422:function(e,t,n){"use strict";var r=n(39),a=n(215),o=n(89),i=n(44),c=n(216),s=[].sort,l=[1,2,3],u=i(function(){l.sort(void 0)}),p=i(function(){l.sort(null)}),f=c("sort");r({target:"Array",proto:!0,forced:u||!p||f},{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),a(e))}})},1423:function(e,t,n){"use strict";n(143),n(114);var r=n(2),a=n(1431),o=n.n(a);function i(e){e.data.dialog.$modalContent.find("[autofocus]").focus(),function(e){Object(r.each)(e.options.buttons,function(t){!0===t.disabled&&e.getButton(t.id).disable()})}(e.data.dialog)}var c={};c.TYPE_DEFAULT=o.a.TYPE_DEFAULT,c.TYPE_INFO=o.a.TYPE_INFO,c.TYPE_PRIMARY=o.a.TYPE_PRIMARY,c.TYPE_SUCCESS=o.a.TYPE_SUCCESS,c.TYPE_WARNING=o.a.TYPE_WARNING,c.TYPE_DANGER=o.a.TYPE_DANGER,c.SIZE_NORMAL=o.a.SIZE_NORMAL,c.SIZE_SMALL=o.a.SIZE_SMALL,c.SIZE_WIDE=o.a.SIZE_WIDE,c.SIZE_LARGE=o.a.SIZE_LARGE,Object(r.each)(["show","confirm","warning","danger","success"],function(e){c[e]=function(t){var n=new o.a[e](t),r=t.type||c.TYPE_PRIMARY;return r=r.replace("type","text"),n.getModalHeader().addClass(r),n.getModal().on("shown.bs.modal",{dialog:n},i),n}}),t.a=c},1427:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(31);var r=n(16),a=n(1423);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.b)("common.form.delete");a.a.confirm({type:a.a.TYPE_DANGER,title:"".concat(Object(r.b)("common.form.confirm")," ").concat(n),message:e.message?e.message:Object(r.b)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:n,btnOKClass:"btn-danger",callback:function(e){e&&t&&t()}})}},1428:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=function(e){var t=e.children;return i.a.createElement("div",{className:"call-to-action-block"},t)};c.propTypes={children:a.a.node},t.a=c},1436:function(e,t,n){"use strict";var r=n(25),a=n(16),o=n(0),i=n.n(o),c=n(1),s=n.n(c),l=function(e){var t=e.disabled,n=e.onSaveClick;return s.a.createElement(r.f,null,s.a.createElement("div",{className:"pull-right"},s.a.createElement(r.c,{bsStyle:"primary",disabled:t,onClick:n},Object(a.b)("common.form.saveChanges"))))};l.defaultProps={disabled:!1},l.propTypes={disabled:i.a.bool,onSaveClick:i.a.func.isRequired},t.a=l},1451:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"j",function(){return y}),n.d(t,"k",function(){return v}),n.d(t,"l",function(){return g});n(31),n(33),n(27),n(67),n(35),n(34);var r=n(2),a=n(122),o=n(23),i=new a.a("".concat(o.a.host).concat(o.a.context,"/json")),c="/global-config/secrets/stores";function s(e,t){return i.serviceCall({url:"".concat(c,"/").concat(e,"/").concat(encodeURIComponent(t)),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}function l(e){return i.serviceCall({url:"".concat(c,"/").concat(e),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}function u(e,t,n){return i.serviceCall({url:"".concat(c,"/").concat(e,"/").concat(encodeURIComponent(n)),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(t)})}function p(e){return i.serviceCall({url:"".concat(c,"/").concat(e,"?_queryFilter=true"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}function f(e){return i.serviceCall({url:"".concat(c,"/").concat(e,"?_action=getCreatableTypes"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function d(){return i.serviceCall({url:"".concat(c,"?_action=getAllTypes"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return Object(r.filter)(t,function(e){return!1===e.collection})})}function m(){return i.serviceCall({url:"".concat(c,"?_action=getCreatableTypes"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function h(e){return i.serviceCall({url:"".concat(c,"/").concat(e,"?_action=schema"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function b(e){return Promise.all([h(e),i.serviceCall({url:"".concat(c,"/").concat(e,"?_action=template"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})]).then(function(e){return{schema:e[0],values:e[1]}})}function y(e){var t=Object(r.map)(e,function(e){return i.serviceCall({url:"".concat(c,"/").concat(e._type._id,"/").concat(encodeURIComponent(e._id)),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE",suppressSpinner:!0})});return Promise.all(t)}function v(e,t,n){return i.serviceCall({url:"".concat(c,"/").concat(e,"/").concat(encodeURIComponent(t)),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify(Object(r.omit)(n,"_rev"))})}function g(e,t){return i.serviceCall({url:"".concat(c,"/").concat(e),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify(Object(r.omit)(t,"_rev"))})}},1472:function(e,t,n){"use strict";var r=n(39),a=n(1473);r({target:"String",proto:!0,forced:n(1474)("link")},{link:function(e){return a(this,"a","href",e)}})},1473:function(e,t,n){var r=n(102),a=/"/g;e.exports=function(e,t,n,o){var i=String(r(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),c+">"+i+"</"+t+">"}},1474:function(e,t,n){var r=n(44);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},1475:function(e,t,n){"use strict";n(15),n(36),n(37),n(31),n(33),n(53),n(54),n(27),n(35),n(34);var r=n(25),a=n(2),o=n(16),i=n(0),c=n.n(i),s=n(1),l=n.n(s),u=n(1436),p=n(1408),f=n(214),d=n(142),m=n(1407),h=n(52);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=v(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==b(a)&&"function"!=typeof a?g(r):a,E(g(n),"handleSave",function(){if(n.jsonSchemaView.subview.isValid()){var e=new d.a(n.jsonSchemaView.subview.getData()).removeNullPasswords(new f.a(n.props.schema));n.props.onSave(e.raw)}else h.a.addMessage({message:Object(o.b)("common.form.validation.errorsNotSaved"),type:h.a.TYPE_DANGER})}),E(g(n),"setRef",function(e){n.form=e}),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,s["Component"]),n=t,(i=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.jsonSchemaView&&!Object(a.isEqual)(this.props.schema,e.schema)&&(this.jsonSchemaView.destroy(),this.jsonSchemaView=null),this.jsonSchemaView&&(this.jsonSchemaView.setData(e.values),this.jsonSchemaView.render())}},{key:"componentDidUpdate",value:function(){!this.jsonSchemaView&&this.form&&this.props.values&&this.props.schema&&(this.jsonSchemaView=new p.a({schema:new f.a(this.props.schema),values:new d.a(this.props.values)}),this.form.appendChild(this.jsonSchemaView.render().el))}},{key:"render",value:function(){return this.props.isFetching?l.a.createElement(m.a,null):l.a.createElement(s.Fragment,null,l.a.createElement(r.w.Body,null,l.a.createElement("div",{ref:this.setRef})),l.a.createElement(r.w.Footer,null,l.a.createElement(u.a,{onSaveClick:this.handleSave})))}}])&&y(n.prototype,i),c&&y(n,c),t}();w.propTypes={isFetching:c.a.bool.isRequired,onSave:c.a.func.isRequired,schema:c.a.objectOf(c.a.any),values:c.a.objectOf(c.a.any)},t.a=w},1500:function(e,t,n){"use strict";n(1472);var r=n(25),a=n(0),o=n.n(a),i=n(1),c=n.n(i),s=function(e){var t=e.link,n=e.title;return c.a.createElement("nav",null,c.a.createElement("div",{className:"subnav-container"},c.a.createElement(r.n,null,c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-angle-left text-muted"})," ",c.a.createElement("a",{href:t},n)))))};s.propTypes={link:o.a.string.isRequired,title:o.a.string.isRequired},t.a=s},1501:function(e,t,n){"use strict";n(144);var r=n(25),a=n(16),o=n(0),i=n.n(o),c=n(1),s=n.n(c),l=n(1407),u=n(1406),p=function(e){var t=e.instance,n=e.isFetching,o=e.onDelete,i=e.mappingsChild,p=e.mappingsTitle,f=e.settingsChild;if(n)return s.a.createElement(l.a,null);var d=p?s.a.createElement(r.B,{animation:!0,defaultActiveKey:1,id:"editSecretStore",mountOnEnter:!0,unmountOnExit:!0},s.a.createElement(r.z,{eventKey:1,title:Object(a.b)("common.form.settings")},s.a.createElement(r.w,{className:"fr-panel-tab clearfix"},f)),s.a.createElement(r.z,{eventKey:2,title:p},s.a.createElement(r.w,{className:"fr-panel-tab clearfix"},i))):s.a.createElement(r.w,null,f);return s.a.createElement(c.Fragment,null,s.a.createElement(u.a,{icon:"eye",subtitle:t._type.name,title:t._id},s.a.createElement(r.c,{onClick:o},s.a.createElement("i",{className:"fa fa-times"})," ",Object(a.b)("common.form.delete"))),d)};p.propTypes={instance:i.a.shape({_id:i.a.string.isRequired,_type:i.a.shape({name:i.a.string.isRequired}).isRequired}),isFetching:i.a.bool.isRequired,mappingsChild:i.a.node,mappingsTitle:i.a.string,onDelete:i.a.func.isRequired,settingsChild:i.a.node},t.a=p},1502:function(e,t,n){"use strict";n(15),n(36),n(37),n(33),n(53),n(54),n(27),n(67),n(62),n(35),n(34),n(271);var r=n(10),a=n(2),o=n(16),i=n(0),c=n.n(i),s=n(1),l=n.n(s),u=n(1451),p=n(382),f=n(385),d=n(386),m=n(1402),h=n(52),b=n(1400),y=n(1401),v=n(1475);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)})}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){var n,r,a,i,c,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==g(a)&&"function"!=typeof a?C(r):a,c=C(n),s="handleSave",i=w(regeneratorRuntime.mark(function e(t){var r,a,i,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=O(n.props.router.params,2),a=r[0],i=r[1],c=1===n.props.router.params.length,e.prev=2,!c){e.next=10;break}return e.next=6,Object(u.l)(a,t);case 6:s=e.sent,n.props.addOrUpdateSingletonInstance(s),e.next=14;break;case 10:return e.next=12,Object(u.k)(a,i,t);case 12:l=e.sent,n.props.addOrUpdateInstance(l);case 14:h.a.addMessage({message:Object(o.b)("config.messages.CommonMessages.changesSaved")}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),h.a.addMessage({response:e.t0,type:h.a.TYPE_DANGER});case 20:case"end":return e.stop()}},e,null,[[2,17]])})),l=function(e){return i.apply(this,arguments)},s in c?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l,n.state={isFetching:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,s["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=w(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=O(this.props.router.params,1),n=t[0],e.prev=1,e.next=4,Object(u.g)(n);case 4:r=e.sent,this.props.addOrUpdateSchema(r,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.a.addMessage({response:e.t0,type:h.a.TYPE_DANGER});case 11:return e.prev=11,this.setState({isFetching:!1}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement(v.a,{isFetching:this.state.isFetching,onSave:this.handleSave,schema:this.props.schema,values:this.props.instance})}}])&&j(n.prototype,r),a&&j(n,a),t}();R.propTypes={addOrUpdateInstance:c.a.func.isRequired,addOrUpdateSchema:c.a.func.isRequired,addOrUpdateSingletonInstance:c.a.func.isRequired,instance:c.a.objectOf(c.a.any),router:y.a,schema:c.a.objectOf(c.a.any)},R=Object(m.a)(R,function(e,t){var n,r=O(t.router.params,2),o=r[0],i=r[1],c=1===t.router.params.length,s=e.remote.config.global.secretStores.types.schema;if(c){var l=e.remote.config.global.secretStores.singletons.instances.list;n=Object(a.find)(l,function(e){return e._type._id===o})}else{var u=e.remote.config.global.secretStores.instances.list;n=Object(a.find)(u,function(e){return e._id===i&&e._type._id===o})}return{schema:s[o],instance:n}},function(e){return{addOrUpdateInstance:Object(r.a)(p.a,e),addOrUpdateSchema:Object(r.a)(d.a,e),addOrUpdateSingletonInstance:Object(r.a)(f.a,e)}}),t.a=Object(b.a)(R)},1522:function(e,t,n){"use strict";n(15),n(36),n(37),n(33),n(53),n(54),n(27),n(35),n(34);var r=n(25),a=n(2),o=n(16),i=n(160),c=n(0),s=n.n(c),l=n(1),u=n.n(l),p=(n(63),n(81),n(18),n(177)),f=n(401),d=n(403);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=Object(p.SortableElement)(function(e){var t=e.children,n=h(e,["children"]),a=0===n.position,i=a?u.a.createElement(r.b,{pullRight:!0},Object(o.b)("console.secretStores.edit.mappings.form.aliasField.active")):null;return u.a.createElement(f.a,m({},n,{bsStyle:a?"success":null}),i,u.a.createElement("div",{style:{paddingRight:50}},t))}),y=function(e){var t=e.formData,n=e.idSchema,r=e.onChange,a=e.schema,i=h(e,["formData","idSchema","onChange","schema"]),c=a.items,s=a.minItems,l=a.uniqueItems;return u.a.createElement(d.a,m({components:{Item:b},id:n.$id,itemSchema:c,label:Object(o.b)("console.secretStores.edit.mappings.form.aliasField.label"),minItems:s,onChange:r,placeholder:Object(o.b)("console.secretStores.edit.mappings.form.aliasField.placeholder"),uniqueItems:l,values:t},i))};y.defaultProps={formData:[]},y.propTypes={formData:s.a.arrayOf(s.a.any),idSchema:s.a.objectOf(s.a.any),onChange:s.a.func.isRequired,schema:s.a.shape({items:s.a.shape({minLength:s.a.number}).isRequired,minItems:s.a.number,uniqueItems:s.a.bool}).isRequired};var v=y,g=n(375),O=n(217),E=n(380);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(E.a)(O.a),T=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==w(a)&&"function"!=typeof a?C(r):a,R(C(n),"handleOnCreate",function(){n.form.submit()}),R(C(n),"handleOnChange",function(e){var t=e.formData;n.setState({formData:t})}),R(C(n),"handleOnSubmit",function(e){var t=e.formData;n.props.onCreate(t)}),R(C(n),"setFormRef",function(e){n.form=e}),n.state={formData:n.props.template},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,l["Component"]),n=t,(a=[{key:"render",value:function(){return u.a.createElement(r.u,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},u.a.createElement(r.u.Header,{closeButton:!0},u.a.createElement(r.u.Title,null,Object(o.b)("console.secretStores.edit.mappings.new.title"))),u.a.createElement(g.a,null,u.a.createElement(r.u.Body,null,u.a.createElement(_,{formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":v}}})),u.a.createElement(r.u.Footer,null,u.a.createElement(r.f,null,u.a.createElement("div",{className:"pull-right"},u.a.createElement("div",{className:"am-btn-action-group"},u.a.createElement(r.c,{onClick:this.props.onClose},Object(o.b)("common.form.cancel")),u.a.createElement(r.c,{bsStyle:"primary",onClick:this.handleOnCreate},Object(o.b)("common.form.create"))))))))}}])&&j(n.prototype,a),i&&j(n,i),t}();T.propTypes={onClose:s.a.func.isRequired,onCreate:s.a.func.isRequired,schema:s.a.objectOf(s.a.any).isRequired,show:s.a.bool.isRequired,template:s.a.objectOf(s.a.any).isRequired};var k=T;function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=A(t).call(this,e),n=!a||"object"!==I(a)&&"function"!=typeof a?N(r):a,q(N(n),"handleOnChange",function(e){var t=e.formData;n.setState({formData:t})}),q(N(n),"handleOnSave",function(){n.form.submit()}),q(N(n),"handleOnSubmit",function(e){var t=e.formData;n.props.onSave(t,t._id)}),q(N(n),"setFormRef",function(e){n.form=e}),n.state={formData:e.instance},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,l["Component"]),n=t,(a=[{key:"render",value:function(){return u.a.createElement(r.u,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},u.a.createElement(r.u.Header,{closeButton:!0},u.a.createElement(r.u.Title,null,Object(o.b)("console.secretStores.edit.mappings.edit.title"))),u.a.createElement(g.a,null,u.a.createElement(r.u.Body,null,u.a.createElement(O.a,{editValidationMode:!0,formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":v}}})),u.a.createElement(r.u.Footer,null,u.a.createElement(r.f,null,u.a.createElement("div",{className:"pull-right"},u.a.createElement("div",{className:"am-btn-action-group"},u.a.createElement(r.c,{onClick:this.props.onClose},Object(o.b)("common.form.cancel")),u.a.createElement(r.c,{bsStyle:"primary",onClick:this.handleOnSave},Object(o.b)("common.form.save"))))))))}}])&&x(n.prototype,a),i&&x(n,i),t}();F.propTypes={instance:s.a.objectOf(s.a.any).isRequired,onClose:s.a.func.isRequired,onSave:s.a.func.isRequired,schema:s.a.objectOf(s.a.any).isRequired,show:s.a.bool.isRequired};var M=F,V=n(1418),U=function(e){var t=e.popover,n=e.title;if(t){var a=u.a.createElement(r.x,{id:"helpText"},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}}));return u.a.createElement(l.Fragment,null,n," ",u.a.createElement(r.v,{overlay:a,placement:"top"},u.a.createElement("i",{className:"fa fa-info-circle text-primary"})))}return n};U.propTypes={popover:s.a.string,title:s.a.string.isRequired};var Y=U;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=L(t).call(this,e),n=!o||"object"!==B(o)&&"function"!=typeof o?H(r):o,W(H(n),"handleCreate",function(e){n.props.onCreate(e).then(function(){n.setState({showCreateModal:!1})},a.noop)}),W(H(n),"handleCreateModalClose",function(){n.setState({showCreateModal:!1})}),W(H(n),"handleCreateModalShow",function(){n.props.onRefetchSchema(),n.setState({showCreateModal:!0})}),W(H(n),"handleEditModalClose",function(){n.setState({showEditModal:!1})}),W(H(n),"handleEditModalShow",function(){n.props.onRefetchSchema(),n.setState({showEditModal:!0})}),W(H(n),"handleSave",function(e,t){n.props.onSave(e,t).then(function(){n.handleEditModalClose()},a.noop)}),W(H(n),"handleTableRowClick",function(e){n.setState({editRowInstance:e}),n.handleEditModalShow()}),n.state={showCreateModal:!1,showEditModal:!1,editRowInstance:{}},n}var n,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,l["Component"]),n=t,(c=[{key:"activeAliasTitle",value:function(e){return e[0]}},{key:"activeAliasDataFormat",value:function(e){return u.a.createElement("span",null,e[0])}},{key:"aliasesDataFormat",value:function(e){return u.a.createElement(r.b,null,e.length)}},{key:"render",value:function(){var e=this.state.showCreateModal?u.a.createElement(k,{onClose:this.handleCreateModalClose,onCreate:this.handleCreate,schema:this.props.schema,show:this.state.showCreateModal,template:this.props.template}):null,t=this.state.showEditModal?u.a.createElement(M,{instance:this.state.editRowInstance,onClose:this.handleEditModalClose,onSave:this.handleSave,schema:this.props.schema,show:this.state.showEditModal}):null,n=this.props.schema?[u.a.createElement(i.TableHeaderColumn,{columnTitle:!0,dataField:"secretId",dataSort:!0,key:"secretId"},u.a.createElement(Y,{popover:this.props.schema.properties.secretId.description,title:this.props.schema.properties.secretId.title})),u.a.createElement(i.TableHeaderColumn,{columnTitle:this.activeAliasTitle,dataField:"aliases",dataFormat:this.activeAliasDataFormat,key:"activeAlias"},u.a.createElement(Y,{popover:Object(o.b)("console.secretStores.edit.mappings.grid.activeAlias.description"),title:Object(o.b)("console.secretStores.edit.mappings.grid.activeAlias.title")})),u.a.createElement(i.TableHeaderColumn,{dataAlign:"center",dataField:"aliases",dataFormat:this.aliasesDataFormat,key:"aliases",width:"100px"},u.a.createElement(Y,{popover:this.props.schema.properties.aliases.description,title:this.props.schema.properties.aliases.title}))]:null;return u.a.createElement(r.w.Body,null,u.a.createElement(V.a,{addButton:{handleOnClick:this.handleCreateModalShow,title:Object(o.b)("console.secretStores.edit.mappings.callToAction.button")},description:Object(o.b)("console.secretStores.edit.mappings.callToAction.description"),isFetching:this.props.isFetching,items:this.props.instances,keyField:"secretId",onDelete:this.props.onDelete,onRowClick:this.handleTableRowClick,title:Object(o.b)("console.secretStores.edit.mappings.callToAction.title")},n),e,t)}}])&&G(n.prototype,c),s&&G(n,s),t}();K.propTypes={instances:s.a.arrayOf(s.a.object),isFetching:s.a.bool.isRequired,onCreate:s.a.func.isRequired,onDelete:s.a.func.isRequired,onRefetchSchema:s.a.func.isRequired,onSave:s.a.func.isRequired,schema:s.a.objectOf(s.a.any),template:s.a.objectOf(s.a.any)};t.a=K},1715:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(17),n(33),n(53),n(54),n(27),n(67),n(62),n(35),n(34),n(271);var r=n(10),a=n(2),o=n(25),i=n(16),c=n(1),s=n.n(c),l=n(0),u=n.n(l),p=n(382),f=n(448),d=n(1451),m=n(1410),h=n(1500),b=n(1402),y=n(1501),v=n(436),g=(n(31),n(122)),O=n(23),E=new g.a("".concat(O.a.host).concat(O.a.context,"/json")),w=function(e,t){return"/global-config/secrets/stores/".concat(e,"/").concat(encodeURIComponent(t),"/mappings")};function j(e,t,n,r){return E.serviceCall({url:"".concat(w(e,t),"/").concat(encodeURIComponent(r)),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(n)})}function S(e,t){return E.serviceCall({url:"".concat(w(e,t),"?_queryFilter=true"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0})}function C(e,t){return E.serviceCall({url:"".concat(w(e,t),"/?_action=schema"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0,type:"POST"})}function P(e,t){return E.serviceCall({url:"".concat(w(e,t),"/?_action=template"),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:!0,type:"POST"})}function R(e,t,n,r){return E.serviceCall({url:"".concat(w(e,t),"/").concat(encodeURIComponent(r)),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify(Object(a.omit)(n,"_rev"))})}function _(e,t,n){return Promise.all(Object(a.map)(n,function(n){return E.serviceCall({url:"".concat(w(e,t),"/").concat(encodeURIComponent(n._id)),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})}))}var T=n(437),k=n(438),I=n(1522),x=n(52),A=n(1427),N=n(1400),D=n(1401);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,c,"next",e)}function c(e){F(o,r,a,i,c,"throw",e)}i(void 0)})}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Y(t).call(this,e),n=!o||"object"!==q(o)&&"function"!=typeof o?B(r):o,L(B(n),"handleDelete",function(e){var t=V(n.props.router.params,2),r=t[0],o=t[1];Object(A.a)({message:Object(i.b)("console.secretStores.edit.mappings.confirmDeleteSelected",{count:e.length})},M(regeneratorRuntime.mark(function t(){var c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(r,o,e);case 3:c=t.sent,Object(a.forEach)(c,function(e){var t=e._id;n.props.removeInstance(t)}),x.a.addMessage({message:Object(i.b)("config.messages.CommonMessages.changesSaved")}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),x.a.addMessage({response:t.t0,type:x.a.TYPE_DANGER});case 11:case"end":return t.stop()}},t,null,[[0,8]])})))}),L(B(n),"handleRefetchSchema",M(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=V(n.props.router.params,2),r=t[0],a=t[1],e.prev=1,e.next=4,C(r,a);case 4:o=e.sent,n.props.setSchema(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER});case 11:case"end":return e.stop()}},e,null,[[1,8]])}))),L(B(n),"handleSave",function(){var e=M(regeneratorRuntime.mark(function e(t,r){var a,o,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=V(n.props.router.params,2),o=a[0],c=a[1],e.prev=1,e.next=4,R(o,c,t,r);case 4:s=e.sent,n.props.addOrUpdate(s),x.a.addMessage({message:Object(i.b)("config.messages.CommonMessages.changesSaved")}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER}),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()),L(B(n),"handleCreate",function(){var e=M(regeneratorRuntime.mark(function e(t){var r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(n.props.router.params,2),a=r[0],o=r[1],e.prev=1,e.next=4,j(a,o,t,t.secretId);case 4:c=e.sent,n.props.addOrUpdate(c),x.a.addMessage({message:Object(i.b)("console.secretStores.edit.mappings.mappingAdded")}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER}),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()),n.state={isFetching:!0},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=M(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=V(this.props.router.params,2),n=t[0],r=t[1],e.prev=1,e.next=4,Promise.all([S(n,r),C(n,r),P(n,r)]);case 4:a=e.sent,o=V(a,3),i=o[0].result,c=o[1],s=o[2],this.props.setSchema(c),this.props.setTemplate(s),this.props.setInstances(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER});case 17:return e.prev=17,this.setState({isFetching:!1}),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[1,14,17,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(I.a,{instances:this.props.instances,isFetching:this.state.isFetching,onCreate:this.handleCreate,onDelete:this.handleDelete,onRefetchSchema:this.handleRefetchSchema,onSave:this.handleSave,schema:this.props.schema,template:this.props.template})}}])&&U(n.prototype,r),o&&U(n,o),t}();H.propTypes={addOrUpdate:u.a.func.isRequired,instances:u.a.arrayOf(u.a.object).isRequired,removeInstance:u.a.func.isRequired,router:D.a,schema:u.a.objectOf(u.a.any),setInstances:u.a.func.isRequired,setSchema:u.a.func.isRequired,setTemplate:u.a.func.isRequired,template:u.a.objectOf(u.a.any)},H=Object(b.a)(H,function(e){return{instances:Object(a.sortBy)(Object(a.values)(e.local.config.global.secretStores.instances.current.mappings.instances),"_id"),schema:e.local.config.global.secretStores.instances.current.mappings.schema,template:e.local.config.global.secretStores.instances.current.mappings.template}},function(e){return{addOrUpdate:Object(r.a)(v.a,e),removeInstance:Object(r.a)(v.c,e),setInstances:Object(r.a)(v.d,e),setSchema:Object(r.a)(T.b,e),setTemplate:Object(r.a)(k.b,e)}});var J=H=Object(N.a)(H),W=n(41),K=n(1502);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,c,"next",e)}function c(e){$(o,r,a,i,c,"throw",e)}i(void 0)})}}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){var n,r,a,o,c,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ee(t).call(this,e),n=!a||"object"!==Z(a)&&"function"!=typeof a?te(r):a,o=te(n),s=function(){Object(m.b)({names:[n.props.instance._id],objectName:"secretStore",onConfirm:function(){var e=Q(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.j)([n.props.instance]);case 3:x.a.addMessage({message:Object(i.b)("config.messages.CommonMessages.changesSaved")}),W.a.routeTo(W.a.configuration.routes.listGlobalSecretStores,{args:[],trigger:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()})},(c="handleDelete")in o?Object.defineProperty(o,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[c]=s,n.state={isFetching:!0},n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=Q(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=z(this.props.router.params,2),n=t[0],r=t[1],e.prev=1,e.next=4,Promise.all([Object(d.b)(n,r),Object(d.e)(n)]);case 4:a=e.sent,o=z(a,2),i=o[0],c=o[1],this.props.addOrUpdateCreatables(c.result,n),this.props.addOrUpdateInstance(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),x.a.addMessage({response:e.t0,type:x.a.TYPE_DANGER});case 15:return e.prev=15,this.setState({isFetching:!1}),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(a.get)(this.props.creatables,"[0].name"),t=e?s.a.createElement(J,null):null,n="#".concat(W.a.getLink(W.a.configuration.routes.listGlobalSecretStores));return s.a.createElement(c.Fragment,null,s.a.createElement(h.a,{link:n,title:Object(i.b)("console.secretStores.list.title")}),s.a.createElement(o.n,null,s.a.createElement(y.a,{instance:this.props.instance,isFetching:this.state.isFetching,mappingsChild:t,mappingsTitle:e,onDelete:this.handleDelete,settingsChild:s.a.createElement(K.a,null)})))}}])&&X(n.prototype,r),l&&X(n,l),t}();re.propTypes={addOrUpdateCreatables:u.a.func.isRequired,addOrUpdateInstance:u.a.func.isRequired,creatables:u.a.arrayOf(u.a.object),instance:u.a.objectOf(u.a.any),router:D.a},re=Object(b.a)(re,function(e,t){var n=z(t.router.params,2),r=n[0],a=n[1];return{creatables:e.remote.config.global.secretStores.types.creatables[r],instance:e.remote.config.global.secretStores.instances.list.filter(function(e){return e._id===a&&e._type._id===r})[0]}},function(e){return{addOrUpdateInstance:Object(r.a)(p.a,e),addOrUpdateCreatables:Object(r.a)(f.a,e)}});t.default=Object(N.a)(re)}}]);
//# sourceMappingURL=26.96a767f730.js.map