(window.webpackJsonp=window.webpackJsonp||[]).push([[114,274],{1367:function(e,t,n){var a=n(158);e.exports=(a.default||a).template({1:function(e,t,n,a,r,c,o){var l,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="btn-toolbar page-toolbar">\n        <button class="btn btn-primary" data-add-service>\n            <i class="fa fa-plus"></i> '+u((d(n,"t")||t&&d(t,"t")||s).call(i,"console.services.list.addService",{name:"t",hash:{},data:r,loc:{start:{line:14,column:39},end:{line:14,column:79}}}))+'\n        </button>\n        <button data-delete-services disabled class="btn btn-default" type="button"><i class="fa fa-times"></i> '+u((d(n,"t")||t&&d(t,"t")||s).call(i,"common.form.delete",{name:"t",hash:{},data:r,loc:{start:{line:16,column:112},end:{line:16,column:138}}}))+'</button>\n    </div>\n\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="table-container">\n                <table class="table">\n                    <thead>\n                        <tr>\n                            <th class="select-all-header-cell"></th>\n                            <th>'+u((d(n,"t")||t&&d(t,"t")||s).call(i,"console.services.list.grid.header.0",{name:"t",hash:{},data:r,loc:{start:{line:26,column:32},end:{line:26,column:75}}}))+'</th>\n                            <th class="fr-col-btn-2"></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n'+(null!=(l=d(n,"each").call(i,null!=t?d(t,"services"):t,{name:"each",hash:{},fn:e.program(2,r,0,c,o),inverse:e.noop,data:r,loc:{start:{line:31,column:24},end:{line:50,column:33}}}))?l:"")+"                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n"},2:function(e,t,n,a,r,c,o){var l,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <tr data-service-id="'+u("function"==typeof(l=null!=(l=d(n,"_id")||(null!=t?d(t,"_id"):t))?l:s)?l.call(i,{name:"_id",hash:{},data:r,loc:{start:{line:32,column:49},end:{line:32,column:56}}}):l)+'" data-service-name="'+u("function"==typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:s)?l.call(i,{name:"name",hash:{},data:r,loc:{start:{line:32,column:77},end:{line:32,column:85}}}):l)+'">\n                                <td class="select-row-cell">\n                                    <input data-select-service type="checkbox"/>\n                                </td>\n                                <td class="wordwrap">\n                                    <a href="'+u((d(n,"routeTo")||t&&d(t,"routeTo")||s).call(i,"realmsServiceEdit",null!=o[1]?d(o[1],"realmPath"):o[1],null!=t?d(t,"_id"):t,{name:"routeTo",hash:{},data:r,loc:{start:{line:37,column:45},end:{line:37,column:93}}}))+'" title="'+u((d(n,"t")||t&&d(t,"t")||s).call(i,"common.form.edit",{name:"t",hash:{},data:r,loc:{start:{line:37,column:102},end:{line:37,column:126}}}))+'">'+u("function"==typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:s)?l.call(i,{name:"name",hash:{},data:r,loc:{start:{line:37,column:128},end:{line:37,column:136}}}):l)+'</a>\n                                </td>\n                                <td class="fr-col-btn-2">\n                                    <div class="btn-group">\n                                        <a class="btn btn-link" href="'+u((d(n,"routeTo")||t&&d(t,"routeTo")||s).call(i,"realmsServiceEdit",null!=o[1]?d(o[1],"realmPath"):o[1],null!=t?d(t,"_id"):t,{name:"routeTo",hash:{},data:r,loc:{start:{line:41,column:70},end:{line:41,column:118}}}))+'" title="'+u((d(n,"t")||t&&d(t,"t")||s).call(i,"common.form.edit",{name:"t",hash:{},data:r,loc:{start:{line:41,column:127},end:{line:41,column:151}}}))+'">\n                                            <i class="fa fa-pencil"></i>\n                                        </a>\n                                        <button type="button" data-delete-service class="btn btn-link" title="'+u((d(n,"t")||t&&d(t,"t")||s).call(i,"common.form.delete",{name:"t",hash:{},data:r,loc:{start:{line:44,column:110},end:{line:44,column:136}}}))+'">\n                                            <i class="fa fa-close"></i>\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n'},4:function(e,t,n,a,r){var c=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="call-to-action-block">\n                <h3>'+l((i(n,"t")||t&&i(t,"t")||o).call(c,"console.services.list.addServicePrompt",{name:"t",hash:{},data:r,loc:{start:{line:60,column:20},end:{line:60,column:66}}}))+'</h3>\n                <a class="btn btn-primary" href="'+l((i(n,"routeTo")||t&&i(t,"routeTo")||o).call(c,"realmsServiceNew",null!=t?i(t,"realmPath"):t,{name:"routeTo",hash:{},data:r,loc:{start:{line:61,column:49},end:{line:61,column:89}}}))+'">\n                    <i class="fa fa-plus"></i> '+l((i(n,"t")||t&&i(t,"t")||o).call(c,"console.services.list.addService",{name:"t",hash:{},data:r,loc:{start:{line:62,column:47},end:{line:62,column:87}}}))+"\n                </a>\n            </div>\n        </div>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r,c,o){var l,i=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=e.invokePartial(s(a,"headers/_Title"),t,{name:"headers/_Title",hash:{title:"console.services.list.title"},data:r,helpers:n,partials:a,decorators:e.decorators}))?l:"")+'\n<p class="page-description">'+e.escapeExpression((s(n,"t")||t&&s(t,"t")||e.hooks.helperMissing).call(i,"console.services.list.description",{name:"t",hash:{},data:r,loc:{start:{line:10,column:28},end:{line:10,column:69}}}))+"</p>\n"+(null!=(l=s(n,"if").call(i,null!=(l=null!=t?s(t,"services"):t)?s(l,"length"):l,{name:"if",hash:{},fn:e.program(1,r,0,c,o),inverse:e.program(4,r,0,c,o),data:r,loc:{start:{line:11,column:0},end:{line:67,column:7}}}))?l:"")},usePartial:!0,useData:!0,useDepths:!0})},1410:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(29),o=n.n(c),l=(n(15),n(36),n(37),n(63),n(33),n(81),n(18),n(27),n(67),n(777),n(62),n(35),n(34),n(2)),i=n(0),s=n.n(i),u=n(16),d=n(778),m=n.n(d),f=(n(159),n(25)),p=function(e){var t=e.children,n=e.disabled,a=e.inProgress,c=e.names,o=e.objectName,l=e.onCancel,i=e.onConfirm,s=e.onExited,d=e.show,m=a?r.a.createElement(f.u.Header,{className:"text-center"},r.a.createElement("span",{className:"fa-stack fa-lg fa-2x text-danger"},r.a.createElement("i",{className:"fa fa-circle fa-stack-2x"}),r.a.createElement("i",{className:"fa fa-refresh fa-spin fa-stack-1x fa-inverse"})),r.a.createElement(f.u.Title,null,Object(u.b)("components.dialogs.delete.titleInProgress"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.u.Header,{className:"text-center",closeButton:!n,onHide:l},r.a.createElement("span",{className:"fa-stack fa-lg fa-2x text-danger"},r.a.createElement("i",{className:"fa fa-circle fa-stack-2x"}),r.a.createElement("i",{className:"fa fa-trash fa-stack-1x fa-inverse"})),r.a.createElement(f.u.Title,null,Object(u.b)("components.dialogs.delete.title",{objectName:o}))),r.a.createElement(f.u.Body,null,r.a.createElement("p",{className:"text-center wordwrap",dangerouslySetInnerHTML:{__html:Object(u.b)("components.dialogs.delete.message_interval",{count:c.length,names:c.join(", "),objectName:o,postProcess:"interval"})}}),t),r.a.createElement(f.u.Footer,null,r.a.createElement(f.y,null,r.a.createElement(f.g,{md:6},r.a.createElement(f.c,{block:!0,className:"fr-btn-secondary",disabled:n,onClick:l},Object(u.b)("components.dialogs.delete.no",{objectName:o}))),r.a.createElement(f.g,{md:6},r.a.createElement(f.c,{block:!0,bsStyle:"danger",disabled:n,onClick:i},Object(u.b)("components.dialogs.delete.yes",{objectName:o}))))));return r.a.createElement(f.u,{animation:!0,backdrop:"static",dialogClassName:"dialog-danger",onExited:s,show:d},m)};p.propTypes={children:s.a.node,disabled:s.a.bool,inProgress:s.a.bool,names:s.a.arrayOf(s.a.string).isRequired,objectName:s.a.string.isRequired,onCancel:s.a.func,onConfirm:s.a.func,onExited:s.a.func,show:s.a.bool};var h=p;function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=m()("0.5s"),y=function(e){var t=e.children,n=e.names,c=e.onCancel,o=e.onConfirm,i=e.onExited,s=e.objectName,d=e.show,m=v(Object(a.useState)(!1),2),f=m[0],p=m[1],y=v(Object(a.useState)(!1),2),g=y[0],O=y[1],j=Object(a.useCallback)(function(){p(!0);var e=Object(l.delay)(function(){return O(!0)},b);o().finally(function(){clearTimeout(e),p(!1)})},[o,p,O]),P=Object(a.useCallback)(function(){O(!1),i()},[i,O]);return r.a.createElement(h,{disabled:f,inProgress:g,names:n,objectName:Object(u.b)("objects.".concat(s),{count:n.length}),onCancel:c,onConfirm:j,onExited:P,show:d},t)};y.defaultProps={onExited:l.noop},y.propTypes={children:s.a.node,names:s.a.arrayOf(s.a.string).isRequired,objectName:s.a.string.isRequired,onCancel:s.a.func,onConfirm:s.a.func.isRequired,onExited:s.a.func,show:s.a.bool};var g=y;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var C=function(e){var t=e.onCancel,n=e.onConfirm,c=P(e,["onCancel","onConfirm"]),o=j(Object(a.useState)(!0),2),l=o[0],i=o[1],s=Object(a.useCallback)(function(){i(!1),t()},[t,i]),u=Object(a.useCallback)(function(){return Promise.resolve(n()).finally(function(){return i(!1)})},[n,i]);return r.a.createElement(g,O({onCancel:s,onConfirm:u,show:l},c))};C.defaultProps={onCancel:l.noop},C.propTypes={onCancel:s.a.func,onConfirm:s.a.func.isRequired};var A=C;n.d(t,"b",function(){return E}),n.d(t,"a",function(){return g});var E=function(e){var t=e.children,n=e.names,a=e.objectName,c=e.onCancel,l=e.onConfirm,i=document.getElementById("dialog");o.a.render(r.a.createElement(A,{names:n,objectName:a,onCancel:c,onConfirm:l,onExited:function(){return o.a.unmountComponentAtNode(i)}},t),i)}},1459:function(e,t,n){"use strict";n(31),n(33),n(50),n(373),n(144),n(27),n(67),n(35),n(34),n(374);var a=n(2),r=n.n(a),c=n(122),o=n(23),l=n(38),i=n(214),s=n(142),u=new c.a("".concat(o.a.host).concat(o.a.context,"/json")),d=function(e,t){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new i.a(e)})},m=function(e,t,n){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new i.a(e)})};u.instance={getAll:function(e){return u.serviceCall({url:Object(l.a)("/realm-config/services?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},get:function(e,t){return Promise.all([d(e,t),u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){return{name:e[1]._type.name,schema:e[0],values:new s.a(e[1])}})},getInitialState:function(e,t){return Promise.all([d(e,t),u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=template"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new s.a(e)})]).then(function(e){return{schema:e[0],values:e[1]}})},remove:function(e,t){var n=r.a.map([].concat(t),function(t){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE",suppressSpinner:!0})});return Promise.all(n)},update:function(e,t,n){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:n}).then(function(e){return new s.a(e)})},create:function(e,t,n){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=create"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:new s.a(n).toJSON()})}},u.type={getCreatables:function(e){return u.serviceCall({url:Object(l.a)("/realm-config/services?_action=getCreatableTypes&forUI=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},subSchema:{type:{getAll:function(e,t){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=getAllTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},getCreatables:function(e,t){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=getCreatableTypes"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})}},instance:{getAll:function(e,t){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"?_action=nextdescendents"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},get:function(e,t,n,a){return Promise.all([m(e,t,n),u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"/").concat(a),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){return new s.a(e)})]).then(function(e){return{schema:e[0],values:e[1]}})},getInitialState:function(e,t,n){return Promise.all([m(e,t,n),function(t,n){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"?_action=template"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new s.a(e)})}(t,n)]).then(function(e){return{schema:e[0],values:e[1]}})},remove:function(e,t,n,a){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"/").concat(a),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE",suppressSpinner:!0})},update:function(e,t,n,a,r){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"/").concat(a),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:r})},create:function(e,t,n,a){return u.serviceCall({url:Object(l.a)("/realm-config/services/".concat(t,"/").concat(n,"?_action=create"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})}}}};t.a=u},1663:function(e,t,n){"use strict";n.r(t);n(15),n(36),n(37),n(143),n(33),n(50),n(27),n(67),n(62),n(35),n(34);var a=n(2),r=n.n(a),c=n(14),o=n.n(c),l=n(1410),i=n(123),s=n(52),u=n(41),d=n(1459),m=n(1367),f=n.n(m);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(e){return o()(e).closest("tr").data("serviceId")},v=function(e){return o()(e).closest("tr").data("serviceName")},b=i.a.extend({template:f.a,events:{"change [data-select-service]":"serviceSelected","click [data-delete-service]":"onDeleteSingle","click [data-delete-services]":"onDeleteMultiple","click [data-add-service]":"onAddService"},deleteServices:function(e,t){var n=this;Object(l.b)({names:t,objectName:"service",onConfirm:function(){return d.a.instance.remove(n.data.realmPath,e).then(function(){n.rerender()},function(e){s.a.addMessage({type:s.a.TYPE_DANGER,response:e}),n.rerender()})}})},serviceSelected:function(e){var t=this.$el.find("input[type=checkbox]").is(":checked");o()(e.currentTarget).closest("tr").toggleClass("selected"),this.$el.find("[data-delete-services]").prop("disabled",!t)},onAddService:function(e){e.preventDefault(),u.a.routeTo(u.a.configuration.routes.realmsServiceNew,{args:[encodeURIComponent(this.data.realmPath)],trigger:!0})},onDeleteSingle:function(e){e.preventDefault();var t=h(e.currentTarget),n=v(e.currentTarget);this.deleteServices([t],[n])},onDeleteMultiple:function(e){e.preventDefault();var t=r()(this.$el.find("input[type=checkbox]:checked")).toArray().map(h).value(),n=r()(this.$el.find("input[type=checkbox]:checked")).toArray().map(v).value();this.deleteServices(t,n)},validateAddButton:function(e){r.a.isEmpty(e)&&this.$el.find("[data-add-service]").addClass("disabled").popover({trigger:"hover",container:"body",placement:"top",content:o.a.t("console.services.edit.unavaliable")})},render:function(e,t){var n=this;this.data.args=e,this.data.realmPath=e[0],Promise.all([d.a.instance.getAll(this.data.realmPath),d.a.type.getCreatables(this.data.realmPath)]).then(function(e){var a=p(e,2),c=a[0],o=a[1];n.data.services=r.a.sortBy(c.result,"name");var l=r.a.sortBy(o.result,"name");n.parentRender(function(){n.validateAddButton(l),t&&t()})})},rerender:function(){this.render(this.data.args)}});t.default=b}}]);
//# sourceMappingURL=114.d116011186.js.map