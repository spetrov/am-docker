(window.webpackJsonp=window.webpackJsonp||[]).push([[116,209],{1307:function(e,t,a){var n=a(158);e.exports=(n.default||n).template({1:function(e,t,a,n,r){var o=e.lambda,i=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li><a href="#'+i(o(null!=t?c(t,"_id"):t,t))+'" role="tab" data-toggle="tab" aria-expanded="false">'+i(o(null!=t?c(t,"title"):t,t))+"</a></li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,r){var o,i=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=e.invokePartial(c(n,"headers/_Title"),t,{name:"headers/_Title",hash:{title:"console.authentication.settings.title"},data:r,helpers:a,partials:n,decorators:e.decorators}))?o:"")+'\n\x3c!-- <p class="panel-description">'+e.escapeExpression((c(a,"t")||t&&c(t,"t")||e.hooks.helperMissing).call(i,"console.authentication.settings.description",{name:"t",hash:{},data:r,loc:{start:{line:10,column:34},end:{line:10,column:85}}}))+'</p>--\x3e\n\n<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n'+(null!=(o=c(a,"each").call(i,null!=(o=null!=(o=null!=t?c(t,"formData"):t)?c(o,"schema"):o)?c(o,"orderedProperties"):o,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:14,column:8},end:{line:16,column:17}}}))?o:"")+'    </ul>\n</div>\n\n<div class="panel panel-default fr-panel-tab">\n    <div class="panel-body tab-content">\n        <div role="tabpanel" class="tab-pane" id="tabpanel"></div>\n    </div>\n    <div class="panel-footer clearfix">\n'+(null!=(o=e.invokePartial(c(n,"form/_JSONSchemaFooter"),t,{name:"form/_JSONSchemaFooter",hash:{revert:!0},data:r,indent:"        ",helpers:a,partials:n,decorators:e.decorators}))?o:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})},1433:function(e,t,a){(function(e){var t,a,n,r,o,i,c,s;t=e,n=[],r=!1,o=function(e){clearTimeout(a),a=setTimeout(i,100)},i=function(){for(var e=0,t=n.length;e<t;e++)n[e].apply()},c={register:function(e){n.push(e),!1===r&&(t(window).bind("resize",o),r=!0)},unregister:function(e){for(var t=0,a=n.length;t<a;t++)if(n[t]==e){delete n[t];break}}},(s=function(e,a){this.element=t(e),this.dropdown=t('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+a.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element),this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup"),c.register(t.proxy(this.layout,this)),this.layout()}).prototype={constructor:s,layout:function(){var e=[];this.dropdown.removeClass("hide"),this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&e.push(this)}),e.length>0?(e=t(e),this.dropdown.find("ul").empty().append(e),1==this.dropdown.find(".active").length?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}},t.fn.tabdrop=function(e){return this.each(function(){var a=t(this),n=a.data("tabdrop"),r="object"==typeof e&&e;n||a.data("tabdrop",n=new s(this,t.extend({},t.fn.tabdrop.defaults,r))),"string"==typeof e&&n[e]()})},t.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'},t.fn.tabdrop.Constructor=s}).call(this,a(14))},1437:function(e,t,a){"use strict";a(15),a(36),a(37),a(31),a(33),a(50),a(144),a(27),a(67),a(62),a(35),a(34);var n=a(2),r=a(14),o=a.n(r),i=a(122),c=a(23),s=a(38),l=a(214),u=a(142),d=a(273);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=new i.a("".concat(c.a.host).concat(c.a.context,"/json"));h.authentication={get:function(e){return d.a.schemaWithValues(h,Object(s.a)("/realm-config/authentication",{realm:e}))},update:function(e,t){return h.serviceCall({url:Object(s.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(t)})},chains:{all:function(e){return Promise.all([h.serviceCall({url:Object(s.a)("/realm-config/authentication/chains?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),h.serviceCall({url:Object(s.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=p(e,2),a=t[0],r=t[1];return Object(n.each)(a.result,function(e){e._id===r.adminAuthModule&&(e.defaultConfig=e.defaultConfig||{},e.defaultConfig.adminAuthModule=!0),e._id===r.orgConfig&&(e.defaultConfig=e.defaultConfig||{},e.defaultConfig.orgConfig=!0)}),{values:a}})},create:function(e,t){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/chains?_action=create",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(t)})},get:function(e,t){var a;return Promise.all([h.serviceCall({url:Object(s.a)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),h.serviceCall({url:Object(s.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=p(e,3),r=t[0],o=t[1],i=t[2];return o._id===r.adminAuthModule&&(o.adminAuthModule=!0),o._id===r.orgConfig&&(o.orgConfig=!0),o.authChainConfiguration=o.authChainConfiguration||[],Object(n.each)(o.authChainConfiguration,function(e){(a=Object(n.find)(i.result,{_id:e.module}))&&(e.type=a.type)}),{chainData:o,modulesData:Object(n.sortBy)(i.result,"_id")}})},remove:function(e,t){var a=t.map(function(t){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},suppressSpinner:!0,type:"DELETE"})});return Promise.all(a)},update:function(e,t,a){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/chains/".concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})}},modules:{all:function(e){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return Object(n.sortBy)(t,"_id")})},create:function(e,t,a){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules/".concat(a,"?_action=create"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(t)})},get:function(e,t,a){return Promise.all([this.schema(e,a),h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),this.types.get(e,a)]).then(function(e){var t=p(e,3),a=t[0],n=t[1];return{name:t[2].name,schema:a,values:new u.a(n)}})},exists:function(e,t){var a=o.a.Deferred(),n="_queryFilter=".concat(encodeURIComponent('_id eq "'.concat(t,'"')),"&_fields=_id");return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules?".concat(n),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){a.resolve(e.result.length>0)}),a},remove:function(e,t,a){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},suppressSpinner:!0,type:"DELETE"})},update:function(e,t,a,n){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules/".concat(a,"/").concat(t),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:n}).then(function(e){return new u.a(e)})},types:{all:function(e){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules?_action=getAllTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return Object(n.sortBy)(t,"name")})},get:function(e,t){return h.authentication.modules.types.all(e).then(function(e){return Object(n.find)(e,{_id:t})})}},schema:function(e,t){return h.serviceCall({url:Object(s.a)("/realm-config/authentication/modules/".concat(t,"?_action=schema"),{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new l.a(e)})}}},t.a=h},1731:function(e,t,a){"use strict";a.r(t);a(143),a(33),a(368),a(27),a(34),a(1433);var n=a(16),r=a(2),o=a.n(r),i=a(14),c=a.n(i),s=a(123),l=a(1437),u=(a(17),a(115),a(50),a(124),a(1413),a(1411),a(1414)),d=a.n(u),p=a(1416),h=function(e,t,a){console.warn('[Form] "Form" is deprecated. Use a FlatJSONSchemaView or GroupedJSONSchemaView instead.'),this.element=e,this.schema=t,this.values=a;var n=o.a.filter(t.properties,{format:"password"});this.passwordAttributes=o.a.map(n,function(e){return o.a.findKey(t.properties,e)}),d.a.plugins.selectize.enable=!0,d.a.defaults.themes.openam=p.a.getTheme(6,4),this.editor=new d.a(e,{disable_collapse:!0,disable_edit_json:!0,iconlib:"fontawesome4",schema:t,theme:"openam"}),c()(e).find("input:password").attr("placeholder",c.a.t("common.form.passwordPlaceholder")),c()(e).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(){var e=c()(this).parent(),t=c()('<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway" ><i class="fa fa-info-circle"></i></a>');c()(e).append(t),t.popoverclickaway({container:"#content",html:!0,placement:"auto top",content:this.innerHTML}),t.click(function(e){e.preventDefault()})}),this.reset()};h.prototype.data=function(){return e=this.editor.getValue(),t=this.passwordAttributes,o.a.omitBy(e,function(e,a){return!!o.a.includes(t,a)&&o.a.isEmpty(e)});var e,t},h.prototype.reset=function(){this.editor.setValue(o.a.pick(this.values,o.a.keys(this.schema.properties)))},h.prototype.destroy=function(){this.editor.destroy()};var f=h,m=a(52),v=a(1307),b=a.n(v),g=a(273),y=s.a.extend({template:b.a,events:{"click [data-revert]":"revert","click [data-save]":"save","show.bs.tab ul.nav.nav-tabs a":"renderTab"},render:function(e,t){var a=this;this.data.realmLocation=e[0],l.a.authentication.get(this.data.realmLocation).then(function(e){a.data.formData=e,a.parentRender(function(){a.$el.find("div.tab-pane").show(),a.$el.find("ul.nav a:first").tab("show"),a.$el.find(".tab-menu .nav-tabs").tabdrop(),t&&t()})},function(e){m.a.addMessage({type:m.a.TYPE_DANGER,response:e})})},renderTab:function(e){this.$el.find("#tabpanel").empty();var t=c()(e.target).attr("href").slice(1),a=g.a.sanitizeSchema(this.data.formData.schema.properties[t]),n=this.$el.find("#tabpanel").get(0);this.data.form=new f(n,a,this.data.formData.values[t]),this.$el.find("[data-header]").parent().hide()},revert:function(){this.data.form.reset()},save:function(){var e=this.data.form.data(),t=this;l.a.authentication.update(this.data.realmLocation,e).then(function(e){o.a.extend(t.data.formData.values,e),m.a.addMessage({message:Object(n.b)("config.messages.CommonMessages.changesSaved")})},function(e){m.a.addMessage({type:m.a.TYPE_DANGER,response:e})})}});t.default=y}}]);
//# sourceMappingURL=116.6f40410884.js.map