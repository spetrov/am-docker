(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{418:function(e,t,s){"use strict";var a=s(2),r=s.n(a),n=s(550),l=s.n(n);l.a.HeaderCell.prototype.render=function(){this.$el.empty();var e,t=this.column;return e=l.a.callByNeed(t.sortable(),t,this.collection)?r()("<a>").text(t.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.attr("data-field",t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this},t.a=l.a},419:function(e,t,s){"use strict";s(46),s(65),s(66),s(29),s(83),s(110),s(84),s(45),s(90),s(179),s(19),s(111),s(62),s(51),s(222),s(557);var a=s(0),r=s.n(a),n=s(2),l=s.n(n),i=s(418);i.a.Extension.ThemeableServerSideFilter=i.a.Extension.ServerSideFilter.extend({events:r.a.extend(i.a.Extension.ServerSideFilter.prototype.events,{"keyup input[type=search]":"keyupSearch"}),keyupSearch:function(e){e.preventDefault(),this.showClearButtonMaybe(e),this.minimumSearchChars&&l()(e.target).val().length>=this.minimumSearchChars&&this.search(e)},className:"form-group has-feedback",template:function(e){var t=e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",s=e.value?'value="'.concat(e.value,'"'):"";return'<input class="form-control input-sm" type="search" '.concat(t,' name="').concat(e.name,'" ').concat(s,"/>")+"<a class='fa fa-times form-control-feedback' data-backgrid-action='clear' role='button' href='#'></a>"}});i.a.Extension.ThemeableServerSideFilter;var o=s(61),c=s.n(o),u=s(417),d=s.n(u),h=s(70),m=s(20);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={};p.DatetimeAgoCell=i.a.Cell.extend({className:"date-time-ago-cell",formatter:{fromRaw:function(e){return d()(e).fromNow()}},render:function(){return p.DatetimeAgoCell.__super__.render.apply(this),this.$el.attr("title",d()(this.model.get(this.column.get("name"))).format("Do MMMM YYYY, h:mm:ssa")),this}}),p.ArrayCell=i.a.Cell.extend({className:"array-formatter-cell",buildHtml:function(e){for(var t="<ul>",s=0;s<e.length;s++)r.a.isString(e[s])?t+="<li>".concat(e[s],"</li>"):t+="<li>".concat(JSON.stringify(e[s]),"</li>");return t+="</ul>"},render:function(){this.$el.empty();var e=this.model.get(this.column.attributes.name);return this.$el.append(this.buildHtml(e)),this.delegateEvents(),this}}),p.ObjectCell=i.a.Cell.extend({className:"object-formatter-cell",render:function(){this.$el.empty();var e,t=this.model.get(this.column.attributes.name),s='<dl class="dl-horizontal">';for(e in t)r.a.isString(t[e])?s+="<dt>".concat(e,"</dt><dd>").concat(t[e],"</dd>"):s+="<dt>".concat(e,"</dt><dd>").concat(JSON.stringify(t[e]),"</dd>");return s+="</dl>",this.$el.append(s),this.delegateEvents(),this}}),p.UniversalIdToUsername=i.a.Cell.extend({formatter:{fromRaw:function(e){return e.substring(3,e.indexOf(",ou=user"))}},render:function(){return p.UniversalIdToUsername.__super__.render.apply(this),this.$el.attr("title",this.model.get(this.column.get("name"))),this}}),p.ClickableRow=i.a.Row.extend({events:{click:"onClick",keyup:"onKeyup"},onKeyup:function(e){13===e.keyCode&&this.callback&&this.callback(e)},onClick:function(e){this.callback&&this.callback(e)}}),p.TemplateCell=i.a.Cell.extend({className:"template-cell",render:function(){var e=this.template(this.model);return this.$el.html(e),this.rendered&&this.rendered(),this.delegateEvents(),this}}),p.ClassHeaderCell=i.a.HeaderCell.extend({className:"",render:function(){return p.ClassHeaderCell.__super__.render.apply(this),this.delegateEvents(),this}}),p.UriExtCell=i.a.UriCell.extend({events:{click:"gotoUrl"},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model),s=r.a.isFunction(this.column.get("href"))?this.column.get("href")(e,t,this.model):this.column.get("href");return this.$el.append(l()("<a>",{href:s||e,title:this.title||t}).text(t)),s&&(this.$el.data("href",s),this.$el.prop("title",this.title||t)),this.delegateEvents(),this},gotoUrl:function(e){e.preventDefault();var t=l()(e.currentTarget).data("href");m.a.navigate(t,{trigger:!0})}}),p.FilterHeaderCell=i.a.HeaderCell.extend({className:"filter-header-cell enable-pointer",render:function(){var e=new i.a.Extension.ThemeableServerSideFilter({name:this.column.get("name"),placeholder:l.a.t("common.form.filter"),collection:this.collection});return this.addClassName&&this.$el.addClass(this.addClassName),this.collection.state.filters=this.collection.state.filters?this.collection.state.filters:[],this.collection.state.filters.push(e),p.FilterHeaderCell.__super__.render.apply(this),this.$el.prepend(e.render().el),this}}),p.queryFilter=function(e){void 0===e&&(e={});var t=[],s=e._queryFilter||[],a=e&&e.filterName&&"eq"===e.filterName?function(e,t){return"".concat(e,"+eq+").concat(encodeURIComponent('"*'.concat(t,'*"')))}:function(e,t){return"".concat(e,"+co+").concat(encodeURIComponent('"'.concat(t,'"')))};return r.a.each(this.state.filters,function(e){""!==e.query()&&t.push(a(e.name,e.query()))}),0===(t=t.concat(s)).length||t.join("+AND+")},p.parseState=function(e){return this.state.totalRecords||(this.state.totalRecords=e.remainingPagedResults+e.resultCount),this.state.totalPages||(this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize)),this.state},p.pagedResultsOffset=function(){return(this.state.currentPage-1)*this.state.pageSize},p.sortKeys=function(){return 1===this.state.order?"-".concat(this.state.sortKey):this.state.sortKey},p.sync=function(e,t,s){var a=[],n=["_pageSize","_pagedResultsOffset","_sortKeys"];return"*"===s.data._queryId&&!0===s.data._queryFilter?n.push("_queryId"):n.push("_queryFilter"),r.a.forIn(s.data,function(e,t){r.a.includes(n,t)&&a.push("".concat(t,"=").concat(e))}),s.data=a.join("&"),s.processData=!1,s.beforeSend||(s.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")}),s.error=function(e){h.a.addMessage({type:h.a.TYPE_DANGER,response:e})},c.a.sync(e,t,s)},p.parseRecords=function(e){return e.result},p.getQueryParams=function(e){return e=e||{},{_sortKeys:this.sortKeys,_queryFilter:function(){return p.queryFilter.call(this,e)},pageSize:"_pageSize",_pagedResultsOffset:this.pagedResultsOffset}},p.doubleSortFix=function(e){var t=e.cid,s=e.collection.filter(function(e){return e.cid!==t});r.a.each(s,function(e){e.set("direction",null)})},p.getState=function(e){var t={pageSize:20,sortKey:"name"};return e&&"object"===f(e)&&r.a.extend(t,e),t};t.a=p},553:function(e,t,s){"use strict";s(89),s(556);var a=s(2),r=s.n(a),n=s(418);n.a.Extension.ThemeablePaginator=n.a.Extension.Paginator.extend({className:"text-center",controls:{rewind:{label:"&laquo;",title:r.a.t("common.grid.pagination.first")},back:{label:"&lsaquo;",title:r.a.t("common.grid.pagination.previous")},forward:{label:"&rsaquo;",title:r.a.t("common.grid.pagination.next")},fastForward:{label:"&raquo;",title:r.a.t("common.grid.pagination.last")}},ulClassName:"pagination",render:function(){return n.a.Extension.Paginator.prototype.render.call(this),this.ulClassName&&this.$el.find("ul").addClass(this.ulClassName),this}});n.a.Extension.ThemeablePaginator},555:function(e,t,s){var a={"./af":421,"./af.js":421,"./ar":422,"./ar-dz":423,"./ar-dz.js":423,"./ar-kw":424,"./ar-kw.js":424,"./ar-ly":425,"./ar-ly.js":425,"./ar-ma":426,"./ar-ma.js":426,"./ar-sa":427,"./ar-sa.js":427,"./ar-tn":428,"./ar-tn.js":428,"./ar.js":422,"./az":429,"./az.js":429,"./be":430,"./be.js":430,"./bg":431,"./bg.js":431,"./bm":432,"./bm.js":432,"./bn":433,"./bn.js":433,"./bo":434,"./bo.js":434,"./br":435,"./br.js":435,"./bs":436,"./bs.js":436,"./ca":437,"./ca.js":437,"./cs":438,"./cs.js":438,"./cv":439,"./cv.js":439,"./cy":440,"./cy.js":440,"./da":441,"./da.js":441,"./de":442,"./de-at":443,"./de-at.js":443,"./de-ch":444,"./de-ch.js":444,"./de.js":442,"./dv":445,"./dv.js":445,"./el":446,"./el.js":446,"./en-SG":447,"./en-SG.js":447,"./en-au":448,"./en-au.js":448,"./en-ca":449,"./en-ca.js":449,"./en-gb":450,"./en-gb.js":450,"./en-ie":451,"./en-ie.js":451,"./en-il":452,"./en-il.js":452,"./en-nz":453,"./en-nz.js":453,"./eo":454,"./eo.js":454,"./es":455,"./es-do":456,"./es-do.js":456,"./es-us":457,"./es-us.js":457,"./es.js":455,"./et":458,"./et.js":458,"./eu":459,"./eu.js":459,"./fa":460,"./fa.js":460,"./fi":461,"./fi.js":461,"./fo":462,"./fo.js":462,"./fr":463,"./fr-ca":464,"./fr-ca.js":464,"./fr-ch":465,"./fr-ch.js":465,"./fr.js":463,"./fy":466,"./fy.js":466,"./ga":467,"./ga.js":467,"./gd":468,"./gd.js":468,"./gl":469,"./gl.js":469,"./gom-latn":470,"./gom-latn.js":470,"./gu":471,"./gu.js":471,"./he":472,"./he.js":472,"./hi":473,"./hi.js":473,"./hr":474,"./hr.js":474,"./hu":475,"./hu.js":475,"./hy-am":476,"./hy-am.js":476,"./id":477,"./id.js":477,"./is":478,"./is.js":478,"./it":479,"./it-ch":480,"./it-ch.js":480,"./it.js":479,"./ja":481,"./ja.js":481,"./jv":482,"./jv.js":482,"./ka":483,"./ka.js":483,"./kk":484,"./kk.js":484,"./km":485,"./km.js":485,"./kn":486,"./kn.js":486,"./ko":487,"./ko.js":487,"./ku":488,"./ku.js":488,"./ky":489,"./ky.js":489,"./lb":490,"./lb.js":490,"./lo":491,"./lo.js":491,"./lt":492,"./lt.js":492,"./lv":493,"./lv.js":493,"./me":494,"./me.js":494,"./mi":495,"./mi.js":495,"./mk":496,"./mk.js":496,"./ml":497,"./ml.js":497,"./mn":498,"./mn.js":498,"./mr":499,"./mr.js":499,"./ms":500,"./ms-my":501,"./ms-my.js":501,"./ms.js":500,"./mt":502,"./mt.js":502,"./my":503,"./my.js":503,"./nb":504,"./nb.js":504,"./ne":505,"./ne.js":505,"./nl":506,"./nl-be":507,"./nl-be.js":507,"./nl.js":506,"./nn":508,"./nn.js":508,"./pa-in":509,"./pa-in.js":509,"./pl":510,"./pl.js":510,"./pt":511,"./pt-br":512,"./pt-br.js":512,"./pt.js":511,"./ro":513,"./ro.js":513,"./ru":514,"./ru.js":514,"./sd":515,"./sd.js":515,"./se":516,"./se.js":516,"./si":517,"./si.js":517,"./sk":518,"./sk.js":518,"./sl":519,"./sl.js":519,"./sq":520,"./sq.js":520,"./sr":521,"./sr-cyrl":522,"./sr-cyrl.js":522,"./sr.js":521,"./ss":523,"./ss.js":523,"./sv":524,"./sv.js":524,"./sw":525,"./sw.js":525,"./ta":526,"./ta.js":526,"./te":527,"./te.js":527,"./tet":528,"./tet.js":528,"./tg":529,"./tg.js":529,"./th":530,"./th.js":530,"./tl-ph":531,"./tl-ph.js":531,"./tlh":532,"./tlh.js":532,"./tr":533,"./tr.js":533,"./tzl":534,"./tzl.js":534,"./tzm":535,"./tzm-latn":536,"./tzm-latn.js":536,"./tzm.js":535,"./ug-cn":537,"./ug-cn.js":537,"./uk":538,"./uk.js":538,"./ur":539,"./ur.js":539,"./uz":540,"./uz-latn":541,"./uz-latn.js":541,"./uz.js":540,"./vi":542,"./vi.js":542,"./x-pseudo":543,"./x-pseudo.js":543,"./yo":544,"./yo.js":544,"./zh-cn":545,"./zh-cn.js":545,"./zh-hk":546,"./zh-hk.js":546,"./zh-tw":547,"./zh-tw.js":547};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=555},654:function(e,t,s){"use strict";s.r(t);s(29),s(89),s(549),s(553);var a=s(0),r=s.n(a),n=s(2),l=s.n(n),i=s(61),o=s.n(i),c=s(86),u=s(418),d=s(419),h=s(3),m=s(4),f=s(116),p=c.a.extend({template:"user/uma/views/history/ListHistory",baseTemplate:"common/DefaultBaseTemplate",events:{},render:function(){var e=this,t=new(o.a.PageableCollection.extend({url:"".concat(m.a.context,"/json").concat(Object(f.a)("/users/".concat(h.a.loggedUser.get("username"),"/uma/auditHistory"))),state:{pageSize:10,sortKey:"eventTime",order:1},queryParams:{pageSize:"_pageSize",_sortKeys:d.a.sortKeys,_queryFilter:d.a.queryFilter,_pagedResultsOffset:d.a.pagedResultsOffset},parseState:d.a.parseState,parseRecords:d.a.parseRecords,sync:d.a.sync})),s=new u.a.Grid({columns:[{name:"requestingPartyName",label:l.a.t("uma.history.grid.header.0"),headerCell:d.a.FilterHeaderCell,cell:"string",editable:!1,sortType:"toggle"},{name:"resourceSetName",label:l.a.t("uma.history.grid.header.1"),headerCell:d.a.FilterHeaderCell,cell:d.a.UriExtCell,href:function(e,t,s){return"#uma/resources/myresources/all/".concat(encodeURIComponent(s.get("resourceSetId")))},editable:!1,sortType:"toggle"},{name:"type",label:l.a.t("uma.history.grid.header.2"),cell:"string",formatter:r.a.extend({},u.a.CellFormatter.prototype,{fromRaw:function(e){return l.a.t("uma.history.grid.types.".concat(e.toLowerCase()))}}),editable:!1,sortType:"toggle"},{name:"eventTime",label:l.a.t("uma.history.grid.header.3"),cell:d.a.DatetimeAgoCell,editable:!1,sortType:"toggle"}],emptyText:l.a.t("console.common.noResults"),className:"backgrid table",collection:t});t.on("backgrid:sort",d.a.doubleSortFix);var a=new u.a.Extension.ThemeablePaginator({collection:t,windowSize:3});this.parentRender(function(){e.$el.find(".table-container").append(s.render().el),e.$el.find(".panel-body").append(a.render().el),t.fetch({processData:!1,reset:!0})})}});t.default=new p}}]);
//# sourceMappingURL=107.9b1abef550.js.map