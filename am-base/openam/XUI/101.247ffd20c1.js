(window.webpackJsonp=window.webpackJsonp||[]).push([[101,11],{418:function(e,t,a){"use strict";var s=a(2),r=a.n(s),n=a(550),i=a.n(n);i.a.HeaderCell.prototype.render=function(){this.$el.empty();var e,t=this.column;return e=i.a.callByNeed(t.sortable(),t,this.collection)?r()("<a>").text(t.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.attr("data-field",t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this},t.a=i.a},419:function(e,t,a){"use strict";a(46),a(65),a(66),a(29),a(83),a(110),a(84),a(45),a(90),a(179),a(19),a(111),a(62),a(51),a(222),a(557);var s=a(0),r=a.n(s),n=a(2),i=a.n(n),o=a(418);o.a.Extension.ThemeableServerSideFilter=o.a.Extension.ServerSideFilter.extend({events:r.a.extend(o.a.Extension.ServerSideFilter.prototype.events,{"keyup input[type=search]":"keyupSearch"}),keyupSearch:function(e){e.preventDefault(),this.showClearButtonMaybe(e),this.minimumSearchChars&&i()(e.target).val().length>=this.minimumSearchChars&&this.search(e)},className:"form-group has-feedback",template:function(e){var t=e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",a=e.value?'value="'.concat(e.value,'"'):"";return'<input class="form-control input-sm" type="search" '.concat(t,' name="').concat(e.name,'" ').concat(a,"/>")+"<a class='fa fa-times form-control-feedback' data-backgrid-action='clear' role='button' href='#'></a>"}});o.a.Extension.ThemeableServerSideFilter;var l=a(61),c=a.n(l),u=a(417),d=a.n(u),h=a(70),f=a(20);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m={};m.DatetimeAgoCell=o.a.Cell.extend({className:"date-time-ago-cell",formatter:{fromRaw:function(e){return d()(e).fromNow()}},render:function(){return m.DatetimeAgoCell.__super__.render.apply(this),this.$el.attr("title",d()(this.model.get(this.column.get("name"))).format("Do MMMM YYYY, h:mm:ssa")),this}}),m.ArrayCell=o.a.Cell.extend({className:"array-formatter-cell",buildHtml:function(e){for(var t="<ul>",a=0;a<e.length;a++)r.a.isString(e[a])?t+="<li>".concat(e[a],"</li>"):t+="<li>".concat(JSON.stringify(e[a]),"</li>");return t+="</ul>"},render:function(){this.$el.empty();var e=this.model.get(this.column.attributes.name);return this.$el.append(this.buildHtml(e)),this.delegateEvents(),this}}),m.ObjectCell=o.a.Cell.extend({className:"object-formatter-cell",render:function(){this.$el.empty();var e,t=this.model.get(this.column.attributes.name),a='<dl class="dl-horizontal">';for(e in t)r.a.isString(t[e])?a+="<dt>".concat(e,"</dt><dd>").concat(t[e],"</dd>"):a+="<dt>".concat(e,"</dt><dd>").concat(JSON.stringify(t[e]),"</dd>");return a+="</dl>",this.$el.append(a),this.delegateEvents(),this}}),m.UniversalIdToUsername=o.a.Cell.extend({formatter:{fromRaw:function(e){return e.substring(3,e.indexOf(",ou=user"))}},render:function(){return m.UniversalIdToUsername.__super__.render.apply(this),this.$el.attr("title",this.model.get(this.column.get("name"))),this}}),m.ClickableRow=o.a.Row.extend({events:{click:"onClick",keyup:"onKeyup"},onKeyup:function(e){13===e.keyCode&&this.callback&&this.callback(e)},onClick:function(e){this.callback&&this.callback(e)}}),m.TemplateCell=o.a.Cell.extend({className:"template-cell",render:function(){var e=this.template(this.model);return this.$el.html(e),this.rendered&&this.rendered(),this.delegateEvents(),this}}),m.ClassHeaderCell=o.a.HeaderCell.extend({className:"",render:function(){return m.ClassHeaderCell.__super__.render.apply(this),this.delegateEvents(),this}}),m.UriExtCell=o.a.UriCell.extend({events:{click:"gotoUrl"},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model),a=r.a.isFunction(this.column.get("href"))?this.column.get("href")(e,t,this.model):this.column.get("href");return this.$el.append(i()("<a>",{href:a||e,title:this.title||t}).text(t)),a&&(this.$el.data("href",a),this.$el.prop("title",this.title||t)),this.delegateEvents(),this},gotoUrl:function(e){e.preventDefault();var t=i()(e.currentTarget).data("href");f.a.navigate(t,{trigger:!0})}}),m.FilterHeaderCell=o.a.HeaderCell.extend({className:"filter-header-cell enable-pointer",render:function(){var e=new o.a.Extension.ThemeableServerSideFilter({name:this.column.get("name"),placeholder:i.a.t("common.form.filter"),collection:this.collection});return this.addClassName&&this.$el.addClass(this.addClassName),this.collection.state.filters=this.collection.state.filters?this.collection.state.filters:[],this.collection.state.filters.push(e),m.FilterHeaderCell.__super__.render.apply(this),this.$el.prepend(e.render().el),this}}),m.queryFilter=function(e){void 0===e&&(e={});var t=[],a=e._queryFilter||[],s=e&&e.filterName&&"eq"===e.filterName?function(e,t){return"".concat(e,"+eq+").concat(encodeURIComponent('"*'.concat(t,'*"')))}:function(e,t){return"".concat(e,"+co+").concat(encodeURIComponent('"'.concat(t,'"')))};return r.a.each(this.state.filters,function(e){""!==e.query()&&t.push(s(e.name,e.query()))}),0===(t=t.concat(a)).length||t.join("+AND+")},m.parseState=function(e){return this.state.totalRecords||(this.state.totalRecords=e.remainingPagedResults+e.resultCount),this.state.totalPages||(this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize)),this.state},m.pagedResultsOffset=function(){return(this.state.currentPage-1)*this.state.pageSize},m.sortKeys=function(){return 1===this.state.order?"-".concat(this.state.sortKey):this.state.sortKey},m.sync=function(e,t,a){var s=[],n=["_pageSize","_pagedResultsOffset","_sortKeys"];return"*"===a.data._queryId&&!0===a.data._queryFilter?n.push("_queryId"):n.push("_queryFilter"),r.a.forIn(a.data,function(e,t){r.a.includes(n,t)&&s.push("".concat(t,"=").concat(e))}),a.data=s.join("&"),a.processData=!1,a.beforeSend||(a.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")}),a.error=function(e){h.a.addMessage({type:h.a.TYPE_DANGER,response:e})},c.a.sync(e,t,a)},m.parseRecords=function(e){return e.result},m.getQueryParams=function(e){return e=e||{},{_sortKeys:this.sortKeys,_queryFilter:function(){return m.queryFilter.call(this,e)},pageSize:"_pageSize",_pagedResultsOffset:this.pagedResultsOffset}},m.doubleSortFix=function(e){var t=e.cid,a=e.collection.filter(function(e){return e.cid!==t});r.a.each(a,function(e){e.set("direction",null)})},m.getState=function(e){var t={pageSize:20,sortKey:"name"};return e&&"object"===g(e)&&r.a.extend(t,e),t};t.a=m},420:function(e,t,a){"use strict";a(179),a(563);var s=a(0),r=a.n(s),n=a(2),i=a.n(n),o=a(61),l=a.n(o);t.a=l.a.RelationalModel.extend({parse:function(e){return r.a.isUrl(e.id)?e=this.resolve(e.id):e.name=e.id,e},resolve:function(e){var t={id:e,name:e};return i.a.ajax({async:!1,dataType:"json",success:function(e){t.name=e.name,t.icon_uri=e.icon_uri},url:e}),t},sync:function(e,t,a){return a.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")},l.a.Model.prototype.sync.call(this,e,t,a)}})},548:function(e,t,a){"use strict";var s=a(61),r=a.n(s),n=a(420);t.a=r.a.RelationalModel.extend({idAttribute:"subject",relations:[{type:r.a.HasMany,key:"scopes",relatedModel:n.a,includeInJSON:r.a.Model.prototype.idAttribute,parse:!0}],validate:function(e){return e.subject?e.scopes&&e.scopes.length?void 0:"no scopes":"no subject"}})},549:function(e,t,a){
/*
  backbone.paginator
  http://github.com/backbone-paginator/backbone.paginator

  Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors

  @module
  @license MIT
*/
e.exports=function(e,t){"use strict";var a=e.extend,s=e.omit,r=e.clone,n=e.each,i=e.pick,o=e.includes,l=e.isEmpty,c=e.pairs||e.toPairs,u=e.invert,d=e.isArray,h=e.isFunction,f=e.isObject,g=e.keys,m=e.isUndefined,p=Math.ceil,v=Math.floor,b=Math.max,y=t.Collection.prototype;function P(t,a){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+a+"` must be a finite integer");return t}function j(e,t,a){var s=e._events[t];if(s&&s.length){var r=s[s.length-1],n=r.callback;r.callback=function(){try{n.apply(this,arguments),a()}catch(e){throw e}finally{r.callback=n}}}else a()}var C=/[\s'"]/g,S=/[<>\s'"]/g,R=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){y.constructor.apply(this,arguments),t=t||{};var s=this.mode=t.mode||this.mode||k.mode,n=a({},k.queryParams,this.queryParams,t.queryParams||{});n.directions=a({},k.queryParams.directions,this.queryParams.directions,n.directions),this.queryParams=n;var i=this.state=a({},k.state,this.state,t.state);i.currentPage=null==i.currentPage?i.firstPage:i.currentPage,d(e)||(e=e?[e]:[]),e=e.slice(),"server"==s||null!=i.totalRecords||l(e)||(i.totalRecords=this.length),this.switchMode(s,a({fetch:!1,resetState:!1,models:e},t));var o=t.comparator;if(i.sortKey&&!o&&this.setSorting(i.sortKey,i.order,t),"server"!=s){var c=this.fullCollection;o&&t.full&&(this.comparator=null,c.comparator=o),t.full&&c.sort(),l(e)||this.getPage(i.currentPage)}this._initState=r(this.state)},_makeFullCollection:function(e,a){var s,r,n,i=["url","model","sync","comparator"],o=this.constructor.prototype,l={};for(s=0,r=i.length;s<r;s++)m(o[n=i[s]])||(l[n]=o[n]);var c=new(t.Collection.extend(l))(e,a);for(s=0,r=i.length;s<r;s++)this[n=i[s]]!==o[n]&&(c[n]=this[n]);return c},_makeCollectionEventHandler:function(e,t){return function(s,i,o,l){var c=e._handlers;n(g(c),function(a){var s=c[a];e.off(a,s),t.off(a,s)});var u=r(e.state),d=u.firstPage,h=0===d?u.currentPage:u.currentPage-1,f=u.pageSize,v=h*f,b=v+f;if("add"==s){var y,P,C,l=l||{};if(o==t)(P=t.indexOf(i))>=v&&P<b&&(C=e,y=S=P-v);else{y=e.indexOf(i),P=v+y,C=t;var S=m(l.at)?P:l.at+v}if(l.onRemove||(++u.totalRecords,delete l.onRemove),e.state=e._checkState(u),C){C.add(i,a({},l,{at:S}));var R=y>=f?i:!m(l.at)&&S<b&&e.length>f?e.at(f):null;R&&j(o,s,function(){e.remove(R,{onAdd:!0})})}l.silent||e.trigger("pageable:state:change",e.state)}if("remove"==s){if(l.onAdd)delete l.onAdd;else{if(--u.totalRecords){var k=u.totalPages=p(u.totalRecords/f);u.lastPage=0===d?k-1:k||d,u.currentPage>k&&(u.currentPage=u.lastPage)}else u.totalRecords=null,u.totalPages=null;e.state=e._checkState(u);var w,_=l.index;o==e?((w=t.at(b))?j(e,s,function(){e.push(w,{onRemove:!0})}):!e.length&&u.totalRecords&&e.reset(t.models.slice(v-f,b-f),a({},l,{parse:!1})),t.remove(i)):_>=v&&_<b&&((w=t.at(b-1))&&j(e,s,function(){e.push(w,{onRemove:!0})}),e.remove(i),!e.length&&u.totalRecords&&e.reset(t.models.slice(v-f,b-f),a({},l,{parse:!1})))}l.silent||e.trigger("pageable:state:change",e.state)}if("reset"==s){if(l=o,(o=i)==e&&null==l.from&&null==l.to){var x=t.models.slice(0,v),E=t.models.slice(v+e.models.length);t.reset(x.concat(e.models).concat(E),l)}else o==t&&((u.totalRecords=t.models.length)||(u.totalRecords=null,u.totalPages=null),"client"==e.mode&&(d=u.lastPage=u.currentPage=u.firstPage,h=0===d?u.currentPage:u.currentPage-1,b=(v=h*f)+f),e.state=e._checkState(u),e.reset(t.models.slice(v,b),a({},l,{parse:!1})));l.silent||e.trigger("pageable:state:change",e.state)}"sort"==s&&(l=o,(o=i)===t&&e.reset(t.models.slice(v,b),a({},l,{parse:!1}))),n(g(c),function(a){var s=c[a];n([e,t],function(e){e.on(a,s);var t=e._events[a]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,a=this.links,s=e.totalRecords,r=e.pageSize,n=e.currentPage,i=e.firstPage,o=e.totalPages;if(null!=s&&null!=r&&null!=n&&null!=i&&("infinite"!=t||a)){if(s=P(s,"totalRecords"),r=P(r,"pageSize"),n=P(n,"currentPage"),i=P(i,"firstPage"),r<1)throw new RangeError("`pageSize` must be >= 1");if(o=e.totalPages=p(s/r),i<0||i>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===i?b(0,o-1):o||i,"infinite"==t){if(!a[n])throw new RangeError("No link found for page "+n)}else if(n<i||o>0&&(i?n>o:n>=o))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(i?"<":"<=")+" totalPages if "+i+"-based. Got "+n+".")}return e},setPageSize:function(e,t){e=P(e,"pageSize"),t=t||{first:!1};var r=this.state,n=p(r.totalRecords/e),i=n?b(r.firstPage,v(n*r.currentPage/r.totalPages)):r.firstPage;return r=this.state=this._checkState(a({},r,{pageSize:e,currentPage:t.first?r.firstPage:i,totalPages:n})),this.getPage(r.currentPage,s(t,["first"]))},switchMode:function(t,i){if(!o(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');i=i||{fetch:!0,resetState:!0};var l=this.state=i.resetState?r(this._initState):this._checkState(a({},this.state));this.mode=t;var c,u=this,d=this.fullCollection,h=this._handlers=this._handlers||{};if("server"==t||d)"server"==t&&d&&(n(g(h),function(e){c=h[e],u.off(e,c),d.off(e,c)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{(d=this._makeFullCollection(i.models||[],i)).pageableCollection=this,this.fullCollection=d;var f=this._makeCollectionEventHandler(this,d);n(["add","remove","reset","sort"],function(t){h[t]=c=e.bind(f,{},t),u.on(t,c),d.on(t,c)}),d.comparator=this._fullComparator}if("infinite"==t)for(var m=this.links={},v=l.firstPage,y=p(l.totalRecords/l.pageSize),P=0===v?b(0,y-1):y||v,j=l.firstPage;j<=P;j++)m[j]=this.url;else this.links&&delete this.links;return i.silent||this.trigger("pageable:state:change",l),i.fetch?this.fetch(s(i,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var r=this.mode,n=this.fullCollection;t=t||{fetch:!1};var i=this.state,o=i.firstPage,c=i.currentPage,u=i.lastPage,d=i.pageSize,h=e;switch(e){case"first":h=o;break;case"prev":h=c-1;break;case"next":h=c+1;break;case"last":h=u;break;default:h=P(e,"index")}this.state=this._checkState(a({},i,{currentPage:h})),t.silent||this.trigger("pageable:state:change",this.state),t.from=c,t.to=h;var f=(0===o?h:h-1)*d,g=n&&n.length?n.models.slice(f,f+d):[];return"client"!=r&&("infinite"!=r||l(g))||t.fetch?("infinite"==r&&(t.url=this.links[h]),this.fetch(s(t,"fetch"))):(this.reset(g,s(t,"fetch")),this)},getPageByOffset:function(e,t){if(e<0)throw new RangeError("`offset must be > 0`");e=P(e,"offset");var a=v(e/this.state.pageSize);return 0!==this.state.firstPage&&a++,a>this.state.lastPage&&(a=this.state.lastPage),this.getPage(a,t)},sync:function(e,s,r){var n=this;if("infinite"==n.mode){var i=r.success,o=n.state.currentPage;r.success=function(e,t,s){var l=n.links,c=n.parseLinks(e,a({xhr:s},r));c.first&&(l[n.state.firstPage]=c.first),c.prev&&(l[o-1]=c.prev),c.next&&(l[o+1]=c.next),i&&i(e,t,s)}}return(y.sync||t.sync).call(n,e,s,r)},parseLinks:function(e,t){var a={},s=t.xhr.getResponseHeader("Link");if(s){var r=["first","prev","next"];n(s.split(","),function(e){var t=e.split(";"),s=t[0].replace(S,""),i=t.slice(1);n(i,function(e){var t=e.split("="),n=t[0].replace(C,""),i=t[1].replace(C,"");"rel"==n&&o(r,i)&&(a[i]=s)})})}return a},parse:function(e,t){var s=this.parseState(e,r(this.queryParams),r(this.state),t);return s&&(this.state=this._checkState(a({},this.state,s)),(t||{}).silent||this.trigger("pageable:state:change",this.state)),this.parseRecords(e,t)},parseState:function(t,a,i,o){if(t&&2===t.length&&f(t[0])&&d(t[1])){var l=r(i),h=t[0];return n(c(s(a,"directions")),function(t){var a=t[0],s=t[1],r=h[s];m(r)||e.isNull(r)||(l[a]=h[s])}),h.order&&(l.order=1*u(a.directions)[h.order]),l}},parseRecords:function(e,t){return e&&2===e.length&&f(e[0])&&d(e[1])?e[1]:e},fetch:function(t){t=t||{};var r=this._checkState(this.state),o=this.mode;"infinite"!=o||t.url||(t.url=this.links[r.currentPage]);var l=t.data||{},u=t.url||this.url||"";h(u)&&(u=u.call(this));var f=u.indexOf("?");-1!=f&&(a(l,function(e){for(var t,a,s,r,n={},i=decodeURIComponent,o=e.split("&"),l=0,c=o.length;l<c;l++){var u=o[l];t=u.split("="),a=t[0],null==(s=t[1])&&(s=!0),a=i(a),s=i(s),r=n[a],d(r)?r.push(s):n[a]=r?[r,s]:s}return n}(u.slice(f+1))),u=u.slice(0,f)),t.url=u,t.data=l;var p="client"==this.mode?i(this.queryParams,"sortKey"):s(i(this.queryParams,g(k.queryParams)),"order","directions","totalPages","totalRecords");n(p,function(t,a){t=h(t)?t.call(this):t,null!=r[a]&&null!=t&&e.isUndefined(l[t])&&(l[t]=r[a])},this);var v=h(this.queryParams.sortKey)?this.queryParams.sortKey.call(this):this.queryParams.sortKey,b=h(this.queryParams.order)?this.queryParams.order.call(this):this.queryParams.order;if(null!=v&&null!=r.sortKey&&null!=b&&null!=r.order)if(d(r.order)){l[b]=[];for(var P=0;P<r.order.length;P++)l[b].push(this.queryParams.directions[r.order[P]])}else l[b]=this.queryParams.directions[r.order+""];for(var j=c(s(this.queryParams,g(k.queryParams))),P=0;P<j.length;P++){var C=j[P],S=C[1];null!=(S=h(S)?S.call(this):S)&&(l[C[0]]=S)}if("server"!=o){var R=this,w=this.fullCollection,_=t.success;return t.success=function(e,s,r){r=r||{},m(t.silent)?delete r.silent:r.silent=t.silent;var n=e.models;"client"==o?w.reset(n,r):(w.add(n,a({at:w.length},a(r,{parse:!1}))),R.trigger("reset",R,r)),_&&_(e,s,r)},y.fetch.call(this,a({},t,{silent:!0}))}return y.fetch.call(this,t)},_makeComparator:function(e,t,a){var s=this.state;if(e=e||s.sortKey,t=t||s.order,e&&t)return a||(a=function(e,t){return e.get(t)}),function(s,r){var n,i=a(s,e),o=a(r,e);return 1===t&&(n=i,i=o,o=n),i===o?0:i<o?-1:1}},setSorting:function(e,t,s){var r=this.state;r.sortKey=e,r.order=t=t||r.order;var n=this.fullCollection,i=!1,o=!1;e||(i=o=!0);var l=this.mode;s=a({side:"client"==l?l:"server",full:!0},s);var c=this._makeComparator(e,t,s.sortValue),u=s.full,d=s.side;return"client"==d?u?(n&&(n.comparator=c),i=!0):(this.comparator=c,o=!0):"server"!=d||u||(this.comparator=c),i&&(this.comparator=null),o&&n&&(n.comparator=null),this}}),k=R.prototype;return R}(a(221),a(61))},551:function(e,t,a){"use strict";a(29),a(89);var s=a(0),r=a.n(s),n=a(180),i=a(3),o=a(4),l=a(116),c=new n.a("".concat(o.a.host).concat(o.a.context,"/json"));c.getUmaConfig=function(){return c.serviceCall({url:Object(l.a)("/serverinfo/uma"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){return i.a.globalData.auth.uma=i.a.globalData.auth.uma||{},i.a.globalData.auth.uma.enabled=e.enabled,i.a.globalData.auth.uma.resharingMode=e.resharingMode,e})},c.unshareAllResources=function(){var e=encodeURIComponent(i.a.loggedUser.get("username"));return c.serviceCall({url:Object(l.a)("/users/".concat(e,"/oauth2/resources/sets?_action=revokeAll")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},c.approveRequest=function(e,t){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/uma/pendingrequests/").concat(e,"?_action=approve")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify({scopes:t})})},c.denyRequest=function(e){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/uma/pendingrequests/").concat(e,"?_action=deny")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},c.labels={all:function(){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/oauth2/resources/labels?_queryFilter=true")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},create:function(e,t){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/oauth2/resources/labels?_action=create")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify({name:e,type:t})})},get:function(e){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/oauth2/resources/labels?_queryFilter=true")),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(t){return r.a.find(t.result,{_id:e})})},remove:function(e){return c.serviceCall({url:Object(l.a)("/users/".concat(encodeURIComponent(i.a.loggedUser.get("username")),"/oauth2/resources/labels/").concat(encodeURIComponent(e))),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})}},t.a=c},552:function(e,t,a){"use strict";a(29),a(110),a(35),a(111);var s=a(0),r=a.n(s),n=a(2),i=a.n(n),o=a(61),l=a.n(o),c=a(3),u=a(4),d=a(116),h=a(548),f=l.a.RelationalModel.extend({idAttribute:"policyId",toBeCreated:!0,relations:[{type:l.a.HasMany,key:"permissions",relatedModel:h.a}],parse:function(e){return r.a.isEmpty(e.permissions)||(this.toBeCreated=!1),e},sync:function(e,t,a){return(a=a||{}).beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")},"update"===e.toLowerCase()&&!0===t.toBeCreated&&(t.toBeCreated=!1,a.headers={},a.headers["If-None-Match"]="*"),t.get("permissions").length||(t.toBeCreated=!0),l.a.Model.prototype.sync.call(this,e,t,a)},urlRoot:"".concat(u.a.host).concat(u.a.context,"/json").concat(Object(d.a)("/users/".concat(c.a.loggedUser.get("username"),"/uma/policies")))}),g=a(420);t.a=l.a.RelationalModel.extend({fetch:function(){var e=i.a.Deferred();return l.a.RelationalModel.prototype.fetch.call(this,{success:function(t){e.resolve(t)},error:function(t,a){e.reject(a)}}),e.promise()},idAttribute:"_id",parse:function(e){return e.policy||(e.policy={},e.policy.permissions=[]),e.policy.policyId=e._id,e.scopes=r.a.map(e.scopes,function(e){return{id:e}}),e},relations:[{type:l.a.HasOne,key:"policy",relatedModel:f,parse:!0},{type:l.a.HasMany,key:"scopes",relatedModel:g.a,includeInJSON:l.a.Model.prototype.idAttribute,parse:!0}],toggleStarred:function(e){r.a.includes(this.get("labels"),e)?this.set("labels",r.a.reject(this.get("labels"),function(t){return t===e})):this.get("labels").push(e)},urlRoot:"".concat(u.a.host).concat(u.a.context,"/json").concat(Object(d.a)("/users/".concat(c.a.loggedUser.get("username"),"/oauth2/resources/sets")))})},553:function(e,t,a){"use strict";a(89),a(556);var s=a(2),r=a.n(s),n=a(418);n.a.Extension.ThemeablePaginator=n.a.Extension.Paginator.extend({className:"text-center",controls:{rewind:{label:"&laquo;",title:r.a.t("common.grid.pagination.first")},back:{label:"&lsaquo;",title:r.a.t("common.grid.pagination.previous")},forward:{label:"&rsaquo;",title:r.a.t("common.grid.pagination.next")},fastForward:{label:"&raquo;",title:r.a.t("common.grid.pagination.last")}},ulClassName:"pagination",render:function(){return n.a.Extension.Paginator.prototype.render.call(this),this.ulClassName&&this.$el.find("ul").addClass(this.ulClassName),this}});n.a.Extension.ThemeablePaginator},554:function(e,t,a){"use strict";a(29),a(89),a(90),a(367),a(179),a(112),a(368),a(558);var s=a(0),r=a.n(s),n=a(2),i=a.n(n),o=a(86),l=a(418),c=a(419),u=a(366),d=a(4),h=a(17),f=(a(110),a(84),a(173),a(111),a(69),a(63),a(3)),g=a(28),m={decorateURLWithOverrideRealm:function(e){var t,a,s,r=m.getOverrideRealm();if(r){if(-1!==e.indexOf("realm="))return e;-1!==(a=e.indexOf("#"))&&(s=e.slice(a),e=e.slice(0,a)),t=-1===e.indexOf("?")?"?":"&",e="".concat(e).concat(t,"realm=").concat(r),s&&(e+=s)}return e},decorateURIWithRealm:function(e){return e=m.decorateURIWithSubRealm(e),e=m.decorateURLWithOverrideRealm(e)},decorateURIWithSubRealm:function(e){var t=f.a.globalData,a=t&&t.auth?t.auth.subRealm:"",s=a?"".concat(a,"/"):"";return t&&t.auth&&(void 0===t.auth.subRealm||null===t.auth.subRealm)&&console.warn("Unable to decorate URI, Configuration.globalData.auth.subRealm not yet set"),e=e.replace("__subrealm__/",s)},getRealm:function(){var e=m.getOverrideRealm()||m.getSubRealm();return"/"===e.substring(0,1)?e.substring(1):e},getOverrideRealm:function(){var e=g.a.parseQueryString(g.a.getCurrentQueryString()).realm,t=g.a.parseQueryString(g.a.getCurrentFragmentQueryString()).realm;return e||t},getSubRealm:function(){var e,t=g.a.getCurrentFragment().split("/"),a=t.shift().split("&")[0];return e=a&&r.a.includes(["login","passwordReset","continuePasswordReset","register","continueRegister"],a)?"/"===(e=t.join("/").split("&")[0]).slice(-1)?e.slice(0,-1):e:f.a.globalData.auth.subRealm?f.a.globalData.auth.subRealm:""},encodeRealm:function(e){var t=[],a=e.split("/");return r.a.each(a,function(e){""!==e&&t.push(encodeURIComponent(e))}),"/".concat(t.join("/"))}},p=m,v=new(o.a.extend({template:"user/uma/views/share/ShareCounter",element:"#shareCounter",render:function(e,t){this.data.shareCount=e,this.data.shareInfo=this.getShareInfo(e),this.data.shareIcon=this.getShareIcon(e),this.parentRender(function(){t&&t()})},getShareInfo:function(e){var t=e?{count:e}:{context:"none"};return i.a.t("uma.share.info",t)},getShareIcon:function(e){var t="fa fa-lock";return 1===e?t="fa fa-user":e>1&&(t="fa fa-users"),t}})),b=a(548),y=a(420),P=a(552),j=/[?&]realm=/,C=/\/json\/users\/[^/]+\/uma\/policies/,S=/\/json\/users\/[^/]+\/oauth2\/resourcesets/;i.a.ajaxPrefilter(function(e){(C.test(e.url)||S.test(e.url))&&!j.test(e.url)&&p.getOverrideRealm()&&(e.url=p.decorateURLWithOverrideRealm(e.url))});var R=o.a.extend({initialize:function(){this.parentModel=null},template:"user/uma/views/share/CommonShare",events:{"click input#shareButton":"save"},enableOrDisableShareButton:function(){var e=this.$el.find("#selectUser select")[0].selectize.getValue().length>0,t=this.$el.find("#selectPermission select")[0].selectize.getValue().length>0;this.$el.find("input#shareButton").prop("disabled",!(e&&t))},onParentModelError:function(e,t){console.error("Unrecoverable load failure UMAResourceSetWithPolicy. ".concat(t.responseJSON.code," (").concat(t.responseJSON.reason,") ").concat(t.responseJSON.message))},onParentModelSync:function(e){e.get("policy").set("policyId",this.parentModel.id),this.render()},syncParentModel:function(e){var t=!this.parentModel||e&&this.parentModel.id!==e;return t&&(this.stopListening(this.parentModel),this.parentModel=P.a.findOrCreate({_id:e}),this.listenTo(this.parentModel,"sync",this.onParentModelSync),this.listenTo(this.parentModel,"error",this.onParentModelError),this.parentModel.fetch()),t},renderDialog:function(e,t){var a=this,s=i()("<div></div>"),r=e._id||e,n={type:u.a.TYPE_PRIMARY,title:i.a.t("uma.share.shareResource"),size:u.a.SIZE_WIDE,cssClass:"shareDialog",message:s,buttons:[{label:i.a.t("common.form.close"),cssClass:"btn-default",action:function(e){e.close()}}],onshow:function(){a.element=s,a.render(r,t)},onshown:function(){a.renderShareCounter(t)}};this.toBeCreated=e.toBeCreated,this.afterShare=e.share,u.a.show(n)},render:function(e,t){var a=this;if(e instanceof Array&&(e=e[0]),!this.syncParentModel(e)){this.data={},this.data.name=this.parentModel.get("name"),this.data.icon=this.parentModel.get("icon_uri"),this.data.scopes=this.parentModel.get("scopes").toJSON();var s=this.parentModel.get("policy").get("permissions");this.data.permissions=s.toJSON();var r=new l.a.Grid({columns:[{name:"subject",label:i.a.t("uma.resources.show.grid.0"),cell:"string",editable:!1,headerCell:c.a.ClassHeaderCell.extend({className:"col-md-6"})},{name:"scopes",label:i.a.t("uma.resources.show.grid.2"),cell:l.a.Cell.extend({render:function(){var e=this.model.get("scopes").pluck("name").join(", ");return this.$el.empty(),this.$el.append(e),this.delegateEvents(),this}}),editable:!1,headerCell:c.a.ClassHeaderCell.extend({className:"col-md-6"})}],collection:s,emptyText:i.a.t("console.common.noResults"),className:"backgrid table"});this.parentRender(function(){a.renderUserOptions(),a.renderPermissionOptions(),a.renderShareCounter(t),a.$el.find("#advancedView").append(r.render().el),a.$el.find("#umaShareImage img").error(function(){i()(this).parent().addClass("fa-file-image-o no-image")})})}},renderPermissionOptions:function(){var e=this;this.$el.find("#selectPermission select").selectize({plugins:["restore_on_backspace"],delimiter:!1,persist:!1,create:!1,hideSelected:!0,onChange:function(){e.enableOrDisableShareButton()}})},renderUserOptions:function(){var e=this;this.$el.find("#selectUser select").selectize({addPrecedence:!0,create:!0,onChange:function(t){var a,s=e.parentModel.get("policy").get("permissions").findWhere({subject:t}),r=e.$el.find("#selectPermission select");s&&(a=s.get("scopes").pluck("name"),r[0].selectize.focus(),r[0].selectize.setValue(a)),e.enableOrDisableShareButton()}})},reset:function(){this.$el.find("#selectUser select")[0].selectize.clear(),this.$el.find("#selectPermission select")[0].selectize.clear(),this.$el.find("input#shareButton").prop("disabled",!0),this.renderShareCounter()},save:function(){var e=this,t=this.parentModel.get("policy").get("permissions"),a=this.$el.find("#selectUser select")[0].selectize.getValue(),s=r.a.each(this.$el.find("#selectPermission select")[0].selectize.getValue(),function(e){return y.a.find({id:e})}),n=[];r.a.forEach(a,function(e){var a=b.a.findOrCreate({subject:e,scopes:s});t.add(a),n.push(a)});var i=this.parentModel.get("policy");this.toBeCreated&&(i.toBeCreated=this.toBeCreated),i.save().then(function(){h.a.sendEvent(d.a.EVENT_DISPLAY_MESSAGE_REQUEST,"policyCreatedSuccess"),e.reset()},function(e){e.status&&500===e.status&&r.a.forEach(n,function(e){t.remove(e)}),h.a.sendEvent(d.a.EVENT_DISPLAY_MESSAGE_REQUEST,"policyCreatedFail")}).always(function(){e.toBeCreated=!1,e.afterShare&&e.afterShare()})},renderShareCounter:function(e){var t=this.parentModel.get("policy"),a=t?t.get("permissions").length:0;v.render(a,e)}});t.a=R},555:function(e,t,a){var s={"./af":421,"./af.js":421,"./ar":422,"./ar-dz":423,"./ar-dz.js":423,"./ar-kw":424,"./ar-kw.js":424,"./ar-ly":425,"./ar-ly.js":425,"./ar-ma":426,"./ar-ma.js":426,"./ar-sa":427,"./ar-sa.js":427,"./ar-tn":428,"./ar-tn.js":428,"./ar.js":422,"./az":429,"./az.js":429,"./be":430,"./be.js":430,"./bg":431,"./bg.js":431,"./bm":432,"./bm.js":432,"./bn":433,"./bn.js":433,"./bo":434,"./bo.js":434,"./br":435,"./br.js":435,"./bs":436,"./bs.js":436,"./ca":437,"./ca.js":437,"./cs":438,"./cs.js":438,"./cv":439,"./cv.js":439,"./cy":440,"./cy.js":440,"./da":441,"./da.js":441,"./de":442,"./de-at":443,"./de-at.js":443,"./de-ch":444,"./de-ch.js":444,"./de.js":442,"./dv":445,"./dv.js":445,"./el":446,"./el.js":446,"./en-SG":447,"./en-SG.js":447,"./en-au":448,"./en-au.js":448,"./en-ca":449,"./en-ca.js":449,"./en-gb":450,"./en-gb.js":450,"./en-ie":451,"./en-ie.js":451,"./en-il":452,"./en-il.js":452,"./en-nz":453,"./en-nz.js":453,"./eo":454,"./eo.js":454,"./es":455,"./es-do":456,"./es-do.js":456,"./es-us":457,"./es-us.js":457,"./es.js":455,"./et":458,"./et.js":458,"./eu":459,"./eu.js":459,"./fa":460,"./fa.js":460,"./fi":461,"./fi.js":461,"./fo":462,"./fo.js":462,"./fr":463,"./fr-ca":464,"./fr-ca.js":464,"./fr-ch":465,"./fr-ch.js":465,"./fr.js":463,"./fy":466,"./fy.js":466,"./ga":467,"./ga.js":467,"./gd":468,"./gd.js":468,"./gl":469,"./gl.js":469,"./gom-latn":470,"./gom-latn.js":470,"./gu":471,"./gu.js":471,"./he":472,"./he.js":472,"./hi":473,"./hi.js":473,"./hr":474,"./hr.js":474,"./hu":475,"./hu.js":475,"./hy-am":476,"./hy-am.js":476,"./id":477,"./id.js":477,"./is":478,"./is.js":478,"./it":479,"./it-ch":480,"./it-ch.js":480,"./it.js":479,"./ja":481,"./ja.js":481,"./jv":482,"./jv.js":482,"./ka":483,"./ka.js":483,"./kk":484,"./kk.js":484,"./km":485,"./km.js":485,"./kn":486,"./kn.js":486,"./ko":487,"./ko.js":487,"./ku":488,"./ku.js":488,"./ky":489,"./ky.js":489,"./lb":490,"./lb.js":490,"./lo":491,"./lo.js":491,"./lt":492,"./lt.js":492,"./lv":493,"./lv.js":493,"./me":494,"./me.js":494,"./mi":495,"./mi.js":495,"./mk":496,"./mk.js":496,"./ml":497,"./ml.js":497,"./mn":498,"./mn.js":498,"./mr":499,"./mr.js":499,"./ms":500,"./ms-my":501,"./ms-my.js":501,"./ms.js":500,"./mt":502,"./mt.js":502,"./my":503,"./my.js":503,"./nb":504,"./nb.js":504,"./ne":505,"./ne.js":505,"./nl":506,"./nl-be":507,"./nl-be.js":507,"./nl.js":506,"./nn":508,"./nn.js":508,"./pa-in":509,"./pa-in.js":509,"./pl":510,"./pl.js":510,"./pt":511,"./pt-br":512,"./pt-br.js":512,"./pt.js":511,"./ro":513,"./ro.js":513,"./ru":514,"./ru.js":514,"./sd":515,"./sd.js":515,"./se":516,"./se.js":516,"./si":517,"./si.js":517,"./sk":518,"./sk.js":518,"./sl":519,"./sl.js":519,"./sq":520,"./sq.js":520,"./sr":521,"./sr-cyrl":522,"./sr-cyrl.js":522,"./sr.js":521,"./ss":523,"./ss.js":523,"./sv":524,"./sv.js":524,"./sw":525,"./sw.js":525,"./ta":526,"./ta.js":526,"./te":527,"./te.js":527,"./tet":528,"./tet.js":528,"./tg":529,"./tg.js":529,"./th":530,"./th.js":530,"./tl-ph":531,"./tl-ph.js":531,"./tlh":532,"./tlh.js":532,"./tr":533,"./tr.js":533,"./tzl":534,"./tzl.js":534,"./tzm":535,"./tzm-latn":536,"./tzm-latn.js":536,"./tzm.js":535,"./ug-cn":537,"./ug-cn.js":537,"./uk":538,"./uk.js":538,"./ur":539,"./ur.js":539,"./uz":540,"./uz-latn":541,"./uz-latn.js":541,"./uz.js":540,"./vi":542,"./vi.js":542,"./x-pseudo":543,"./x-pseudo.js":543,"./yo":544,"./yo.js":544,"./zh-cn":545,"./zh-cn.js":545,"./zh-hk":546,"./zh-hk.js":546,"./zh-tw":547,"./zh-tw.js":547};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=555},556:function(e,t,a){
/*
  backgrid-paginator
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
e.exports=function(e,t,a){"use strict";var s=a.Extension.PageHandle=t.View.extend({tagName:"li",events:{"click a":"changePage"},title:function(e){return"Page "+e.label},isRewind:!1,isBack:!1,isForward:!1,isFastForward:!1,initialize:function(t){var a,s=this.collection,r=s.state,n=r.currentPage,i=r.firstPage,o=r.lastPage;e.extend(this,e.pick(t,["isRewind","isBack","isForward","isFastForward"])),this.isRewind?a=i:this.isBack?a=Math.max(i,n-1):this.isForward?a=Math.min(o,n+1):this.isFastForward?a=o:(a=+t.pageIndex,a=i?a+1:a),this.pageIndex=a,this.label=(t.label||(i?a:a+1))+"";var l=t.title||this.title;this.title=e.isFunction(l)?l({label:this.label}):l},render:function(){this.$el.empty();var e=document.createElement("a");e.href="#",this.title&&(e.title=this.title),e.innerHTML=this.label,this.el.appendChild(e);var t=this.collection,a=t.state,s=a.currentPage,r=this.pageIndex;return this.isRewind&&s==a.firstPage||this.isBack&&!t.hasPreviousPage()||this.isForward&&!t.hasNextPage()||this.isFastForward&&(s==a.lastPage||a.totalPages<1)?this.$el.addClass("disabled"):this.isRewind||this.isBack||this.isForward||this.isFastForward||a.currentPage!=r||this.$el.addClass("active"),this.delegateEvents(),this},changePage:function(e){e.preventDefault();var t=this.$el,a=this.collection;return t.hasClass("active")||t.hasClass("disabled")||(this.isRewind?a.getFirstPage({reset:!0}):this.isBack?a.getPreviousPage({reset:!0}):this.isForward?a.getNextPage({reset:!0}):this.isFastForward?a.getLastPage({reset:!0}):a.getPage(this.pageIndex,{reset:!0})),this}}),r=a.Extension.Paginator=t.View.extend({className:"backgrid-paginator",windowSize:10,slideScale:.5,controls:{rewind:{label:"《",title:"First"},back:{label:"〈",title:"Previous"},forward:{label:"〉",title:"Next"},fastForward:{label:"》",title:"Last"}},renderIndexedPageHandles:!0,renderMultiplePagesOnly:!1,pageHandle:s,goBackFirstOnSort:!0,initialize:function(t){var a=this;a.controls=e.defaults(t.controls||{},a.controls,r.prototype.controls),e.extend(a,e.pick(t||{},"windowSize","pageHandle","slideScale","goBackFirstOnSort","renderIndexedPageHandles","renderMultiplePagesOnly"));var s=a.collection;a.listenTo(s,"add",a.render),a.listenTo(s,"remove",a.render),a.listenTo(s,"reset",a.render),a.listenTo(s,"backgrid:sorted",function(){a.goBackFirstOnSort&&s.state.currentPage!==s.state.firstPage&&s.getFirstPage({reset:!0})})},slideMaybe:function(e,t,a,s,r){return Math.round(a%s/s)},slideThisMuch:function(e,t,a,s,r){return~~(s*r)},_calculateWindow:function(){var e=this.collection,t=e.state,a=t.firstPage,s=+t.lastPage;s=Math.max(0,a?s-1:s);var r=Math.max(t.currentPage,t.firstPage);r=a?r-1:r;var n=this.windowSize,i=this.slideScale,o=Math.floor(r/n)*n;r<=s-this.slideThisMuch()&&(o+=this.slideMaybe(a,s,r,n,i)*this.slideThisMuch(a,s,r,n,i));var l=Math.min(s+1,o+n);return[o,l]},makeHandles:function(){var t=[],a=this.collection,s=this._calculateWindow(),r=s[0],n=s[1];if(this.renderIndexedPageHandles)for(var i=r;i<n;i++)t.push(new this.pageHandle({collection:a,pageIndex:i}));var o=this.controls;return e.each(["back","rewind","forward","fastForward"],function(e){var s=o[e];if(s){var r={collection:a,title:s.title,label:s.label};r["is"+e.slice(0,1).toUpperCase()+e.slice(1)]=!0;var n=new this.pageHandle(r);"rewind"==e||"back"==e?t.unshift(n):t.push(n)}},this),t},render:function(){this.$el.empty();var e=this.collection.state.totalPages;if(this.renderMultiplePagesOnly&&e<=1)return this;if(this.handles)for(var t=0,a=this.handles.length;t<a;t++)this.handles[t].remove();for(var s=this.handles=this.makeHandles(),r=document.createElement("ul"),t=0;t<s.length;t++)r.appendChild(s[t].render().el);return this.el.appendChild(r),this}})}(a(221),a(61),a(550),a(549))},560:function(e,t,a){"use strict";a(29),a(89),a(35),a(549),a(553);var s=a(2),r=a.n(s),n=a(61),i=a.n(n),o=a(86),l=a(418),c=a(419),u=a(554),d=a(3),h=a(4),f=a(116),g=o.a.extend({createCollection:function(e,t){var a=this;return i.a.PageableCollection.extend({url:"".concat(h.a.context,"/json").concat(e),queryParams:c.a.getQueryParams({_sortKeys:c.a.sortKeys,_queryFilter:t,_pagedResultsOffset:c.a.pagedResultsOffset}),state:c.a.getState(),parseState:c.a.parseState,parseRecords:function(e){return e.result.length&&a.recordsPresent(),e.result},sync:c.a.sync})},createLabelCollection:function(e){var t=[];return e&&t.push('labels eq "'.concat(e,'"')),this.createCollection(Object(f.a)("/users/".concat(d.a.loggedUser.get("username"),"/oauth2/resources/sets")),t.map(encodeURIComponent))},createSetCollection:function(e){var t=['resourceOwnerId eq "'.concat(d.a.loggedUser.get("username"),'"')];return e&&(t[0]="! ".concat(t[0])),this.createCollection(Object(f.a)("/users/".concat(d.a.loggedUser.get("username"),"/oauth2/resources/sets")),t.map(encodeURIComponent))},createColumns:function(e){return[{name:"name",label:r.a.t("uma.resources.grid.header.0"),cell:c.a.UriExtCell,headerCell:c.a.FilterHeaderCell,href:function(t,a,s){return"#uma/resources/".concat(e,"/").concat(s.get("_id"))},editable:!1},{name:"resourceServer",label:r.a.t("uma.resources.grid.header.1"),cell:"string",editable:!1,headerCell:c.a.ClassHeaderCell},{name:"type",label:r.a.t("uma.resources.grid.header.2"),cell:"string",headerCell:c.a.ClassHeaderCell,editable:!1},{name:"share",label:r.a.t("uma.resources.grid.header.3"),cell:l.a.Cell.extend({className:"fr-col-btn-1 fa fa-share",events:{click:"share"},share:function(){var e=this;(new u.a).renderDialog({_id:this.model.get("_id"),toBeCreated:this.model.toBeCreated,share:function(){e.model.toBeCreated=!1}})},render:function(){return this.$el.attr({title:r.a.t("uma.share.shareResource")}),this.delegateEvents(),this}}),editable:!1,sortable:!1,headerCell:c.a.ClassHeaderCell}]},recordsPresent:function(){},renderGrid:function(e,t,a){var s=this;this.data.collection=new e,this.data.collection.on("backgrid:sort",c.a.doubleSortFix);var n=new l.a.Grid({columns:t,className:"backgrid table",collection:this.data.collection,emptyText:r.a.t("console.common.noResults")}),i=new l.a.Extension.ThemeablePaginator({collection:this.data.collection,windowSize:3});this.parentRender(function(){s.$el.find(".table-container").append(n.render().el),s.$el.find(".panel-body").append(i.render().el),s.data.collection.fetch({reset:!0,processData:!1}).then(function(){a&&a()})})}});t.a=g},649:function(e,t,a){"use strict";a.r(t);a(89),a(181),a(179),a(112);var s=a(0),r=a.n(s),n=a(2),i=a.n(n),o=a(560),l=a(366),c=a(4),u=a(17),d=a(551),h=o.a.extend({template:"user/uma/views/resource/MyResourcesPageTemplate",partials:{"uma/_UnshareAllResourcesButton":"uma/_UnshareAllResourcesButton"},events:{"click button#unshareAllResources":"unshareAllResources"},recordsPresent:function(){this.$el.find("button#unshareAllResources").prop("disabled",!1)},render:function(e,t){this.data.labelId=e[1],this.data.topLevel=""===e[1],this.renderResources(t)},renderResources:function(e){var t=this;this.data.topLevel?this.renderGrid(this.createSetCollection(),this.createColumns("myresources/all"),e):d.a.labels.get(this.data.labelId).then(function(a){var s=t.createColumns("myresources/".concat(encodeURIComponent(a.id)));s.splice(1,1),t.data.labelName=a.name,t.renderGrid(t.createLabelCollection(t.data.labelId),s,e)})},unshareAllResources:function(){var e=this,t=[{label:i.a.t("common.form.cancel"),action:function(e){e.close()}},{id:"ok",label:i.a.t("common.form.ok"),cssClass:"btn-primary btn-danger",action:function(t){t.enableButtons(!1),t.getButton("ok").text(i.a.t("common.form.working")),d.a.unshareAllResources().then(function(){e.renderResources(function(){r.a.forEach(e.data.collection.models,function(e){e.toBeCreated=!0}),u.a.sendEvent(c.a.EVENT_DISPLAY_MESSAGE_REQUEST,"unshareAllResourcesSuccess"),t.close()})},function(){u.a.sendEvent(c.a.EVENT_DISPLAY_MESSAGE_REQUEST,"unshareAllResourcesFail"),t.enableButtons(!0),t.getButton("ok").text(i.a.t("common.form.ok"))})}}];l.a.show({type:l.a.TYPE_DANGER,title:i.a.t("uma.resources.myresources.unshareAllResources.dialog.title"),message:i.a.t("uma.resources.myresources.unshareAllResources.dialog.message"),closable:!1,buttons:t})}});t.default=h}}]);
//# sourceMappingURL=101.247ffd20c1.js.map